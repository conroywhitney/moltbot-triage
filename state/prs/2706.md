---
number: 2706
title: "feat(exec): add tools.exec.pty config option"
author: hardikmer
created: 2026-01-27T09:47:46Z
updated: 2026-01-29T05:12:00Z
labels: ["docs", "agents"]
additions: 38
deletions: 2
changed_files: 7
size: small
review_decision: none
reviews: []
comments_count: 1
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/moltbot/moltbot/pull/2706
fixes_issues: [2644]
related_prs: [2644]
duplicate_of: null
---

## Description

## Summary

Add `tools.exec.pty` config option to enable PTY mode by default for exec commands. This resolves issues where commands hang indefinitely without a TTY.

- Add `pty?: boolean` to `ExecToolConfig` type
- Add zod validation for global and per-agent config
- Wire config through `resolveExecConfig` and `createExecTool`
- Update PTY logic to use `(params.pty ?? defaults?.pty)`
- Add tests for default behavior and param override
- Document in `docs/tools/exec.md`

## Config Example

```json
{
  "tools": {
    "exec": {
      "pty": true
    }
  }
}
```

## Test Plan

- [x] `pnpm build` passes
- [x] `pnpm lint` passes (0 warnings, 0 errors)
- [x] `pnpm test` passes (4710 tests)
- [x] New tests added for:
  - Default PTY from config
  - Param override of default

Closes #2644

## Reviews


## Comments

### @chatgpt-codex-connector (2026-01-29)

To use Codex here, [create a Codex account and connect to github](https://chatgpt.com/codex/settings/connectors).


## Stats

- **Size:** small (38+, 2-, 7 files)
- **Age:** 2 days
- **Last activity:** 2026-01-29

## Links

- Fixes: #2644
