---
number: 7528
title: "feat: Adds slash command suggestions to chat"
author: JohnnyD1776
created: 2026-02-02T23:03:39Z
updated: 2026-02-02T23:51:37Z
labels: ["app: web-ui"]
additions: 328
deletions: 12
changed_files: 9
size: large
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 1
reactions_total: 1
ci_status: failing
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/7528
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Implements slash command suggestions in the chat input, showing available commands as the user types.

Adds command history navigation using arrow keys for quick access to previous commands.

AI: Assisted Development
Testing: Unit test Added and Tested in live environment build.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

Adds chat slash-command suggestions UI (new command registry + dropdown styling) and introduces command history persistence in UI settings, with ArrowUp/ArrowDown navigation in the chat textarea.

Changes flow through the existing `OpenClawApp` state → `renderApp` → `renderChat` props pipeline: `UiSettings.chatCommandHistory` is loaded from localStorage, exposed on `AppViewState`, and then used by `ui/src/ui/views/chat.ts` to render suggestions and implement history navigation while composing.

<h3>Confidence Score: 3/5</h3>

- Generally safe to merge, with a few UX/accessibility pitfalls worth fixing before shipping broadly.
- Changes are localized to the UI chat view and settings persistence, and the logic is straightforward. Main concerns are user-facing behavior issues (suggestions disappearing when arguments are typed, history navigation clobbering drafts / stealing caret movement) and some minor robustness/a11y semantics gaps. I couldn’t run tests in this environment (no node/pnpm), so confidence is moderate.
- ui/src/ui/views/chat.ts (history navigation + suggestion behavior); ui/src/ui/app-chat.ts (history write timing); ui/src/ui/storage.ts (settings validation)

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

**Context used:**

- Context from `dashboard` - CLAUDE.md ([source](https://app.greptile.com/review/custom-context?memory=fd949e91-5c3a-4ab5-90a1-cbe184fd6ce8))
- Context from `dashboard` - AGENTS.md ([source](https://app.greptile.com/review/custom-context?memory=0d0c8278-ef8e-4d6c-ab21-f5527e322f13))

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-02-02)

<sub>3 files reviewed, 7 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @greptile-apps (2026-02-02)

<details>
<summary>Additional Comments (1)</summary>

**`ui/src/ui/storage.ts`**
[P2] `navGroupsCollapsed` accepts any object (incl. arrays) without value-type validation

The loader only checks `typeof parsed.navGroupsCollapsed === "object"`, which will accept arrays and objects with non-boolean values. This can lead to odd UI state if localStorage is corrupted. Consider validating it’s a plain object and that all values are booleans (similar to how `chatCommandHistory` is validated).

<details><summary>Prompt To Fix With AI</summary>

`````markdown
This is a comment left during a code review.
Path: ui/src/ui/storage.ts
Line: 78:86

Comment:
[P2] `navGroupsCollapsed` accepts any object (incl. arrays) without value-type validation

The loader only checks `typeof parsed.navGroupsCollapsed === "object"`, which will accept arrays and objects with non-boolean values. This can lead to odd UI state if localStorage is corrupted. Consider validating it’s a plain object and that all values are booleans (similar to how `chatCommandHistory` is validated).

How can I resolve this? If you propose a fix, please make it concise.
`````
</details>
</details>


## Stats

- **Size:** large (328+, 12-, 9 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
