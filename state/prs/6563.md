---
number: 6563
title: "CRASH FIX in CLI runner: route null‑byte prompts via stdin to prevent argv crash"
author: pkrmf
created: 2026-02-01T20:08:51Z
updated: 2026-02-01T22:53:11Z
labels: ["agents"]
additions: 33
deletions: 0
changed_files: 2
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/6563
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

- What: Detect \^@ in CLI prompts and send those prompts via stdin instead of argv.
- Why: Slack voice messages can include null bytes; Node rejects argv strings with \0, which crashes the cli‑runner.
- How: Add a null‑byte guard in resolvePromptInput and a regression test in claude-cli-runner.test.ts.


Testing

- new unit test added: claude-cli-runner.test.ts

AI‑assisted

- Yes (Codex). I reviewed and understand the change.

## Reviews


## Comments


## Stats

- **Size:** small (33+, 0-, 2 files)
- **Age:** 1 days
- **Last activity:** 2026-02-01

## Links

- Fixes: (none detected)
