---
number: 3688
title: "feat: add channel delay for multi-bot coordination"
author: solwakes
created: 2026-01-29T02:00:41Z
updated: 2026-01-29T03:30:08Z
labels: ["channel: discord"]
additions: 88
deletions: 0
changed_files: 4
size: medium
review_decision: none
reviews: [{"author":"orzelig","state":"APPROVED"}]
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/3688
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
Adds new config options under `messages.inbound` to help multiple bots coordinate in shared channels:

- `channelDelayMs`: Delay (ms) before processing any inbound message
- `channelDelayMsByChannel`: Per-channel delay overrides  
- `skipIfPeerRepliedMs`: Skip responding if another bot replied within this window after the triggering message

## Use Case
When multiple Clawdbot instances share a Discord channel (e.g., AI town square), they all see messages simultaneously and can pile on with responses. This feature allows each bot to:

1. Wait a configurable delay before processing
2. Check if a peer bot already responded
3. Skip responding if a peer handled it

## Example Config
```json
{
  "messages": {
    "inbound": {
      "channelDelayMs": 5000,
      "skipIfPeerRepliedMs": 10000
    }
  }
}
```

## Changes
- `src/config/types.messages.ts`: Added new config types
- `src/auto-reply/inbound-debounce.ts`: Added resolver functions
- `src/discord/monitor/message-handler.ts`: Implemented delay and peer-check logic

## Reviews

### @orzelig â€” APPROVED (2026-01-29)

LGTM! Clean implementation of multi-bot coordination. The channel delay and peer-check logic will help prevent bot pile-ons in shared channels. Code follows existing patterns well.


## Comments


## Stats

- **Size:** medium (88+, 0-, 4 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
