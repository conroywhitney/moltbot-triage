---
number: 5687
title: "fix: prevent signal group id lowercasing (breaks base64)"
author: n0valis
created: 2026-01-31T21:00:01Z
updated: 2026-01-31T21:01:00Z
labels: []
additions: 1
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 0
reactions_total: 2
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/5687
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

The normalizeSignalMessagingTarget function incorrectly lowercases Signal group IDs. Signal group IDs are Base64 strings and are case-sensitive. Lowercasing them (.toLowerCase()) corrupts the ID (e.g. ...KKnM= becomes ...kknm=), causing "Group not found" errors when sending/reacting.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR fixes `normalizeSignalMessagingTarget` so Signal group IDs aren’t lowercased. Since Signal group IDs are Base64 and case-sensitive, lowercasing would corrupt the ID and lead to “Group not found” errors when sending/reacting via signal-cli.

The change is localized to the Signal target normalization plugin (`src/channels/plugins/normalize/signal.ts`) and preserves the original group ID casing while still allowing case-insensitive parsing of the `group:` prefix.

<h3>Confidence Score: 5/5</h3>

- This PR is safe to merge and narrowly fixes a real normalization bug without affecting unrelated behavior.
- The diff removes a single `.toLowerCase()` that was provably corrupting case-sensitive Base64 group IDs while leaving the existing case-insensitive prefix detection intact; the change is small, local, and aligns with the stated bug.
- No files require special attention

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-01-31)

<sub>No files reviewed, no comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments


## Stats

- **Size:** tiny (1+, 1-, 1 files)
- **Age:** 2 days
- **Last activity:** 2026-01-31

## Links

- Fixes: (none detected)
