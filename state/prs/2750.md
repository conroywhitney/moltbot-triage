---
number: 2750
title: "feat(cli): add gateway wake command"
author: kephail
created: 2026-01-27T12:32:28Z
updated: 2026-01-28T23:25:11Z
labels: ["cli"]
additions: 24
deletions: 0
changed_files: 1
size: small
review_decision: none
reviews: []
comments_count: 1
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2750
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Adds `clawdbot gateway wake` CLI command to send wake events from the terminal.

## Motivation

Currently, the `cron.wake` action works internally via the agent tool interface, but there's no CLI equivalent. This makes it difficult for external processes (like Claude Code, scripts, or other automation) to wake the agent without going through the agent.

This PR adds the missing CLI command.

## Usage

```bash
# Wake immediately with custom text
clawdbot gateway wake --text 'Background task finished' --mode now

# Wake on next heartbeat
clawdbot gateway wake --text 'Check this out' --mode next-heartbeat

# With JSON output
clawdbot gateway wake --text 'Test' --json
```

## Options

- `--text <text>`: Wake event text (injected as system event, default: 'Wake event')
- `--mode <mode>`: Wake mode: 'now' (immediate) or 'next-heartbeat' (default: 'now')
- Standard gateway call options (`--url`, `--token`, `--password`, `--timeout`, `--json`)

## Testing

Tested locally against a running gateway:
```
$ node dist/entry.js gateway wake --text 'Test wake from local dev build' --mode now
Gateway Wake
OK · mode: now · text: "Test wake from local dev build"
```

The wake event was successfully delivered and triggered agent processing.

## Reviews


## Comments

### @kephail (2026-01-27)

Note: CI failures are unrelated to this PR. They're caused by the existing lockfile issue (#2745) where `extensions/memory-core` references `moltbot@>=2026.1.26` but the lockfile has the old `clawdbot` name.

Main branch is also failing with the same error:
```
ERR_PNPM_OUTDATED_LOCKFILE: specifiers in the lockfile don't match specifiers in package.json
* 1 dependencies were added: moltbot@>=2026.1.26
* 1 dependencies were removed: clawdbot@>=2026.1.24-3
```

The actual code change (24 lines in `register.ts`) is straightforward and tested locally.


## Stats

- **Size:** small (24+, 0-, 1 files)
- **Age:** 3 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
