---
number: 3752
title: "feat(ui): add drag-and-drop and file picker for image attachments"
author: daveonkels
created: 2026-01-29T04:12:27Z
updated: 2026-01-29T04:12:37Z
labels: ["app: web-ui"]
additions: 130
deletions: 5
changed_files: 3
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/3752
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Add two intuitive ways to attach images to chat messages:
1. **Drag-and-drop** - Drag images onto the compose area (shows dashed outline feedback)
2. **File picker button** - Click the paperclip icon to open native file picker

Existing clipboard paste functionality remains unchanged.

## Changes

- Add `handleDragOver`, `handleDragLeave`, `handleDrop` event handlers
- Add shared `processFiles()` helper for consistent file handling
- Add hidden `<input type="file">` with paperclip label button
- Add `.chat-compose--drag-over` visual feedback style
- Add `.chat-compose__attach` button styling
- Add test case for file input rendering

## Files Changed

- `ui/src/ui/views/chat.ts` - New handlers + file input element
- `ui/src/styles/chat/layout.css` - Drag-over and button styles
- `ui/src/ui/views/chat.test.ts` - Test for file input

## Testing

- [x] Drag image onto compose area â†’ visual feedback appears
- [x] Drop image â†’ appears in attachment preview
- [x] Click paperclip â†’ file picker opens
- [x] Select images â†’ appear in preview
- [x] Multiple images work
- [x] Existing paste still works
- [x] CI passes (lint, format, build)

ðŸ¤– AI-assisted (Claude Code)

## Reviews


## Comments


## Stats

- **Size:** medium (130+, 5-, 3 files)
- **Age:** 1 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
