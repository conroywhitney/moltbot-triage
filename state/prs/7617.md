---
number: 7617
title: "fix: resolve punycode deprecation warning via pnpm override"
author: whoknowsmann
created: 2026-02-03T01:30:20Z
updated: 2026-02-03T01:31:06Z
labels: []
additions: 20
deletions: 13
changed_files: 2
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 2
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/7617
fixes_issues: [7551]
related_prs: [7551]
duplicate_of: null
---

## Description

## Summary

Adds `whatwg-url@^14.0.0` to pnpm overrides to eliminate the Node.js DEP0040 deprecation warning that appears on every CLI invocation.

## Problem

Every OpenClaw command shows:
```
(node:36930) [DEP0040] DeprecationWarning: The punycode module is deprecated. Please use a userland alternative instead.
```

This is caused by outdated transitive dependencies (`tr46`, `whatwg-url`) that still use the deprecated Node.js built-in `punycode` module.

## Solution

Override `whatwg-url` to `^14.0.0` which uses the userland `punycode.js` package instead of the deprecated Node.js built-in.

This is safe because:
- OpenClaw already requires Node.js ≥22.12.0, and whatwg-url@14.0.0 requires Node.js ≥18
- The high-level URL parsing API remains unchanged
- This is the standard ecosystem fix for punycode deprecation

Fixes #7551

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR adds a `pnpm.overrides` entry for `whatwg-url@^14.0.0` to eliminate the Node.js DEP0040 `punycode` deprecation warning emitted by outdated transitive dependencies. As a result, the lockfile updates `whatwg-url` (and its transitive deps `tr46` and `webidl-conversions`) to modern versions compatible with the repo’s Node >=22 engine requirement, keeping CLI output clean while preserving the same high-level URL parsing behavior used by dependencies like `node-fetch`.

<h3>Confidence Score: 5/5</h3>

- This PR is safe to merge with minimal risk.
- The change is limited to a pnpm override and corresponding lockfile resolution updates; the overridden packages are runtime-compatible with the repo’s Node >=22 requirement and no code paths are modified.
- No files require special attention

<!-- greptile_other_comments_section -->

<sub>(4/5) You can add custom instructions or style guidelines for the agent [here](https://app.greptile.com/review/github)!</sub>

<!-- /greptile_comment -->

## Reviews


## Comments


## Stats

- **Size:** small (20+, 13-, 2 files)
- **Age:** 0 days
- **Last activity:** 2026-02-03

## Links

- Fixes: #7551
