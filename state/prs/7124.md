---
number: 7124
title: "feat: Add password toggle visibility to all platforms"
author: gibtang
created: 2026-02-02T12:28:38Z
updated: 2026-02-03T01:12:37Z
labels: ["app: web-ui"]
additions: 1485
deletions: 21
changed_files: 12
size: huge
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 3
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/7124
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
- Add eye icon toggle buttons to all password inputs across the UI
- Improves UX by allowing users to reveal sensitive text when needed
- Consistent implementation across Node config, Skills, and Overview pages

## Changes
- **Icons** (`ui/src/ui/icons.ts`): Added shared `eye` icon for reuse
- **Node Config** (`ui/src/ui/views/config-form.node.ts`): Added password toggle using shared eye icon (removed duplicate local definition)
- **Skills Page** (`ui/src/ui/views/skills.ts`): Added password toggle to API key inputs
- **Overview Page** (`ui/src/ui/views/overview.ts`): Added password toggle to gateway password field
- **Styles** (`ui/src/styles/config.css`): CSS for `.cfg-input__toggle` button

## Test plan
- [x] Test password toggle on Node config form
- [x] Test password toggle on Skills page API key fields
- [x] Test password toggle on Overview page password field
- [x] Verify toggle works in both light and dark themes
- [x] Verify button is properly aligned and styled
- [x] Fix: Removed duplicate eye icon, now using shared icon from icons.ts
- [x] Refactor: Replaced DOM ID lookups with sibling traversal for better maintainability

## Review Feedback Addressed
- **Icon duplication** (Commit ff81e47d8): Removed local `eye` SVG from `config-form.node.ts`, now using shared icon from `ui/src/ui/icons.ts`
- **DOM lookup pattern** (Commit eb5c09ae8): Replaced `document.getElementById()` with DOM sibling traversal using `e.currentTarget` and `parentElement.querySelector()`

### Benefits of DOM sibling traversal:
- âœ… No ID collisions or global ID namespace pollution
- âœ… Maintains encapsulation (button only knows about its sibling)
- âœ… Works for single instances and lists without unique IDs
- âœ… DOM structure changes don't break functionality
- âœ… More maintainable and testable

All review feedback has been addressed. Thanks for the excellent review!

ðŸ¤– Generated with [Claude Code](https://claude.ai/code)
via [Happy](https://happy.engineering)

## Reviews

### @greptile-apps â€” COMMENTED (2026-02-02)

<sub>2 files reviewed, 3 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @greptile-apps (2026-02-02)

<details>
<summary>Additional Comments (1)</summary>

**`ui/src/ui/views/config-form.node.ts`**
[P1] Duplicated `eye` icon definition in this file instead of reusing shared `ui/src/ui/icons.ts`.

The PR adds a shared `icons.eye` but `config-form.node.ts` also adds its own local `eye` SVG, so you now have two sources of truth. This tends to drift (sizes/stroke/attrs) and makes future icon changes harder.

Also appears in: `ui/src/ui/views/config-form.node.ts:32-109` (local `icons` object).

<sub>Note: If this suggestion doesn't match your team's coding style, reply to this and let me know. I'll remember it for next time!</sub>

<details><summary>Prompt To Fix With AI</summary>

`````markdown
This is a comment left during a code review.
Path: ui/src/ui/views/config-form.node.ts
Line: 32:36

Comment:
[P1] Duplicated `eye` icon definition in this file instead of reusing shared `ui/src/ui/icons.ts`.

The PR adds a shared `icons.eye` but `config-form.node.ts` also adds its own local `eye` SVG, so you now have two sources of truth. This tends to drift (sizes/stroke/attrs) and makes future icon changes harder.

Also appears in: `ui/src/ui/views/config-form.node.ts:32-109` (local `icons` object).

<sub>Note: If this suggestion doesn't match your team's coding style, reply to this and let me know. I'll remember it for next time!</sub>

How can I resolve this? If you propose a fix, please make it concise.
`````
</details>
</details>

### @gibtang (2026-02-02)

### âœ… Feedback Resolution (Commit ff81e47d8)

**[Icon Duplication]**
- **Feedback:** `config-form.node.ts` defines its own local `eye` SVG (duplicating the new shared icon)
- **Solution:** Removed local `eye` icon definition, imported and used shared icon from `ui/src/ui/icons.ts`
- **Result:** File now uses `icons.eye` from shared module, eliminating duplication
- **Status:** âœ… RESOLVED

The shared icon is now used consistently across all password toggle implementations, improving maintainability and reducing code duplication.

---

**Remaining items** (optional future improvements):
- DOM lookup pattern for password toggles could be refactored for better maintainability (not blocking this PR)

All icon-related review feedback has been addressed in this commit. Thanks for the excellent review!

### @gibtang (2026-02-02)

### âœ… Additional Feedback Resolution (Commit eb5c09ae8)

**[DOM Lookup Pattern]**
- **Feedback:** DOM-lookup-based toggles could become brittle if IDs collide or if component structure changes
- **Solution:** Replaced `document.getElementById()` with DOM sibling traversal using `e.currentTarget` and `parentElement.querySelector()`
- **Changes:**
  - **overview.ts**: Removed hardcoded `id="overview-password"`, now uses sibling traversal
  - **skills.ts**: Removed dynamic `id="skill-api-key-${skill.skillKey}"`, now uses sibling traversal
  - **config-form.node.ts**: Removed `inputId` variable and ID attribute, now uses sibling traversal
- **Result:** No more ID collisions, better encapsulation, more maintainable
- **Status:** âœ… RESOLVED

All review feedback has been fully addressed! ðŸŽ‰



## Stats

- **Size:** huge (1485+, 21-, 12 files)
- **Age:** 0 days
- **Last activity:** 2026-02-03

## Links

- Fixes: (none detected)
