---
number: 3339
title: "feat(onboard): Add timezone prompt to onboarding wizard"
author: impozzible
created: 2026-01-28T13:21:44Z
updated: 2026-01-28T23:25:09Z
labels: ["cli", "commands"]
additions: 112
deletions: 0
changed_files: 6
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: false
draft: false
url: https://github.com/openclaw/openclaw/pull/3339
fixes_issues: []
related_prs: [3329]
duplicate_of: null
---

## Description

## Summary

Adds a `userTimezone` prompt to the onboarding wizard, allowing users to set their preferred timezone for cron schedules during initial setup.

## Features

- **Interactive mode:** Prompts for timezone with validation and system timezone auto-detection
- **QuickStart mode:** Uses existing config or system timezone silently
- **Non-interactive mode:** Supports `--user-timezone` CLI flag
- **Both commands:** Works with `clawdbot onboard` and `clawdbot setup --wizard`

## CLI Usage

```bash
# Interactive
clawdbot onboard

# Non-interactive with timezone
clawdbot onboard --non-interactive --accept-risk --user-timezone "Africa/Lagos"

# With setup command
clawdbot setup --wizard --user-timezone "America/New_York"
```

## Config Output

The timezone is stored in `agents.defaults.userTimezone`:

```json
{
  "agents": {
    "defaults": {
      "userTimezone": "Africa/Lagos"
    }
  }
}
```

## Helper Functions Added

- `isValidTimezone(tz)`: Validates IANA timezone strings using `Intl.supportedValuesOf` (Node 18.6+) with fallback to `DateTimeFormat`
- `detectSystemTimezone()`: Detects the system's local timezone

## Related

- Requires PR #3329 for cron schedules to respect `userTimezone` as the default
- Together, these PRs complete the timezone experience: setup during onboarding + automatic use in cron jobs

## Reviews


## Comments


## Stats

- **Size:** medium (112+, 0-, 6 files)
- **Age:** 1 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
