---
number: 2789
title: "feat(channels): add Feishu/Lark channel integration"
author: tomatoxman
created: 2026-01-27T14:29:14Z
updated: 2026-01-29T13:58:26Z
labels: []
additions: 901
deletions: 0
changed_files: 11
size: large
review_decision: none
reviews: []
comments_count: 2
reactions_total: 1
ci_status: failing
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/2789
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Add complete Feishu (Lark) channel plugin with WebSocket support for real-time messaging.

Features:
- Send and receive text messages in direct chats and group chats
- WebSocket-based event subscription (im.message.receive_v1)
- Multi-account support
- Interactive CLI onboarding (pnpm clawdbot channels add feishu)
- Optional encryption and verification token support

Implementation:
- Client wrapper for @larksuiteoapi/node-sdk
- Event dispatcher for message handling
- Account management and configuration
- Comprehensive README with setup guide and troubleshooting

Files:
- package.json, clawdbot.plugin.json: Plugin metadata and dependencies
- index.ts: Plugin entry point
- src/accounts.ts: Account resolution and validation
- src/channel.ts: Channel plugin and dock definitions
- src/client.ts: Feishu API client wrapper
- src/monitor.ts: WebSocket event monitoring
- src/onboarding.ts: Interactive CLI setup wizard
- src/runtime.ts: Runtime context management
- src/types.ts: TypeScript type definitions
- README.md: Configuration guide and documentation

## Reviews


## Comments

### @hexueyuan (2026-01-29)

Good jobğŸ‘. This event subscription requires setting a service address, right?  Can it be changed to a long-polling connection instead?

### @tomatoxman (2026-01-29)

> Good jobğŸ‘. This event subscription requires setting a service address, right? Can it be changed to a long-polling connection instead?

No IP address is required; it's implemented via a long connection.


## Stats

- **Size:** large (901+, 0-, 11 files)
- **Age:** 1 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
