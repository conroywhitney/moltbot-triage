---
number: 4645
title: "fix: use shell mode on Windows for command spawning"
author: Ayush10
created: 2026-01-30T13:17:55Z
updated: 2026-01-30T13:25:21Z
labels: []
additions: 2
deletions: 0
changed_files: 1
size: tiny
review_decision: none
reviews: [{"author":"chatgpt-codex-connector","state":"COMMENTED"}]
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/4645
fixes_issues: [4557]
related_prs: [4557]
duplicate_of: null
---

## Description

## Summary
- Fixes `spawn npm ENOENT` error on Windows when installing plugins or running npm commands
- Adds `shell: true` to `spawn()` options on Windows in `runCommandWithTimeout()`, allowing PATH-based command resolution for `.cmd`/`.exe` executables like `npm`

Closes #4557

## Reviews

### @chatgpt-codex-connector ‚Äî COMMENTED (2026-01-30)


### üí° Codex Review

Here are some automated review suggestions for this pull request.

**Reviewed commit:** `9d5abc6354`
    

<details> <summary>‚ÑπÔ∏è About Codex in GitHub</summary>
<br/>

[Your team has set up Codex to review pull requests in this repo](http://chatgpt.com/codex/settings/general). Reviews are triggered when you
- Open a pull request for review
- Mark a draft as ready
- Comment "@codex review".

If Codex has suggestions, it will comment; otherwise it will react with üëç.




Codex can also answer questions or update the PR. Try commenting "@codex address that feedback".
            
</details>


## Comments


## Stats

- **Size:** tiny (2+, 0-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: #4557
