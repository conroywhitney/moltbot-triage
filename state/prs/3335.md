---
number: 3335
title: "Fixes cron jobs"
author: hkirat
created: 2026-01-28T13:13:24Z
updated: 2026-01-29T05:46:24Z
labels: []
additions: 164
deletions: 5
changed_files: 2
size: medium
review_decision: none
reviews: []
comments_count: 3
reactions_total: 5
ci_status: failing
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/3335
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Fixes https://github.com/moltbot/moltbot/issues/2323

Cron jobs seems to have broken after https://github.com/clawdbot/clawdbot/pull/1535

The reason seems to be an early return that was added in the PR above, that would not the `system events` queue clear if `HEARTBEAT.md` is empty. 

Cron jobs are pushed to system events when executed, and hence the change ensures that if there are pending system events they should be executed irrespective of the `heartbeat.md` file being empty.

## Reviews


## Comments

### @hkirat (2026-01-28)

Tried inside the terminal and telegram. 
Screenshot below from tg. Wasn't working before these changes. 
<img width="509" height="343" alt="Screenshot 2026-01-28 at 6 49 28â€¯PM" src="https://github.com/user-attachments/assets/9256f996-b974-4da0-9a0c-a52706f27df1" />


### @Glucksberg (2026-01-28)

This PR may help with several open cron issues:

**Issues this could address:**
- #3486 - Cron jobs fire repeatedly instead of once
- #3220 - Cron job with at schedule fires immediately
- #2813 - Cron job scheduled but never fired

**Related PRs:**
- #2990 - fix: Re-arm cron service timer with a delay
- #2183 - fix(cron): anchor every jobs to lastRunAtMs

Could you clarify which specific cron bugs this addresses? Would help with issue triage.

### @hkirat (2026-01-29)

This one specifically solves https://github.com/moltbot/moltbot/issues/2323 and potentially https://github.com/moltbot/moltbot/issues/2813

It should not affect https://github.com/moltbot/moltbot/issues/3220 and https://github.com/moltbot/moltbot/issues/3486


## Stats

- **Size:** medium (164+, 5-, 2 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
