---
number: 3392
title: "fix(hooks): remove debug console.log statements from session-memory hook"
author: WinJayX
created: 2026-01-28T14:56:55Z
updated: 2026-01-28T23:25:09Z
labels: []
additions: 5
deletions: 16
changed_files: 1
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/3392
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Remove development debug `console.log` statements from the session-memory hook handler. These debug statements were polluting the console output during normal operation.

## Changes

- Remove 13 debug `console.log` statements that were logging internal state (sessionId, sessionFile, slug generation steps, etc.)
- Add proper `SubsystemLogger` for trace-level logging of completion message
- Keep `console.error` for actual failure cases (consistent with other bundled hooks like `command-logger`)
- Remove unused `currentSessionId` variable that was only used for logging

## Why

The session-memory hook contained numerous debug statements that were likely left over from development/debugging:

```typescript
console.log("[session-memory] Hook triggered for /new command");
console.log("[session-memory] Current sessionId:", currentSessionId);
console.log("[session-memory] Generated slug:", slug);
// ... 10 more similar statements
```

These statements pollute the console during normal operation and don't follow the project's standard logging infrastructure.

## After

The hook now uses `createSubsystemLogger("hooks:session-memory")` for any operational logging, which:
- Can be enabled via log level configuration when debugging is needed
- Follows the same pattern used by other parts of the codebase (e.g., `gmail-watcher`)
- Keeps the console clean during normal operation

## Testing

- [x] TypeScript compilation passes
- [x] Lint check passes (0 warnings, 0 errors)
- [x] All 9 session-memory hook tests pass


## Reviews


## Comments


## Stats

- **Size:** small (5+, 16-, 1 files)
- **Age:** 1 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
