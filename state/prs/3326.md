---
number: 3326
title: "fix: respect groupPolicy when explicit group configs exist"
author: impozzible
created: 2026-01-28T12:56:49Z
updated: 2026-01-28T23:25:09Z
labels: []
additions: 7
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/moltbot/moltbot/pull/3326
fixes_issues: [3323]
related_prs: [3323]
duplicate_of: null
---

## Description

## Summary

Fixes #3323

Previously, having ANY explicit group config in `channels.<channel>.groups` would enable allowlist mode, blocking all groups not explicitly listed â€” even when `groupPolicy` was set to `'open'`.

## Changes

Modified `resolveChannelGroupPolicy()` in `src/config/group-policy.ts` to only enable allowlist when `groupPolicy === 'allowlist'`.

This allows explicit group configs (e.g., `requireMention` settings) to coexist with `groupPolicy: 'open'` without creating an implicit allowlist.

## Testing

1. Configure with `groupPolicy: 'open'` and one explicit group entry
2. Get mentioned in a different group (not in explicit config)
3. Bot now responds correctly

Verified working on Clawdbot 2026.1.24-3 with local patch.

## Reviews


## Comments


## Stats

- **Size:** tiny (7+, 1-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-28

## Links

- Fixes: #3323
