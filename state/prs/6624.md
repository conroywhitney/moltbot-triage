---
number: 6624
title: "Web Configure Wizard: channels + skills + agent runtime + diff + doctor tools"
author: Oruga420
created: 2026-02-01T21:53:37Z
updated: 2026-02-01T22:23:47Z
labels: ["app: web-ui", "gateway", "commands"]
additions: 1340
deletions: 3
changed_files: 17
size: huge
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 1
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/6624
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Implements the web Configure Wizard MVP+ end-to-end.

Highlights:
- Configure wizard sections: Gateway, Web tools, Model API keys, Channels (basic + allowlists), Skills (install deps), Agent runtime.
- Advanced channel routing: Discord guild/channel allowlisting + Telegram groups.
- Config preview: git-style unified diff + explicit confirm before writing.
- Secrets: support 1Password op:// references during config load (fallback to plaintext/env vars).
- Control UI Setup tab: Download/Import openclaw.json + run doctor (non-interactive) via new gateway method doctor.run.

Branch: Oruga420:oruga/web-configure-wizard

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR adds an end-to-end web “Configure Wizard” flow through the gateway wizard session system, plus a new Setup tab in the UI for running the configure wizard, downloading/importing `openclaw.json`, and running a non-interactive `doctor` via a new `doctor.run` gateway method. It also introduces utility helpers for unified diff previews and resolves `op://...` 1Password references during config load.

The overall architecture fits the existing gateway RPC handler pattern (`server-methods/*`) and the wizard session runner mechanism, with UI state wired into the existing Lit-based app rendering and navigation.


<h3>Confidence Score: 3/5</h3>

- This PR is mostly safe to merge, but there are a couple of user-visible error-handling and type-roundtrip issues worth fixing first.
- The changes are additive and follow existing patterns, but (1) `op://` secret resolution failures currently cause config load to fall back to `{}` and (2) the UI wizard select control coerces all values to strings, which can break some wizard steps. The new doctor RPC wrapper also risks misreporting success/failure depending on how `doctorCommand` uses `runtime.exit()`.
- src/config/io.ts, ui/src/ui/views/setup.ts, src/gateway/server-methods/doctor.ts

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-02-01)

<sub>4 files reviewed, 4 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @chatgpt-codex-connector (2026-02-01)

You have reached your Codex usage limits for code reviews. You can see your limits in the [Codex usage dashboard](https://chatgpt.com/codex/settings/usage).
To continue using code reviews, you can upgrade your account or add credits to your account and enable them for code reviews in your [settings](https://chatgpt.com/codex/settings/code-review).


## Stats

- **Size:** huge (1340+, 3-, 17 files)
- **Age:** 1 days
- **Last activity:** 2026-02-01

## Links

- Fixes: (none detected)
