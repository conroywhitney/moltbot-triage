---
number: 2211
title: "fix(infra): use `where` on Windows for binary detection"
author: ThanhNguyxn
created: 2026-01-26T12:25:24Z
updated: 2026-01-30T15:57:55Z
labels: []
additions: 26
deletions: 2
changed_files: 3
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2211
fixes_issues: [2172]
related_prs: [2172]
duplicate_of: null
---

## Description

## Summary
- Use `where` command on Windows instead of `which` for binary detection in `ensureBinary()`

## Problem
On Windows, `which` is not a native command. The `ensureBinary()` function in `src/infra/binaries.ts` was hardcoded to use `which`, causing skill detection to fail for skills requiring CLI binaries (e.g., blogwatcher, yt-dlp, ffmpeg).

Other parts of the codebase already handle this correctly:
- `src/commands/onboard-helpers.ts` line 304
- `src/daemon/program-args.ts` line 140

## Changes
- Added platform check: use `where` on Windows (`process.platform === "win32"`), `which` elsewhere

Fixes #2172

## Reviews


## Comments


## Stats

- **Size:** small (26+, 2-, 3 files)
- **Age:** 4 days
- **Last activity:** 2026-01-30

## Links

- Fixes: #2172
