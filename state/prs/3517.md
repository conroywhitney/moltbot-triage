---
number: 3517
title: "fix: trigger agent response for webchat sessions after restart"
author: dovewars
created: 2026-01-28T18:23:50Z
updated: 2026-01-28T23:25:08Z
labels: ["gateway"]
additions: 49
deletions: 2
changed_files: 3
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/3517
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

   Webchat sessions don't have channel/to in their delivery context, so
   the restart sentinel was falling back to enqueueSystemEvent() which
   queues the message but doesn't trigger an agent turn.

   This fix passes addChatRun and broadcast through to the sentinel,
   allowing it to register the run and call agentCommand() so responses
   stream to webchat clients.

   ðŸ¤– AI-assisted (Claude)

## Reviews


## Comments


## Stats

- **Size:** medium (49+, 2-, 3 files)
- **Age:** 0 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
