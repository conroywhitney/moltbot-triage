---
number: 3837
title: "fix(googlechat): space events response and thread reply context"
author: rehanchrl
created: 2026-01-29T07:17:44Z
updated: 2026-01-29T12:59:39Z
labels: ["channel: googlechat"]
additions: 737
deletions: 23
changed_files: 10
size: large
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: false
draft: false
url: https://github.com/openclaw/openclaw/pull/3837
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Two critical fixes for Google Chat reliability and context awareness.

## Fix 1: Space Events Response

**Problem:** Google Chat shows "Can't handle the app's response" error when bot is added to spaces or non-MESSAGE events occur.

**Root Cause:** Google Chat requires a proper JSON response body for space events (ADDED_TO_SPACE, etc.), not just empty '{}'.

**Solution:** Return acknowledgment message for non-MESSAGE events in groups before async processing.

## Fix 2: Thread Reply Context

**Problem:** Agent cannot distinguish thread replies from root messages or see quoted message context.

**Root Cause:** Missing threadReply and quotedMessageMetadata fields in message handling.

**Solution:** Added fields to types and passed to agent context.

## Files Changed

- extensions/googlechat/src/types.ts - Add threadReply and quotedMessageMetadata fields
- extensions/googlechat/src/monitor.ts - Space events response fix + context passing

## Related

Fixes documented in docs/googlechat-spaces-fix.md and docs/googlechat-thread-context.md

## Reviews


## Comments


## Stats

- **Size:** large (737+, 23-, 10 files)
- **Age:** 1 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
