---
number: 4287
title: "feat: enhance OpenAI compatibility for tool calling"
author: 0xrushi
created: 2026-01-30T01:14:22Z
updated: 2026-01-30T01:37:45Z
labels: ["docs", "gateway", "agents"]
additions: 216
deletions: 3
changed_files: 8
size: large
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/4287
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

  - Add an opt-in model compat flag: compat.openaiCompletionsTools: true.
  - When enabled on an openai-completions model, route tools through the SDK â€œbuilt-in toolsâ€ path so tool definitions are included for providers that require it (notably vLLM).
  - Keeps the default behavior unchanged for existing providers/configs.

Resolves: https://github.com/moltbot/moltbot/issues/1866

Test:

```
Â» pnpm moltbot --profile vllmtest agent --local --session-id vllmtest --verbose full --message "Use the read tool to read package.json and tell me the version."                                                                                                                 130 â†µ

> moltbot@2026.1.29 moltbot /home/doraemon/Documents/moltbot
> node scripts/run-node.mjs --profile vllmtest agent --local --session-id vllmtest --verbose full --message 'Use the read tool to read package.json and tell me the version.'


ðŸ¦ž Moltbot 2026.1.29 (bb4d6fb) â€” Say "stop" and I'll stopâ€”say "ship" and we'll both learn a lesson.

01:21:14 [agent/embedded] low context window: vllm/Qwen2.5-1.5B ctx=16384 (warn<32000) source=model
The version number in package.json is currently 2026.1.29.

```

## Reviews


## Comments


## Stats

- **Size:** large (216+, 3-, 8 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: (none detected)
