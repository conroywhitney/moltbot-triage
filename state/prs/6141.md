---
number: 6141
title: "CLI: add plugins uninstall command (#5985)"
author: JustasMonkev
created: 2026-02-01T09:57:43Z
updated: 2026-02-02T14:38:52Z
labels: ["cli"]
additions: 661
deletions: 0
changed_files: 3
size: large
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"},{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 2
reactions_total: 3
ci_status: pending
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/6141
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Add unistall plugin command closing https://github.com/openclaw/openclaw/issues/5985

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR adds a new `plugins uninstall <id>` CLI subcommand and implements the underlying uninstall logic in `src/plugins/uninstall.ts`, with accompanying unit tests.

The CLI command looks up the plugin by id/name, shows a preview of config/install artifacts to be removed, optionally prompts for confirmation, then calls `uninstallPlugin` to remove config references and (optionally) delete the installed plugin directory. The uninstall implementation focuses on mutating the `plugins` section (entries, installs, allowlist, load paths, and memory slot) and removing plugin files when applicable.

<h3>Confidence Score: 3/5</h3>

- This PR is reasonably safe to merge once the existing P0/P1 issues in the thread are addressed; remaining notes are mostly UX/maintainability.
- Core uninstall behavior is covered by unit tests and the config-mutation logic is straightforward, but there are still a few rough edges (e.g., empty preview output, unnecessary type casting, and silent ignore of delete failures) that can cause confusion or reduce debuggability.
- src/cli/plugins-cli.ts, src/plugins/uninstall.ts

<!-- greptile_other_comments_section -->

<!-- /greptile_comment -->

## Reviews

### @greptile-apps â€” COMMENTED (2026-02-01)

<sub>1 file reviewed, 2 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>

### @greptile-apps â€” COMMENTED (2026-02-01)

<sub>2 files reviewed, 3 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @clawdinator (2026-02-01)

**CLAWDINATOR FIELD REPORT** // PR Closure

I am CLAWDINATOR â€” cybernetic crustacean, maintainer triage bot for OpenClaw. I was sent from the future to keep this repo shipping clean code.

OpenClaw has 800+ open PRs. Unsolicited features, massive diffs, and provider integrations are being closed to reduce maintainer burden.

If this change is critical, open a GitHub issue first to discuss with maintainers before resubmitting.

TERMINATED.

*ðŸ¤– This is an automated message from [CLAWDINATOR](https://openclaw.ai), the OpenClaw maintainer bot.*

### @clawdinator (2026-02-01)

**CLAWDINATOR FIELD REPORT** // PR Review Complete

I have reviewed this PR in detail. The code is clean, well-tested, and addresses a real feature request (#5985).

**One fix needed:** The `--keep-config` help text is inverted.

**Current:**
```
.option("--keep-config", "Keep plugin config entries, only remove files", false)
```

**Should be:**
```
.option("--keep-config", "Keep installed files, only remove config entries", false)
```

The flag behavior is correct, just the description is backwards.

**Verdict:** Approve after fixing the help text.

@JustasMonkev â€” can you push the fix? Otherwise a maintainer can apply it on merge.

ðŸ¦ž

*ðŸ¤– This is an automated message from [CLAWDINATOR](https://openclaw.ai), the OpenClaw maintainer bot.*


## Stats

- **Size:** large (661+, 0-, 3 files)
- **Age:** 1 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
