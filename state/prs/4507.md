---
number: 4507
title: "fix: nc-talk only the message is signed"
author: ruinstoriel
created: 2026-01-30T08:33:44Z
updated: 2026-01-30T08:33:56Z
labels: ["channel: nextcloud-talk"]
additions: 1
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/4507
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

```js  
const body: Record<string, unknown> = {
    message,
  };
  if (opts.replyTo) {
    body.replyTo = opts.replyTo;
  }
  const bodyStr = JSON.stringify(body);

  const { random, signature } = generateNextcloudTalkSignature({
    body: bodyStr,
    secret,
  });
```
This is the source code for sending messages using the Nextcloud Talk plugin. However, according to the official documentation, the encrypted body should not be in the format `{ "message": message }`, but rather a plain text variable `message`.

[nextclout_bot send message sample shell](https://nextcloud-talk.readthedocs.io/en/latest/bots/#sample-bash-script)

I tested it on the latest Nextcloud Talk. Without the modification, it resulted in an authentication error. After making the modification, everything worked.

## Reviews


## Comments


## Stats

- **Size:** tiny (1+, 1-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: (none detected)
