---
number: 2419
title: "feat: add Maple AI provider integration"
author: marksftw
created: 2026-01-26T22:38:14Z
updated: 2026-01-28T23:25:12Z
labels: ["docs", "commands", "agents"]
additions: 631
deletions: 0
changed_files: 12
size: large
review_decision: none
reviews: []
comments_count: 4
reactions_total: 10
ci_status: failing
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/2419
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

  This PR adds Maple AI as a first-class provider in Clawdbot, enabling privacy-focused AI inference using TEE-based
  Confidential Computing with end-to-end encryption.

  ## Why Maple?

  Maple AI is ideal for **privacy-conscious users** who want:

  - ğŸ”’ **End-to-end encryption** â€” Prompts/responses encrypted and never visible to Maple or third parties
  - ğŸ›¡ï¸ **TEE-based Confidential Computing** â€” Hardware-level isolation with cryptographic attestations
  - ğŸ”“ **No data sharing** â€” Runs state-of-the-art open models without sharing data back to model creators
  - âœ… **Verifiable security** â€” Cryptographic proof attestations at [trymaple.ai/proof](https://trymaple.ai/proof)

  This makes Clawdbot accessible to users who require the strongest privacy guarantees for their AI interactions.

  ## What's Included

  ### Model Catalog (7 models)

  All models run in TEE-based Confidential Computing environments:

  | Model | Use Case |
  |-------|----------|
  | **Kimi K2 Thinking** (default) | Complex agentic workflows, multi-step coding, web research (256K context) |
  | **GPT OSS 120B** | Creative writing, structured data |
  | **DeepSeek R1** | Research, advanced math, coding |
  | **Qwen3 Coder 480B** | Agentic coding, large codebase analysis, browser automation |
  | **Qwen3 VL 30B** | Image and video analysis, screenshot-to-code, OCR, GUI automation |
  | **Llama 3.3 70B** | General reasoning, conversation |
  | **Gemma 3 27B** | General purpose, efficient |

  ### Features

  - âœ… Auto-discovery from Maple `/v1/models` API
  - âœ… Fallback to static catalog if API unavailable
  - âœ… `MAPLE_API_KEY` environment variable support
  - âœ… Interactive onboarding: `moltbot onboard --auth-choice maple-api-key`
  - âœ… Configurable proxy URL (default: `http://127.0.0.1:8080/v1`)
  - âœ… Provider auto-registration when API key detected
  - âœ… Streaming and vision support

  ### Files Changed (12 files, +634 lines)

  - `src/agents/maple-models.ts` â€” Model catalog + auto-discovery
  - `src/commands/auth-choice*.ts` â€” Onboard wizard integration
  - `src/commands/onboard-auth*.ts` â€” Config + credentials
  - `src/agents/models-config.providers.ts` â€” Provider auto-registration
  - `docs/providers/maple.md` â€” Full documentation

  ## How It Works

  1. User downloads Maple desktop app or runs Docker container
  2. Local proxy runs at `http://127.0.0.1:8080/v1`
  3. Proxy verifies TEE attestations before connecting (like SSL certificate checks)
  4. Requests are forwarded to Maple's secure enclaves with end-to-end encryption

  ## Usage

  ```bash
  # Download Maple app
  # https://trymaple.ai/downloads

  # Interactive setup
  moltbot onboard --auth-choice maple-api-key

  # Or set environment variable
  export MAPLE_API_KEY="your-api-key"

  # Use it
  moltbot chat --model maple/kimi-k2-thinking
  moltbot chat --model maple/qwen3-vl-30b

  Security
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚      Feature      â”‚                              Description                              â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ TEE Isolation     â”‚ Hardware-level memory encryption and isolation                        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Attestation       â”‚ Cryptographic proof of enclave integrity at https://trymaple.ai/proof â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Auto-verification â”‚ Proxy refuses to connect if attestation is invalid                    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

  Testing

  - Verified against live Maple API
  - Code review passed (0 critical issues)
  - Documentation reviewed for accuracy
  - Follows existing provider patterns (Venice, Synthetic, MiniMax)

  ---
  Note for maintainers: This follows the exact pattern used for Venice, Synthetic, and MiniMax providers. Maple uses the
  OpenAI-compatible API (openai-completions). The proxy URL is configurable since Maple proxy runs locally rather than as a cloud service.

  Links

  - https://trymaple.ai
  - https://trymaple.ai/downloads
  - https://trymaple.ai/proof
  - https://github.com/OpenSecretCloud/Maple
  - https://github.com/OpenSecretCloud/maple-proxy

## Reviews


## Comments

### @alexgleason (2026-01-27)

+1 I want Clawdbot to interact with my family and don't want to share all that data to Anthropic 

### @marksftw (2026-01-27)

Major name change! Rebased onto latest main to pick up the moltbot rename.

Changes made during rebase:
  - Updated ClawdbotConfig â†’ MoltbotConfig type references in the Maple provider functions
  - Updated all CLI examples in docs/providers/maple.md to use moltbot command
  - Updated config path reference (~/.moltbot.yaml)
  - Fixed formatting to pass oxfmt checks

  Verified locally before pushing:
  - pnpm format âœ“
  - pnpm lint âœ“
  - pnpm build âœ“
  - pnpm test â€” 789 test files, 4756 tests passing âœ“

  Let me know if you'd like any other changes! We have eager users wanting to use Molty with the Maple provider. ğŸ˜€

### @seangravener (2026-01-27)

Great work. Solid contribution +1

### @martybenttftc (2026-01-28)

Eagerly waiting for this. 


## Stats

- **Size:** large (631+, 0-, 12 files)
- **Age:** 2 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
