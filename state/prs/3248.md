---
number: 3248
title: "feat(whatsapp): add per-session ackReaction override"
author: mcinteerj
created: 2026-01-28T09:24:09Z
updated: 2026-01-29T00:29:18Z
labels: ["docs", "channel: whatsapp-web"]
additions: 116
deletions: 0
changed_files: 5
size: medium
review_decision: none
reviews: []
comments_count: 1
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/3248
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
Allows controlling auto-reactions (ack emoji) per-session via sessions.json.

Session-level `ackReaction` can be set to `'always'`, `'mentions'`, or `'never'` to override global direct/group settings.

## Changes
- Add `sessionMode` parameter to `shouldAckReactionForWhatsApp`
- Load session config in `maybeSendAckReaction` to check for override
- Add `ackReaction` field to `SessionEntry` type
- Add tests for session override behavior
- Document per-session override in `whatsapp.md`

## Use Case
Useful for:
- Disabling reactions in specific DMs (`"never"`)
- Forcing reactions in specific groups (`"always"`)
- Enforcing mention-only reactions per-group (`"mentions"`)

## Example
```json
// sessions.json
{
  "agent:main:whatsapp:group:123456@g.us": {
    "ackReaction": "never"
  }
}
```

## Reviews


## Comments

### @mcinteerj (2026-01-28)

Updated based on review feedback:

- **Session-level `mentions` is now strict**: Does not bypass via `groupActivated` state
- If someone explicitly sets `ackReaction: "mentions"` on a session, they get true mention-only behavior
- Global `group: "mentions"` config still respects activation state (unchanged)
- Added test case + updated docs to clarify this distinction


## Stats

- **Size:** medium (116+, 0-, 5 files)
- **Age:** 2 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
