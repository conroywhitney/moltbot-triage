---
number: 3711
title: "security: harden App Transport Security (ATS)"
author: coder4ever2
created: 2026-01-29T02:50:45Z
updated: 2026-02-03T03:51:34Z
labels: ["app: ios", "app: macos"]
additions: 2
deletions: 2
changed_files: 2
size: tiny
review_decision: none
reviews: [{"author":"chatgpt-codex-connector","state":"COMMENTED"},{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 0
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/3711
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Hardens the network security policy for both iOS and macOS applications by removing the ability to load arbitrary insecure HTTP content. Only local networking (for gateway communication) and explicitly whitelisted domains are now allowed via HTTP.

### Changes
- Replaces `NSAllowsArbitraryLoadsInWebContent` with `NSAllowsLocalNetworking` in iOS Info.plist
- Replaces `NSAllowsArbitraryLoadsInWebContent` with `NSAllowsLocalNetworking` in macOS Info.plist

This aligns with best practices for limiting attack surface while maintaining necessary local gateway functionality.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR tightens App Transport Security settings in the iOS and macOS app Info.plists by replacing `NSAllowsArbitraryLoadsInWebContent` with `NSAllowsLocalNetworking`, aiming to remove broad HTTP allowances while keeping local gateway communication working.

The change is localized to `NSAppTransportSecurity` dictionaries in the two platform plists; no runtime code is modified.

<h3>Confidence Score: 3/5</h3>

- Mostly safe to merge, but there‚Äôs a real chance of unintended HTTP breakage depending on expected allowlisted remote domains and OS support.
- The change is small and security-positive, but iOS currently has no `NSExceptionDomains`, so remote HTTP loads (even if intended to be allowlisted) may stop working. macOS likely OK given minimum system version, but relies on ATS key support.
- apps/ios/Sources/Info.plist; apps/macos/Sources/Moltbot/Resources/Info.plist

<!-- greptile_other_comments_section -->

<sub>(3/5) Reply to the agent's comments like "Can you suggest a fix for this @greptileai?" or ask follow-up questions!</sub>

<!-- /greptile_comment -->

## Reviews

### @chatgpt-codex-connector ‚Äî COMMENTED (2026-01-29)


### üí° Codex Review

Here are some automated review suggestions for this pull request.

**Reviewed commit:** `5d31a141e2`
    

<details> <summary>‚ÑπÔ∏è About Codex in GitHub</summary>
<br/>

[Your team has set up Codex to review pull requests in this repo](http://chatgpt.com/codex/settings/general). Reviews are triggered when you
- Open a pull request for review
- Mark a draft as ready
- Comment "@codex review".

If Codex has suggestions, it will comment; otherwise it will react with üëç.




Codex can also answer questions or update the PR. Try commenting "@codex address that feedback".
            
</details>

### @greptile-apps ‚Äî COMMENTED (2026-02-03)

<sub>2 files reviewed, 2 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments


## Stats

- **Size:** tiny (2+, 2-, 2 files)
- **Age:** 4 days
- **Last activity:** 2026-02-03

## Links

- Fixes: (none detected)
