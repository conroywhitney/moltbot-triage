---
number: 3961
title: "fix: prevent plugins from auto-enabling without user consent (#3932)"
author: lalitraj881
created: 2026-01-29T12:34:39Z
updated: 2026-01-29T12:59:03Z
labels: []
additions: 14
deletions: 14
changed_files: 2
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/3961
fixes_issues: [3932]
related_prs: [3932]
duplicate_of: null
---

## Description

## Summary
Fixes #3932 where plugins (bluebubbles, notion, slack, tmux) were being automatically enabled during onboarding without explicit user consent.
## Problem
During `clawdbot onboard`, the `applyPluginAutoEnable()` function automatically set `enabled: true` for plugins when their corresponding channels were configured, violating user consent principles.
## Solution
- Changed default plugin `enabled` state from `true` to `false` in `enablePluginEntry()`
- Plugins are now configured but require explicit user enablement
- Updated all tests to verify new default behavior
- Preserved existing `enabled: true` values (non-destructive)
## Changes
- Modified `src/config/plugin-auto-enable.ts` (1 line)
- Updated `src/config/plugin-auto-enable.test.ts` (14 lines)
## Testing
- ✅ All 9 tests in `plugin-auto-enable.test.ts` pass
- ✅ Linter passes with 0 errors
- ✅ Full test suite: 4785 tests passed
- ✅ Non-destructive: existing `enabled: true` values preserved
## Impact
- **Breaking Change:** No - only affects new onboarding
- **Existing Users:** Unaffected
- **New Users:** Must explicitly enable plugins during setup
## Verification
```bash
npx vitest src/config/plugin-auto-enable.test.ts 
pnpm lint
```
Resolves #3932


<img width="1474" height="492" alt="passed Test" src="https://github.com/user-attachments/assets/adf4c175-5dde-4b41-8d91-d6c2fcdf6001" />

## Reviews


## Comments


## Stats

- **Size:** small (14+, 14-, 2 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: #3932
