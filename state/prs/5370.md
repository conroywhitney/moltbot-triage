---
number: 5370
title: "fix(runtime): bump minimum Node.js version to 22.12.0"
author: Glucksberg
created: 2026-01-31T12:07:11Z
updated: 2026-02-01T15:24:40Z
labels: ["docs", "channel: telegram", "gateway"]
additions: 28
deletions: 16
changed_files: 8
size: small
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 1
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/5370
fixes_issues: [5292]
related_prs: [5292,5302]
duplicate_of: null
---

## Description

### Summary
Aligns the runtime guard with the declared `package.json` engines requirement.

### Problem
The Matrix plugin (and potentially others) requires Node >= 22.12.0, but the runtime guard previously allowed 22.0.0+. This caused confusing errors like:

```
Cannot find module '@vector-im/matrix-bot-sdk'
```

...when the real issue was an unsupported Node version (e.g., 22.6.0).

### Changes
- Update `MIN_NODE` from 22.0.0 to 22.12.0 in `src/infra/runtime-guard.ts`
- Update error message to reflect the correct version requirement
- Update tests to validate 22.12.0 as the minimum valid version
- Add test case for versions between 22.0-22.11 (now correctly rejected)

### Testing
```bash
# With Node 22.11 or lower:
openclaw gateway
# Expected: Clear error 'openclaw requires Node >=22.12.0'

# With Node 22.12+:
openclaw gateway
# Expected: Normal startup
```

Fixes #5292
Complements #5302 (docs clarification)

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR updates the runtime guard’s minimum supported Node.js version from `22.0.0` to `22.12.0` (`src/infra/runtime-guard.ts`), aligning the CLI’s runtime enforcement with the declared `package.json` engines requirement. The guard’s error message is updated accordingly, and the associated unit tests are adjusted to assert `22.12.0` as the minimum valid version and to reject `22.11.x` and below (`src/infra/runtime-guard.test.ts`).

<h3>Confidence Score: 5/5</h3>

- This PR is safe to merge with minimal risk.
- Changes are limited to a constant bump and matching test updates, with no behavioral impact beyond correctly rejecting unsupported Node versions per the repository’s declared engines requirement.
- No files require special attention

<!-- greptile_other_comments_section -->

**Context used:**

- Context from `dashboard` - CLAUDE.md ([source](https://app.greptile.com/review/custom-context?memory=fd949e91-5c3a-4ab5-90a1-cbe184fd6ce8))
- Context from `dashboard` - AGENTS.md ([source](https://app.greptile.com/review/custom-context?memory=0d0c8278-ef8e-4d6c-ab21-f5527e322f13))

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-01-31)

<sub>No files reviewed, no comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @joshuafhiggins (2026-01-31)

This does not fix #5292 and may not be needed, are you sure anything in OpenClaw actually requires Node 22.12?


## Stats

- **Size:** small (28+, 16-, 8 files)
- **Age:** 2 days
- **Last activity:** 2026-02-01

## Links

- Fixes: #5292
