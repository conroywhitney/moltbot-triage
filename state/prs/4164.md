---
number: 4164
title: "feat(line): add onboarding support for LINE Messaging API"
author: edenfunf
created: 2026-01-29T19:52:13Z
updated: 2026-01-29T19:53:46Z
labels: ["channel: line"]
additions: 257
deletions: 4
changed_files: 4
size: large
review_decision: none
reviews: []
comments_count: 0
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/4164
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## ğŸ“‹ Description
Adds complete interactive onboarding support for LINE Messaging API channel plugin.

## ğŸ› Problem
LINE channel displayed "does not support onboarding yet" during `moltbot onboard`, requiring manual JSON configuration which was error-prone for new users.

## âœ¨ Solution
- Created `lineOnboardingAdapter` following existing patterns from Telegram/Discord/Slack channels
- Interactive prompts for Channel Access Token and Channel Secret with input validation
- Clear webhook setup instructions for both local development (ngrok) and production
- User ID allowFrom management with format validation (U + 32 hex characters)
- Proper error handling and user-friendly messages throughout the flow

## ğŸ§ª Testing
- âœ… Onboarding wizard successfully guides through complete LINE setup
- âœ… Webhook verified with ngrok for local development
- âœ… Channel Access Token and Secret validation working correctly
- âœ… Signature verification tested and functional
- âœ… Message send/receive flow tested successfully
- âœ… All dmPolicy modes (open/allowlist/pairing) working as expected

## ğŸ“ Files Changed
- `src/channels/plugins/onboarding/line.ts` - New LINE onboarding adapter implementation (~250 lines)
- `src/plugin-sdk/index.ts` - Export lineOnboardingAdapter
- `extensions/line/src/channel.ts` - Import and connect onboarding adapter
- `extensions/line/index.ts` - Minor adjustments for adapter integration

## âœ… Checklist
- [x] Code follows project style guidelines
- [x] Tested locally with real LINE bot credentials
- [x] No breaking changes to existing functionality
- [x] TypeScript compilation successful
- [x] Ready for review

## Reviews


## Comments


## Stats

- **Size:** large (257+, 4-, 4 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
