---
number: 7489
title: "feat: add brew to Dockerfile"
author: k2589
created: 2026-02-02T21:58:06Z
updated: 2026-02-02T23:33:15Z
labels: ["docker"]
additions: 7
deletions: 0
changed_files: 1
size: tiny
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 0
reactions_total: 1
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/7489
fixes_issues: []
related_prs: [6065]
duplicate_of: null
---

## Description

This PR addresses #6065 and adding `Brew` installation step into Dockerfile.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

Adds a Homebrew installation into the runtime image by copying the `/home/linuxbrew/.linuxbrew` prefix from `homebrew/brew:4.6.20`, adjusting ownership before switching to the non-root `node` user, and prepending Homebrew’s `bin/` and `sbin/` to `PATH`.

This integrates into the existing Dockerfile’s “build everything as root, then drop privileges” approach, making `brew` available at runtime without compiling it in the image.

<h3>Confidence Score: 4/5</h3>

- This PR is likely safe to merge, but the Homebrew ownership path should be corrected to avoid runtime failures when running as `node`.
- The change is small and isolated to the Dockerfile, but the `chown` targets `/home/linuxbrew` rather than the actual copied prefix directory `/home/linuxbrew/.linuxbrew`, which can cause `brew` write operations to fail under the non-root user.
- Dockerfile (Homebrew prefix ownership and paths)

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-02-02)

<sub>1 file reviewed, 2 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments


## Stats

- **Size:** tiny (7+, 0-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
