---
number: 2744
title: "FIX(imessage): preserve signal info in RPC close handler"
author: sal-jim
created: 2026-01-27T12:19:17Z
updated: 2026-01-28T23:25:11Z
labels: ["channel: imessage"]
additions: 1
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 1
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2744
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

The original code intended to report signal information when the imsg RPC process was killed (evidenced by the `signal ?` ternary on line 95). However, the condition `code !== 0 && code !== null` prevented this from ever happening.

When a process is killed by a signal (e.g., SIGTERM):
- code is null
- signal is "SIGTERM"

The old condition evaluated as: (null !== 0) && (null !== null) = false This routed signal kills to the else branch, losing the signal info.

Changed to `code !== 0 || signal` so signal-killed processes now correctly report "imsg rpc exited (signal SIGTERM)" instead of the generic "imsg rpc closed" message.

## Reviews


## Comments

### @sal-jim (2026-01-27)

What are all these failing checks  (o.O)


## Stats

- **Size:** tiny (1+, 1-, 1 files)
- **Age:** 3 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
