---
number: 2566
title: "feat(discord): add forum channel thread (post) support"
author: wakingcan
created: 2026-01-27T04:09:04Z
updated: 2026-01-28T23:25:11Z
labels: ["channel: discord", "agents"]
additions: 58
deletions: 6
changed_files: 4
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: passing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2566
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Adds support for creating threads (posts) in Discord forum channels via the `message` tool's `thread-create` action.

## Problem

Discord forum channels require an initial message object when creating a post, unlike regular text channel threads. The current implementation didn't support this, making it impossible to create forum posts programmatically.

## Solution

This PR extends the `thread-create` action with forum-specific parameters:

- `message` - Initial post content (required for forum channels)
- `appliedTags` - Array of forum tag IDs to apply
- `embeds` - Optional embed objects for the initial post

## Changes

- **`src/discord/send.types.ts`**: Added `DiscordForumMessage` type and extended `DiscordThreadCreate` with `message` and `appliedTags` fields
- **`src/discord/send.messages.ts`**: Updated `createThreadDiscord` to include message and tags in API payload
- **`src/agents/tools/discord-actions-messaging.ts`**: Read new parameters and build payload accordingly
- **`src/channels/plugins/actions/discord/handle-action.ts`**: Pass through new parameters to action handler

## Usage

```
message action=thread-create channelId=<forum-channel-id> \\
  threadName='Post Title' \\
  message='Initial post content' \\
  appliedTags='["tag-id-1", "tag-id-2"]'
```

## Backward Compatibility

This change is backward compatible - the new parameters are optional. Existing thread creation for regular text channels works unchanged.

## Testing

- [ ] Creates forum posts with initial content
- [ ] Applies forum tags correctly
- [ ] Regular text channel threads still work
- [ ] Embeds in initial post work

## Reviews


## Comments


## Stats

- **Size:** medium (58+, 6-, 4 files)
- **Age:** 3 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
