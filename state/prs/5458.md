---
number: 5458
title: "fix: set correct file ownership in Dockerfile (#5450)"
author: hakyonglee
created: 2026-01-31T14:16:19Z
updated: 2026-01-31T14:43:53Z
labels: ["docker"]
additions: 2
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 0
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/5458
fixes_issues: [5450]
related_prs: [5450]
duplicate_of: null
---

## Description

## Description
This PR fixes a permission issue in the Docker environment where the `node` user was unable to access files owned by `root`. 

In certain environments (especially Linux/Ubuntu), the Docker engine copies files as `root` by default. Since the application runs as the `node` user, this lead to `EACCES: permission denied` errors when scanning the `extensions` directory, even though the files were present. (To be precise, permission issues occur with all files. It just happened to error out at the extensions first.)

## Changes
- Added `--chown=node:node` to the `COPY` instruction in the `Dockerfile`.

## Related Issues
- Fixes #5450 

## Testing
- Verified on Ubuntu 22.04.
- Confirmed that the "plugin not found" error no longer occurs during the onboarding process and plugins are loaded correctly.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR updates the Docker build to copy the repository contents into the image with `node:node` ownership to prevent runtime `EACCES` errors when the container runs as the non-root `node` user (notably affecting `extensions/` scanning in some Docker/Linux setups).

The change fits into the existing Docker hardening approach at the bottom of the `Dockerfile` where the container explicitly switches to `USER node` for runtime safety; ensuring files are owned/readable by that user avoids permission issues during onboarding/plugin loading.

<h3>Confidence Score: 3/5</h3>

- Mostly safe to merge, but broad ownership changes may cause avoidable build/runtime permission edge cases.
- The change is small and addresses a real permission problem, but applying `--chown` to the entire context can unexpectedly alter permissions/ownership for generated artifacts and dependency trees, increasing the chance of subtle issues and rebuild churn. Limiting chown scope would reduce that risk.
- Dockerfile

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps â€” COMMENTED (2026-01-31)

<sub>1 file reviewed, 1 comment</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments


## Stats

- **Size:** tiny (2+, 1-, 1 files)
- **Age:** 2 days
- **Last activity:** 2026-01-31

## Links

- Fixes: #5450
