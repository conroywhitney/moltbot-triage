---
number: 6782
title: "fix: update docker-setup.sh"
author: andylnkd
created: 2026-02-02T02:02:25Z
updated: 2026-02-02T02:03:38Z
labels: ["docker"]
additions: 1
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 0
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/6782
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

the -A in docker-setup.py needs to be -a

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR changes the `upsert_env` helper in `docker-setup.sh` by switching `seen` from an associative array (`declare -A`) to an indexed array (`declare -a`). The intent in the PR description is to fix a flag typo, but in Bash `-A` is the correct flag for associative arrays.

In this script, `seen` is used as a string-keyed set to track which env keys were replaced while rewriting the `.env` file. Using an indexed array here breaks that logic and can cause the `.env` rewrite to fail or produce incorrect/duplicated entries.

<h3>Confidence Score: 2/5</h3>

- Not safe to merge as-is because it likely breaks `.env` generation in `docker-setup.sh`.
- The only change alters array type in a way that conflicts with how the variable is used (string-keyed indexing), which can trigger runtime errors under `set -euo pipefail` or silently produce a malformed `.env`. Low change surface, but high impact on a common setup path.
- docker-setup.sh

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps â€” COMMENTED (2026-02-02)

<sub>1 file reviewed, 1 comment</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments


## Stats

- **Size:** tiny (1+, 1-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
