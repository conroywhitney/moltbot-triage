---
number: 6992
title: "fix(cron): treat undefined enabled as enabled (not disabled)"
author: YuriNachos
created: 2026-02-02T08:29:43Z
updated: 2026-02-02T13:27:45Z
labels: []
additions: 15
deletions: 8
changed_files: 3
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 1
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/6992
fixes_issues: [6749]
related_prs: [6749]
duplicate_of: null
---

## Description

When a cron job is loaded from storage without an explicit `enabled` field, `!job.enabled` treats `undefined` as falsy (disabled), causing jobs to never run. Per documentation, `enabled` defaults to `true`.

## Changes
- `src/cron/service/jobs.ts`: Replace `!job.enabled` checks with `job.enabled === false` in:
  - `computeJobNextRunAtMs()` - determines next run time
  - `recomputeNextRuns()` - recomputes all job schedules
  - `nextWakeAtMs()` - finds next wake time (use `enabled !== false`)
  - `isJobDue()` - checks if job should run (use `enabled !== false`)
- `src/cron/service/timer.ts`: Replace `!j.enabled` with `j.enabled === false` in:
  - `runDueJobs()` - filters due jobs
- `src/cron/types.ts`: Change `enabled: boolean` to `enabled?: boolean` to reflect that the field may be undefined in stored data

## Testing
- All 34 cron test files pass (208 tests)
- Lint passes

Fixes #6749

ðŸ¤– Generated with [Claude Code](https://claude.ai/code)

## Reviews


## Comments


## Stats

- **Size:** small (15+, 8-, 3 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: #6749
