---
number: 3023
title: "Discord: enable forum post creation via thread-create"
author: Solvely-Colin
created: 2026-01-27T23:11:35Z
updated: 2026-02-03T03:57:15Z
labels: ["channel: discord", "agents"]
additions: 89
deletions: 3
changed_files: 7
size: medium
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 2
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/3023
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
Adds support for creating Discord **Forum posts** (channel type 15) using the existing `thread-create` action.

## What changed
- Accept optional initial post `message` content for `thread-create` (required by Discord for forum posts).
- Accept optional `appliedTagIds` to apply forum tags.
- Use `POST /channels/{channelId}/threads` when creating a forum post (and as fallback when no `messageId` is provided).

## Why
Forum channels require an initial message payload. Without it, Discord returns a generic "This field is required" error and forum posts cannot be created.

## Notes
- Uses a raw route string for forum thread creation because `discord-api-types` does not currently provide a helper for the create-forum-post endpoint.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR extends Discord messaging and thread creation to support forum posts (channel type 15) via the existing `thread-create` action. It adds optional `embeds`/`components` pass-through on message sends, and expands `DiscordThreadCreate` with `content` and `appliedTagIds`. In `createThreadDiscord`, it conditionally uses `POST /channels/{channelId}/threads` with an initial `message` payload when `content` is provided, and falls back to the same endpoint when no `messageId` is provided.

Key concern: the two entry points use different parameter names for the initial post text (`message` vs `content`), which will prevent forum post creation from working consistently.

<h3>Confidence Score: 3/5</h3>

- Mostly safe to merge, but there is a functional mismatch that can break forum post creation in one code path.
- Changes are largely additive (new optional fields and routing logic), but the `thread-create` parameter name mismatch (`message` vs `content`) and the truthy check on `payload.content` can still cause forum post creation to fail with Discord’s required-field error.
- src/channels/plugins/actions/discord/handle-action.ts; src/discord/send.messages.ts

<!-- greptile_other_comments_section -->

<sub>(3/5) Reply to the agent's comments like "Can you suggest a fix for this @greptileai?" or ask follow-up questions!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-02-03)

<sub>2 files reviewed, 3 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @Solvely-Colin (2026-01-29)

Added support for Discord  and  passthrough on the  tool schema and Discord send pipeline. This enables clean embedded posts (PRs/issues/weekly/PRDs) and lays groundwork for buttons in command-center. Commit: ca2ab303b.

### @Solvely-Colin (2026-01-29)

I added support for Discord embed + component passthrough in the message tool schema and Discord send pipeline.

This enables clean embedded posts (PRs/issues/weekly/PRDs) and lays groundwork for buttons in command-center.

Commit: ca2ab303b



## Stats

- **Size:** medium (89+, 3-, 7 files)
- **Age:** 6 days
- **Last activity:** 2026-02-03

## Links

- Fixes: (none detected)
