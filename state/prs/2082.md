---
number: 2082
title: "fix(telegram): thread accountId through native command context"
author: Glucksberg
created: 2026-01-26T05:02:46Z
updated: 2026-01-30T14:48:37Z
labels: ["channel: telegram"]
additions: 65
deletions: 8
changed_files: 3
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2082
fixes_issues: [2038]
related_prs: [2038]
duplicate_of: null
---

## Description

## Summary

- Fixes native Telegram commands (slash menu like `/reset`) delivering confirmations through the wrong Telegram bot account in multi-account setups

## Problem

When using multiple Telegram bot accounts, native commands (e.g., `/reset` from the slash command menu) would send their confirmations through the default Telegram bot instead of the account-specific bot that received the command.

The root cause: `AccountId` was not included in the context payload built by `registerTelegramNativeCommands`, so when `handleCommands` called `routeReply` with `params.ctx.AccountId`, it was `undefined`, causing the delivery system to fall back to the default account.

## Solution

Added `AccountId: route.accountId` to the context payload in `bot-native-commands.ts`, following the established pattern used in:
- Regular Telegram message handling (`bot-message-context.ts`)
- Discord native commands
- Slack slash commands
- LINE, Matrix, and other channel implementations

## Test plan

- [ ] Configure multiple Telegram bot accounts with bindings
- [ ] Send `/reset` command via slash menu from a non-default account
- [ ] Verify the confirmation message is delivered through the same bot that received the command

Closes #2038

ðŸ¤– Generated with [Claude Code](https://claude.ai/code)

## Reviews


## Comments


## Stats

- **Size:** medium (65+, 8-, 3 files)
- **Age:** 4 days
- **Last activity:** 2026-01-30

## Links

- Fixes: #2038
