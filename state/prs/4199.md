---
number: 4199
title: "gateway: auto-approve device pairing for Tailscale-authenticated connections"
author: shamal
created: 2026-01-29T21:20:17Z
updated: 2026-01-29T21:20:27Z
labels: ["gateway"]
additions: 1
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/4199
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
- Auto-approve device pairing requests when the connection is authenticated via Tailscale (`authMethod === "tailscale"`)
- Previously, only localhost/loopback connections (`isLocalClient`) were auto-approved, which meant Tailscale Serve connections to a headless gateway required manual pairing approval that could never be granted (no UI to click "Approve")

## Test plan
- [x] Tested connecting macOS companion app via WSS to a headless Linux gateway running behind Tailscale Serve
- [x] Verified device pairing is auto-approved (gateway logs: `device pairing auto-approved`)
- [x] Confirmed the app connects successfully after the fix

## Reviews


## Comments


## Stats

- **Size:** tiny (1+, 1-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
