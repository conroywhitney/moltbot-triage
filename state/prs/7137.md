---
number: 7137
title: "fix: add openai-codex/gpt-5.2 to XHIGH_MODEL_REFS"
author: sauerdaniel
created: 2026-02-02T12:49:21Z
updated: 2026-02-02T12:50:13Z
labels: []
additions: 1
deletions: 0
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 2
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/7137
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

The model ref `openai-codex/gpt-5.2` was missing from the xhigh allowlist, causing sessions with `thinking='xhigh'` to hang with 0 tokens when using this model configuration.

## Problem

The OpenAI `gpt-5.2` model supports `reasoning.effort: xhigh`, but OpenClaw only had `openai-codex/gpt-5.2-codex` in `XHIGH_MODEL_REFS`. Users with custom provider configs using `gpt-5.2` (without `-codex` suffix) were unable to use xhigh thinking.

## Fix

Add `openai-codex/gpt-5.2` to `XHIGH_MODEL_REFS` array.

## Testing

- [x] Tested locally - xhigh spawn now works (6972 tokens vs 0 tokens before)
- [x] Unit tests pass (`pnpm test -- src/auto-reply/thinking.test.ts`)

## AI-Assisted

Yes - Claude helped identify and fix the bug.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR updates the `src/auto-reply/thinking.ts` xhigh allowlist by adding the model ref `openai-codex/gpt-5.2` alongside the existing `openai/gpt-5.2` and `openai-codex/gpt-5.2-codex` entries. This ensures `supportsXHighThinking()` recognizes `gpt-5.2` under the `openai-codex` provider (without the `-codex` suffix), so `listThinkingLevels()` can expose the `xhigh` option for that configuration instead of silently omitting it (which reportedly led to 0-token/hanging sessions).

<h3>Confidence Score: 5/5</h3>

- This PR is safe to merge with minimal risk.
- The change is a single additive allowlist entry in `XHIGH_MODEL_REFS`, and the surrounding logic already normalizes/compares these refs via Sets; there are no behavioral changes beyond enabling xhigh for the intended provider/model combination.
- No files require special attention

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews


## Comments


## Stats

- **Size:** tiny (1+, 0-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
