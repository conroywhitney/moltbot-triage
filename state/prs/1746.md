---
number: 1746
title: "feat(tailscale): add socket option for userspace tailscaled"
author: aiccountant-bot
created: 2026-01-25T08:39:18Z
updated: 2026-01-28T23:25:13Z
labels: ["gateway"]
additions: 51
deletions: 15
changed_files: 5
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/1746
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
- Adds `gateway.tailscale.socket` config option to specify a custom tailscaled socket path
- Enables userspace Tailscale support for multi-user setups where each user runs their own tailscaled instance
- Updates `enableTailscaleServe`, `disableTailscaleServe`, `enableTailscaleFunnel`, `disableTailscaleFunnel`, and `getTailnetHostname` to accept socket option

## Use Case
On shared machines (e.g., VMs with multiple users), each user can run their own userspace tailscaled instance with a separate tailnet identity. This allows:
- User isolation (each user gets their own tailscale hostname like `user-machine.ts.net`)
- No root/sudo required for tailscale serve
- Independent tailscale management per user

## Configuration
```bash
# Start userspace tailscaled
tailscaled --tun=userspace-networking \
  --statedir=$HOME/.local/share/tailscale \
  --socket=$HOME/.local/share/tailscale/tailscaled.sock &

# Authenticate
tailscale --socket=$HOME/.local/share/tailscale/tailscaled.sock up --hostname=my-hostname

# Configure clawdbot to use it
clawdbot config set gateway.tailscale.mode serve
clawdbot config set gateway.tailscale.socket "$HOME/.local/share/tailscale/tailscaled.sock"
```

## Test plan
- [x] Build passes (`pnpm build`)
- [x] Lint passes (`pnpm lint`)
- [x] Existing tailscale tests pass
- [x] Tested with userspace tailscaled on Debian VM

ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

## Reviews


## Comments


## Stats

- **Size:** medium (51+, 15-, 5 files)
- **Age:** 5 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
