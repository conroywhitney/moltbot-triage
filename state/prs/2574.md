---
number: 2574
title: "fix(diagnostics-otel): update to @opentelemetry/resources v2.x API"
author: dillera
created: 2026-01-27T04:32:30Z
updated: 2026-01-28T23:25:11Z
labels: ["extensions: diagnostics-otel"]
additions: 2
deletions: 2
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 1
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2574
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

The `diagnostics-otel` plugin fails to load with:

```
TypeError: _resources.Resource is not a constructor
```

## Root Cause

The `@opentelemetry/resources` package v2.x removed the `Resource` class export. The new API uses `resourceFromAttributes()` function instead.

From the package's index.js (v2.5.0):
```js
export { resourceFromAttributes, defaultResource, emptyResource } from './ResourceImpl';
```

Note: No `Resource` class is exported.

## Fix

- Replace `import { Resource }` with `import { resourceFromAttributes }`
- Replace `new Resource({...})` with `resourceFromAttributes({...})`

## Testing

Tested locally on macOS with Node 22.22.0 â€” plugin now loads successfully and exports telemetry to Honeycomb.

---

Found while debugging with Clawdbot ðŸ¤–

## Reviews


## Comments

### @dillera (2026-01-27)

bots helping bots


## Stats

- **Size:** tiny (2+, 2-, 1 files)
- **Age:** 3 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
