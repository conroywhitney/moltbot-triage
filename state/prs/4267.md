---
number: 4267
title: "feat(auth): sync OAuth credentials from Claude CLI"
author: Glucksberg
created: 2026-01-30T00:24:18Z
updated: 2026-01-30T00:24:27Z
labels: ["agents"]
additions: 51
deletions: 7
changed_files: 1
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/4267
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
Extend external CLI credential sync to also read from Claude CLI's credential store.

## Problem
Users who authenticate with Claude CLI have OAuth tokens stored in `~/.claude/.credentials.json`, but these aren't automatically available in Moltbot.

## Solution
Add Claude CLI to the external credential sync alongside the existing Qwen CLI sync:
- Reads OAuth tokens from Claude CLI credential store
- Auto-refreshes when token expires
- Respects same TTL and near-expiry thresholds as Qwen CLI sync

## Changes
- `external-cli-sync.ts`: Add Claude CLI credential reading
- Uses existing `readClaudeCliCredentialsCached` function

## Testing
Tested manually with Claude CLI credentials.

## Reviews


## Comments


## Stats

- **Size:** medium (51+, 7-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: (none detected)
