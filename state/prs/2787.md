---
number: 2787
title: "refactor: improve key tracking in upsert_env function"
author: chenyw1990
created: 2026-01-27T14:20:08Z
updated: 2026-01-28T23:25:11Z
labels: ["docker"]
additions: 14
deletions: 3
changed_files: 1
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/moltbot/moltbot/pull/2787
fixes_issues: []
related_prs: [2781]
duplicate_of: null
---

## Description

Summary

fix docker-setup.sh run failed on macOS

Root Cause

docker-setup.sh uses declare -A, which requires Bash 4+. macOS ships Bash 3.x by default, so declare -A fails.

#2781 

## Reviews


## Comments


## Stats

- **Size:** small (14+, 3-, 1 files)
- **Age:** 1 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
