---
number: 7485
title: "TTS: add Resemble AI provider support"
author: devshahofficial
created: 2026-02-02T21:50:31Z
updated: 2026-02-02T23:28:49Z
labels: ["gateway"]
additions: 141
deletions: 9
changed_files: 7
size: medium
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 1
reactions_total: 2
ci_status: pending
mergeable: false
draft: false
url: https://github.com/openclaw/openclaw/pull/7485
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

- Add Resemble AI as a new TTS provider alongside ElevenLabs, OpenAI, and Edge TTS
- Implement `resembleTTS()` function using Resemble's synthesis API
- Add config options: `apiKey`, `voiceUuid`, `sampleRate`, `outputFormat`
- Update gateway RPC handlers, CLI commands, and UI labels

## Test plan

- [x] Verified TTS generation works with Resemble API
- [x] Confirmed Resemble config section appears in Control UI
- [x] Tested `/tts provider resemble` command

ðŸ¤– Generated with [Claude Code](https://claude.ai/code)

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

Adds **Resemble AI** as a new TTS provider across config/schema, gateway RPC handlers, and runtime TTS execution.

Key updates:
- Extends `TtsProvider`/zod schemas to include `resemble` and adds config fields (`apiKey`, `voiceUuid`, `sampleRate`, `outputFormat`).
- Adds a `resembleTTS()` fetch-based implementation and wires it into `textToSpeech()` provider selection.
- Updates gateway `tts.status`, `tts.providers`, and provider validation to expose/configure Resemble.
- Updates `/tts provider â€¦` command output to show Resemble key status.

Main concern is correctness of returned metadata for Resemble (reported `outputFormat`/file extension), plus a small UX inconsistency in `/tts help` provider listing.

<h3>Confidence Score: 3/5</h3>

- Mostly safe to merge, but there is a correctness issue in Resemble output metadata that can misreport formats to callers.
- The PR is straightforward schema/plumbing plus a new provider implementation. However, the current `textToSpeech()` success response reports `outputFormat` as if the provider were ElevenLabs for any non-OpenAI provider, which will be wrong for Resemble and likely impacts UI/status consumers. No other high-confidence runtime breakers were found in the reviewed files.
- src/tts/tts.ts (provider output/format handling)

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps â€” COMMENTED (2026-02-02)

<sub>2 files reviewed, 2 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @greptile-apps (2026-02-02)

<details>
<summary>Additional Comments (2)</summary>

**`src/tts/tts.ts`**
[P0] Returned `outputFormat` is wrong for Resemble provider

In `textToSpeech`, non-edge providers return `outputFormat: provider === "openai" ? output.openai : output.elevenlabs`, which means Resemble will be reported as `mp3_44100_128` (ElevenLabs) even though the request used `config.resemble.outputFormat` (and the file extension written is `output.extension`, not Resembleâ€™s). This breaks UI/status reporting and can confuse downstream consumers that rely on `outputFormat`.

Also appears in `src/tts/tts.ts:1379-1391` where the file extension is always `output.extension` regardless of provider; Resemble should likely have its own format/extension mapping or convert to the chosen output container.

<details><summary>Prompt To Fix With AI</summary>

`````markdown
This is a comment left during a code review.
Path: src/tts/tts.ts
Line: 1386:1390

Comment:
[P0] Returned `outputFormat` is wrong for Resemble provider

In `textToSpeech`, non-edge providers return `outputFormat: provider === "openai" ? output.openai : output.elevenlabs`, which means Resemble will be reported as `mp3_44100_128` (ElevenLabs) even though the request used `config.resemble.outputFormat` (and the file extension written is `output.extension`, not Resembleâ€™s). This breaks UI/status reporting and can confuse downstream consumers that rely on `outputFormat`.

Also appears in `src/tts/tts.ts:1379-1391` where the file extension is always `output.extension` regardless of provider; Resemble should likely have its own format/extension mapping or convert to the chosen output container.

How can I resolve this? If you propose a fix, please make it concise.
`````
</details>

---

**`src/auto-reply/reply/commands-tts.ts`**
[P2] `/tts help` provider list omits Resemble

`ttsUsage()` lists providers as edge/openai/elevenlabs but does not include `resemble`, even though `/tts provider resemble` is supported. This makes the help text inconsistent with actual functionality.

<details><summary>Prompt To Fix With AI</summary>

`````markdown
This is a comment left during a code review.
Path: src/auto-reply/reply/commands-tts.ts
Line: 56:60

Comment:
[P2] `/tts help` provider list omits Resemble

`ttsUsage()` lists providers as edge/openai/elevenlabs but does not include `resemble`, even though `/tts provider resemble` is supported. This makes the help text inconsistent with actual functionality.

How can I resolve this? If you propose a fix, please make it concise.
`````
</details>
</details>


## Stats

- **Size:** medium (141+, 9-, 7 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
