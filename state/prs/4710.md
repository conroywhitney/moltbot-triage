---
number: 4710
title: "fix: make @mariozechner/clipboard optional for ARM compatibility"
author: spiceoogway
created: 2026-01-30T15:06:55Z
updated: 2026-01-30T15:30:51Z
labels: []
additions: 1
deletions: 0
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 2
reactions_total: 0
ci_status: failing
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/4710
fixes_issues: [4596]
related_prs: [4596]
duplicate_of: null
---

## Description

Fixes #4596

## Problem
Users on 32-bit ARM Linux systems (arm-gnueabihf, e.g., Raspberry Pi 32-bit OS) encounter a fatal error when starting OpenClaw:
```
Error: Cannot find module '@mariozechner/clipboard-linux-arm-gnueabihf'
```

## Root Cause
- OpenClaw depends on `@mariozechner/pi-coding-agent`
- `pi-coding-agent` has a hard dependency on `@mariozechner/clipboard`
- The clipboard package doesn't provide native binaries for `linux-arm-gnueabihf` (32-bit ARM)
- When Node.js tries to load the module, it fails because the platform-specific binary is missing

## Solution
Move `@mariozechner/clipboard` to `optionalDependencies`. This is safe because:
- OpenClaw has its own clipboard implementation in `src/infra/clipboard.ts` (uses system commands like xclip, pbcopy, wl-copy)
- OpenClaw doesn't rely on pi-coding-agent's clipboard functionality
- Other pi-coding-agent features (session management, model registry) remain unaffected

## Testing
- Installation should complete successfully on 32-bit ARM systems
- OpenClaw should start without the 'Cannot find module' error
- Clipboard functionality should work via the system commands implementation

This follows the same pattern used for other native dependencies like `@napi-rs/canvas` and `node-llama-cpp`.

cc @shifoc - Would you be able to test this on your Raspberry Pi setup?

## Reviews


## Comments

### @shifoc (2026-01-30)

I can test it tonight but can you walk me through the steps to run your fixes

### @shakkernerd (2026-01-30)

Thanks, if you let us know the outcome of the tests I'll get this in.


## Stats

- **Size:** tiny (1+, 0-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: #4596
