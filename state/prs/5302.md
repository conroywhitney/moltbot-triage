---
number: 5302
title: "docs: clarify Node.js and pnpm requirements for Matrix plugin"
author: Deep-27
created: 2026-01-31T09:24:41Z
updated: 2026-01-31T23:49:21Z
labels: []
additions: 10
deletions: 1
changed_files: 1
size: small
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 3
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/5302
fixes_issues: [5292]
related_prs: [5292]
duplicate_of: null
---

## Description

### Summary
Clarifies the environment requirements for running the Matrix plugin.

### Context
The Matrix extension already declares its dependencies, but running OpenClaw
with unsupported Node.js versions or without pnpm causes the plugin to fail
to load with unclear errors.

### Changes
- Documented required Node.js version (>= 22.12.0)
- Clarified pnpm workspace requirement

Fixes #5292

## Reviews

### @greptile-apps — COMMENTED (2026-01-31)

<sub>1 file reviewed, 4 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @greptile-apps (2026-01-31)

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR adds documentation clarifying the environment requirements for OpenClaw and the Matrix plugin. It addresses issue #5292 by documenting that Node.js >= 22.12.0 and pnpm are required, which matches the `engines` field in `package.json:153`.

**Key changes:**
- Added new "Environment Requirements" section explaining Node.js >= 22.12.0 and pnpm requirements
- Clarified that running with unsupported versions causes Matrix plugin to fail with unclear errors
- Added two blank lines before "Runtime: **Node ≥22**." in the install section

**Potential improvements:**
- The new section placement (after quick start examples) creates an awkward flow - consider moving it earlier
- "workspace install required" phrasing is ambiguous about when pnpm is actually needed
- Trailing whitespace at line 83
- Two unnecessary blank lines added at lines 44-45

The documentation accurately reflects the technical requirements and will help users avoid the plugin loading errors mentioned in the issue.

<h3>Confidence Score: 4/5</h3>

- Safe to merge with minor documentation style improvements recommended
- The PR correctly documents the Node.js version requirement matching package.json engines field and addresses a real user pain point. The content is accurate and helpful, though the section placement and some phrasing could be improved. No functional code changes, only documentation additions.
- No files require special attention - all changes are documentation improvements to README.md

<details><summary><h3>Important Files Changed</h3></summary>




| Filename | Overview |
|----------|----------|
| README.md | Added environment requirements section clarifying Node.js >= 22.12.0 and pnpm requirements for Matrix plugin |

</details>


</details>


<h3>Sequence Diagram</h3>

```mermaid
sequenceDiagram
    participant User
    participant OpenClaw
    participant MatrixPlugin
    participant NodeRuntime
    participant pnpm

    User->>OpenClaw: Install OpenClaw
    User->>OpenClaw: Install Matrix plugin
    OpenClaw->>pnpm: Check pnpm availability
    alt pnpm not available
        pnpm-->>OpenClaw: Error: pnpm not found
        OpenClaw-->>User: Unclear error (plugin fails to load)
    else pnpm available
        OpenClaw->>NodeRuntime: Check Node.js version
        alt Node.js < 22.12.0
            NodeRuntime-->>OpenClaw: Unsupported version
            OpenClaw-->>User: Unclear error (plugin fails to load)
        else Node.js >= 22.12.0
            OpenClaw->>MatrixPlugin: Load plugin with dependencies
            MatrixPlugin->>pnpm: Install workspace dependencies
            pnpm-->>MatrixPlugin: Dependencies installed
            MatrixPlugin-->>OpenClaw: Plugin loaded successfully
            OpenClaw-->>User: Matrix plugin ready
        end
    end
```

### @Deep-27 (2026-01-31)

The failing CI check appears to be unrelated to this PR.

This PR only changes documentation (README.md). The failure is in
`src/docker-setup.test.ts`, where the test expects a literal `"gateway"`
string, but the generated docker-compose output uses structured YAML
(`openclaw-gateway` with `command: ['node', 'dist/index.js', 'gateway', ...]`).

No Docker or test-related files were modified in this PR.
Happy to re-run checks or let maintainers decide how to proceed.


### @joshuafhiggins (2026-01-31)

This does not fix #5292 and may not be needed, are you sure anything in OpenClaw actually requires Node 22.12?


## Stats

- **Size:** small (10+, 1-, 1 files)
- **Age:** 2 days
- **Last activity:** 2026-01-31

## Links

- Fixes: #5292
