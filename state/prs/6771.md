---
number: 6771
title: "fix: preserve case for Signal group IDs"
author: devnull75
created: 2026-02-02T01:44:43Z
updated: 2026-02-02T01:49:23Z
labels: []
additions: 2
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/6771
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Problem

Base64 group IDs are case-sensitive, but the `normalizeSignalMessagingTarget` function was lowercasing them. This causes group messaging to fail with:

```
Signal RPC -1: Group not found: 9fdt3vbon3zvaxd9s+/hh0sshtr+u8b+zyhnde2l1yo=
```

The correct ID should preserve case: `9fDt3VbON3ZvAxd9S+/hH0sSHtr+U8b+zyhnDE2l1YQ=`

## Solution

Removed the `.toLowerCase()` call for group IDs in `src/channels/plugins/normalize/signal.ts`.

The prefix check (`group:`) still uses lowercase comparison, but the actual group ID is now preserved as-is.

## Testing

- Confirmed that group messaging now works with the correct case-sensitive ID
- Phone number normalization still works (case-insensitive as expected)

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR updates Signal messaging target normalization to preserve case for `group:` IDs (base64 and case-sensitive) by removing the `.toLowerCase()` on the returned group target. Other target types (e.g., `uuid:`, `username:`) continue to be normalized to lowercase, consistent with their case-insensitive semantics.

<h3>Confidence Score: 5/5</h3>

- This PR is safe to merge; the change is small, targeted, and aligns with Signal group ID semantics.
- Reviewed the only changed function and its existing test coverage; the modification removes unintended lowercasing of base64 group IDs while keeping prefix detection case-insensitive. No other call sites or behaviors are impacted beyond group target normalization.
- No files require special attention

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

**Context used:**

- Context from `dashboard` - CLAUDE.md ([source](https://app.greptile.com/review/custom-context?memory=fd949e91-5c3a-4ab5-90a1-cbe184fd6ce8))
- Context from `dashboard` - AGENTS.md ([source](https://app.greptile.com/review/custom-context?memory=0d0c8278-ef8e-4d6c-ab21-f5527e322f13))

<!-- /greptile_comment -->

## Reviews


## Comments


## Stats

- **Size:** tiny (2+, 1-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
