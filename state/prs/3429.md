---
number: 3429
title: "feat(identity): include emoji in message prefix"
author: p6l-richard
created: 2026-01-28T15:51:32Z
updated: 2026-01-28T23:25:08Z
labels: ["agents"]
additions: 6
deletions: 3
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/moltbot/moltbot/pull/3429
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

When `identity.emoji` is configured, include it in the resolved message prefix alongside the name.

## Configuration

```json
{
  "agents": {
    "list": [{
      "id": "main",
      "identity": {
        "name": "Richbot",
        "emoji": "ü¶Å"
      }
    }]
  }
}
```

## Current behavior
<img width="978" height="130" alt="CleanShot 2026-01-28 at 16 47 00@2x" src="https://github.com/user-attachments/assets/c0db6dda-3fb2-4465-8be9-e971dd03cfe0" />

The resolved prefix is `[Richbot]`: the emoji is ignored.

## Proposed behavior

| Config | Result |
|--------|--------|
| name + emoji | `[ü¶Å Richbot]` |
| name only | `[Richbot]` |
| emoji only | `[ü¶Å]` |

## Code change

```diff
 export function resolveIdentityNamePrefix(cfg: MoltbotConfig, agentId: string): string | undefined {
-  const name = resolveAgentIdentity(cfg, agentId)?.name?.trim();
-  if (!name) return undefined;
-  return `[${name}]`;
+  const identity = resolveAgentIdentity(cfg, agentId);
+  const name = identity?.name?.trim();
+  const emoji = identity?.emoji?.trim();
+  if (!name && !emoji) return undefined;
+  const parts = [emoji, name].filter(Boolean);
+  return `[${parts.join(" ")}]`;
 }
```

Builds on the identity.name prefix feature from 8112b27.

## Reviews


## Comments


## Stats

- **Size:** tiny (6+, 3-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
