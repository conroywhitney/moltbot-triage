---
number: 3324
title: "Update Dockerfile to support Homebrew and Go for skill execution"
author: nnnet
created: 2026-01-28T12:53:07Z
updated: 2026-01-28T23:25:09Z
labels: ["docker"]
additions: 25
deletions: 0
changed_files: 1
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 1
ci_status: failing
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/3324
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Description:

This PR introduces changes to the Dockerfile to include the installation of Homebrew and the Go programming language. These additions are required to ensure compatibility with specific skills that depend on the Go runtime or binaries managed via Homebrew.

Motivation:

Currently, the environment lacks the necessary tooling to run . 
To support the installation and execution of these skills, we need to:

Integrate Homebrew as a package manager.
Install the Go compiler and toolchain.
Technical Details:

Since Homebrew strictly refuses to run as the root user for security reasons, the installation process required the following structural changes:

User Creation: A dedicated user (linuxbrew) is created with a home directory and bash shell.
Sudo Privileges: The user is granted NOPASSWD sudo access. This is necessary because Homebrew scripts often require elevated permissions to create directories and symlinks in system locations during the installation process, even if the core installation happens in the user's home folder.
Installation: Homebrew is bootstrapped via the official install script, running under the linuxbrew user context.
Environment Setup: The PATH environment variable is updated to include /home/linuxbrew/.linuxbrew/bin and /home/linuxbrew/.linuxbrew/sbin, making brew and installed binaries (like go) globally accessible.
Go Installation: The go formula is installed via Homebrew.
Root Restoration: The Dockerfile switches back to the root user at the end. This ensures that any subsequent system-level configurations or the main container process can run with the expected default permissions.
Changes:

Added linuxbrew user setup.
Integrated Homebrew installation logic.
Installed Go (brew install go).
Configured environment variables for the new paths.

## Reviews


## Comments


## Stats

- **Size:** small (25+, 0-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
