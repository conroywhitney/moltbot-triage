---
number: 2134
title: "fix: enable iOS chat messaging via node role"
author: abdaraxus
created: 2026-01-26T08:10:39Z
updated: 2026-01-28T23:25:12Z
labels: ["app: ios", "gateway"]
additions: 117
deletions: 13
changed_files: 8
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2134
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Problem

iOS app messaging section was spinning indefinitely when trying to access chat history.

## Root Cause

iOS devices connect with `node` role, but chat methods (`chat.history`, `chat.send`, `chat.abort`, `sessions.list`) were only accessible to `operator` role.

The gateway was returning `unauthorized role: node` errors, causing the iOS app to hang waiting for responses.

## Solution

This PR includes two fixes:

1. **Gateway**: Expanded `NODE_ROLE_METHODS` to include chat-related methods
2. **iOS**: Route chat requests through operator session when available

## Testing

- ✅ iOS messaging section loads without spinning
- ✅ Chat history accessible from iOS devices
- ✅ Maintains security boundaries for other node operations

Fixes the issue where iOS devices couldn't access messaging functionality due to role restrictions.

## Reviews


## Comments


## Stats

- **Size:** medium (117+, 13-, 8 files)
- **Age:** 4 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
