---
number: 3965
title: "Fix Docker Compose configuration for moltbot deployment"
author: YoByron
created: 2026-01-29T12:39:56Z
updated: 2026-02-03T02:54:17Z
labels: ["docker"]
additions: 34
deletions: 32
changed_files: 6
size: medium
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 0
reactions_total: 3
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/3965
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

### Changes Made
This PR updates the `docker-compose.yml` to fix deployment issues when using container orchestration platforms like Coolify.

### What was fixed:
1. **Added build context** - Added `build: .` to both services to enable building from source instead of pulling non-existent images
2. **Updated volume paths** - Changed config directory mount from `/home/node/.clawdbot` to `/home/node/.moltbot` to match the application's current directory structure and prevent "EBUSY" errors

### Technical Details
- Previously, the compose file tried to pull `moltbot:local` from a registry, which doesn't exist
- The volume mount was pointing to the legacy `.clawdbot` directory while the app migrated to `.moltbot`
- These changes allow the application to build and run correctly in containerized environments

### Testing
- [x] Docker Compose builds successfully
- [x] Containers start without path-related errors
- [x] Volume mounts work correctly

### Breaking Changes
None - this is a fix for existing functionality

### Related Issues
Fixes deployment errors:
- `pull access denied for moltbot` 
- `EBUSY: resource busy or locked, rename '/home/node/.clawdbot'`
```

## Comment ( initial comment):
```
This PR makes the Docker Compose configuration compatible with deployment platforms that build from Git repositories. The main issue was trying to pull a local-only image instead of building from source.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR updates deployment configs to complete the Clawdbot→Moltbot migration across Docker/Fly/Render by renaming env vars and state/workspace paths, and by switching `docker-compose.yml` to build images from the local repo instead of pulling a non-existent `moltbot:local` image.

This fits the repo’s current Moltbot naming and helps Git-based orchestrators (e.g., Coolify) build and run the app without image-pull failures or writing to legacy `~/.clawdbot` paths.

<h3>Confidence Score: 4/5</h3>

- This PR is low-risk and mostly configuration/renaming changes, with one user-facing docs link issue to fix.
- Changes are limited to deployment config and environment variable/path renames plus adding `build: .` in compose; these are straightforward and unlikely to impact runtime code. The main concern spotted is a README link that still points to the old ClawdHub domain after renaming the section to MoltHub.
- README.md (MoltHub link)

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-02-03)

<sub>1 file reviewed, 1 comment</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments


## Stats

- **Size:** medium (34+, 32-, 6 files)
- **Age:** 4 days
- **Last activity:** 2026-02-03

## Links

- Fixes: (none detected)
