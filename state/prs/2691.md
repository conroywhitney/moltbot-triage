---
number: 2691
title: "feat: add extraWorkspaceFiles config for custom bootstrap files"
author: spanishflu-est1918
created: 2026-01-27T09:21:19Z
updated: 2026-01-28T23:25:11Z
labels: ["docs", "agents"]
additions: 235
deletions: 6
changed_files: 11
size: large
review_decision: none
reviews: []
comments_count: 0
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2691
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Adds a new config option `agents.defaults.extraWorkspaceFiles` that allows users to specify additional workspace files to auto-inject into the system prompt alongside the defaults (AGENTS.md, SOUL.md, USER.md, MEMORY.md, TOOLS.md, IDENTITY.md, HEARTBEAT.md, BOOTSTRAP.md).

## The Problem

Currently, Clawdbot auto-injects a hardcoded list of workspace files into the "Project Context" section of the system prompt. Users cannot add custom files to this list. For example, a `PANTHEON.md` file for shared agent protocols won't be auto-loaded â€” agents would need to actively read it, which is unreliable.

## The Solution

Add a config option that lets users specify additional markdown files to be auto-injected:

```yaml
agents:
  defaults:
    extraWorkspaceFiles:
      - PANTHEON.md
      - protocols/SHARED.md
      - .private/CONTEXT.md
```

## Features

- **Relative paths**: Paths are resolved relative to the workspace directory
- **Graceful handling**: Files that don't exist are silently skipped (no `[MISSING]` markers unlike defaults)
- **Deduplication**: Extra files that match default filenames are ignored to prevent duplicates
- **Subagent support**: Extra files are included for subagent sessions (alongside the allowlisted AGENTS.md/TOOLS.md)
- **Truncation**: Respects `bootstrapMaxChars` truncation like other workspace files

## Example Use Cases

- **Multi-agent protocols**: A `PANTHEON.md` file with shared conversation rules for agents in group chats
- **Project context**: A `PROJECT.md` file with codebase conventions
- **Private notes**: Files in `.private/` that shouldn't be part of the defaults

## Testing

Added tests for:
- Loading extra workspace files when present
- Skipping missing extra files
- Deduplication against default files
- Subagent session filtering including extra files

All existing tests pass.

## Reviews


## Comments


## Stats

- **Size:** large (235+, 6-, 11 files)
- **Age:** 3 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
