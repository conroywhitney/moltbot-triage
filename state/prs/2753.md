---
number: 2753
title: "fix: Support nested packages in pnpm-workspace.yaml (#2745)"
author: HarshalJain-cs
created: 2026-01-27T12:48:31Z
updated: 2026-02-03T03:56:12Z
labels: []
additions: 1
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2753
fixes_issues: [2745]
related_prs: [2745]
duplicate_of: null
---

## Description

â€¦ckage glob pattern from 'packages/*' to 'packages/**' to properly include all nested packages under the packages directory. This resolves ERR_PNPM_WORKSPACE_PKG_NOT_FOUND errors during builds.  Fixes #2745

This fix addresses issue #2745 where pnpm fails during builds due to workspace packages not being properly resolved. By changing the glob pattern from 'packages/*' to 'packages/**', we ensure that all nested packages are included in the workspace configuration, fixing the ERR_PNPM_WORKSPACE_PKG_NOT_FOUND error.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR updates `pnpm-workspace.yaml` to include nested workspace packages by adding the glob `packages/**` to the `packages:` list. This ensures pnpm discovers packages in deeper subdirectories under `packages/`, addressing `ERR_PNPM_WORKSPACE_PKG_NOT_FOUND` during builds while leaving existing workspace entries (`.`, `ui`, `extensions/*`) unchanged.

<h3>Confidence Score: 5/5</h3>

- This PR is safe to merge with minimal risk.
- Change is a single-line workspace glob addition in `pnpm-workspace.yaml`, with no code-path impact beyond package discovery; it is consistent with the stated goal of including nested packages under `packages/`.
- No files require special attention

<!-- greptile_other_comments_section -->

<sub>(3/5) Reply to the agent's comments like "Can you suggest a fix for this @greptileai?" or ask follow-up questions!</sub>

**Context used:**

- Context from `dashboard` - CLAUDE.md ([source](https://app.greptile.com/review/custom-context?memory=fd949e91-5c3a-4ab5-90a1-cbe184fd6ce8))
- Context from `dashboard` - AGENTS.md ([source](https://app.greptile.com/review/custom-context?memory=0d0c8278-ef8e-4d6c-ab21-f5527e322f13))

<!-- /greptile_comment -->

## Reviews


## Comments


## Stats

- **Size:** tiny (1+, 1-, 1 files)
- **Age:** 6 days
- **Last activity:** 2026-02-03

## Links

- Fixes: #2745
