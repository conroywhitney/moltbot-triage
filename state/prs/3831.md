---
number: 3831
title: "fix: ignore mDNS socket errors to prevent gateway crashes"
author: cici1029
created: 2026-01-29T07:07:33Z
updated: 2026-01-29T07:10:27Z
labels: []
additions: 10
deletions: 4
changed_files: 1
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/3831
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Problem
Gateway crashes every ~2 minutes due to unhandled promise rejection from mDNS announcement failures (EAFNOSUPPORT socket errors).

## Solution
Extended `ignoreCiaoCancellationRejection` to also handle mDNS socket errors, which are non-fatal and typically caused by network interface configuration issues.

## Testing
- Tested locally: gateway remained stable for 150+ seconds after fix, compared to crashing every ~120 seconds before
- Environment: macOS 15.2, with HTTP_PROXY configuration

## Notes
- These socket errors don't affect gateway functionality since mDNS is only for local network discovery
- Gateway continues to work normally even when mDNS is unavailable

## Reviews


## Comments


## Stats

- **Size:** small (10+, 4-, 1 files)
- **Age:** 1 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
