---
number: 3833
title: "fix(gateway): prevent unnecessary restart on meta.lastTouchedAt changes"
author: HirokiKobayashi-R
created: 2026-01-29T07:11:03Z
updated: 2026-01-29T07:11:15Z
labels: ["gateway"]
additions: 1
deletions: 0
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/3833
fixes_issues: [3811]
related_prs: [3811]
duplicate_of: null
---

## Description

## Summary

- Added `{ prefix: "meta", kind: "none" }` to `BASE_RELOAD_RULES_TAIL`
- Prevents gateway restart when `meta.lastTouchedAt` changes

## Problem

When tools modify the config (e.g., `moltbot agents add`), the `meta.lastTouchedAt` field gets updated. Without a reload rule for "meta", this fell through to `restartGateway = true`, causing:

1. Gateway sends SIGUSR1, restarts
2. In-flight HTTP requests to LLM providers are aborted
3. User never receives the agent's response

```
04:58:51.420Z - Tool result received (clawdbot agents add completed)
04:58:51.936Z - [reload] config change detected; evaluating reload (meta.lastTouchedAt, ...)
04:58:51.939Z - [reload] config change requires gateway restart (meta.lastTouchedAt)
04:58:51.961Z - [clawdbot] Unhandled promise rejection: AbortError: This operation was aborted
```

## Solution

Add `meta` prefix to the reload rules with `kind: "none"` so changes to `meta.*` fields are ignored.

## Test plan

- [x] Existing config-reload tests pass (8 tests)
- [x] Lint/type check pass

Fixes #3811

## Reviews


## Comments


## Stats

- **Size:** tiny (1+, 0-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: #3811
