---
number: 1946
title: "feat(tools): add computer tool for GUI automation"
author: f-trycua
created: 2026-01-25T20:32:01Z
updated: 2026-01-28T23:25:13Z
labels: ["docs"]
additions: 776
deletions: 0
changed_files: 7
size: large
review_decision: none
reviews: []
comments_count: 7
reactions_total: 0
ci_status: failing
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/1946
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Adds a new `computer` tool that enables Clawdbot agents to control desktop GUIs via [cua-computer-server](https://github.com/trycua/cua/tree/main/libs/python/computer-server).

**Capabilities:**
- Take screenshots of the desktop
- Click, double-click, right-click at screen coordinates
- Type text, press keys, hotkey combinations (e.g., cmd+c)
- Scroll in any direction
- Move cursor, drag operations
- Get screen size and cursor position

**Integration modes:**
- **Sandbox mode**: Use pre-built `cua-xfce` or `cua-ubuntu` Docker images (computer-server included)
- **Node mode**: Install computer-server on Linux nodes with supervisor

<img width="1024" height="768" alt="cua-xfce desktop sandbox" src="https://github.com/user-attachments/assets/87e3f413-48ec-42f9-9ffc-e7c1a1c7d4ac" />

Related: https://github.com/clawdbot/clawdbot/issues/1754

## Files changed

- `src/agents/tools/computer-server-client.ts` - HTTP client for computer-server API
- `src/agents/tools/computer-tool.ts` - The `computer` tool implementation
- `src/agents/clawdbot-tools.ts` - Register the new tool
- `docs/guides/computer-server-setup.md` - Setup documentation

## Notes

- Computer-server also exposes an MCP interface at `/mcp` which could be used if Clawdbot adds MCP client support in the future
- Gateway mode is intentionally not supported (security: would control user's actual desktop)

## Test plan

- [x] Tested locally on macOS with computer-server
- [x] Tested with cua-xfce Docker container
- [x] TypeScript build passes

## Reviews


## Comments

### @f-trycua (2026-01-26)

Since there's been some offline debate on how this differs from @steipete [Peekaboo](https://github.com/steipete/Peekaboo), here's a quick overview:

## Accessibility trees vs screenshots

Two approaches to GUI automation:

- **Accessibility-based** (e.g., Peekaboo): extracts structured element metadata via platform APIs
- **Screenshot-based** (e.g., cua-computer-server): relies on vision models to interpret pixels

Accessibility can have lower token overhead for simple UIs, but:

1. **Inconsistent implementations**: Desktop accessibility varies wildly across apps; custom UI elements are often invisible to the tree.
2. **Tree size**: Complex apps produce dense trees (thousands of elements) that can exceed the token cost of a compressed screenshot.
3. **Benchmarks**: [OSWorld](https://os-world.github.io/) and [Windows Agent Arena](https://microsoft.github.io/WindowsAgentArena/) found screenshot-first approaches achieve higher task completion on desktop.

Accessibility trees work better on mobile, where app stores enforce consistent metadata.

## Platform support

Peekaboo is macOS-only (relies on macOS accessibility APIs). cua-computer-server is cross-platform - works in Docker containers, VMs (via Lume), Linux, Windows, and anywhere you can run a display server.

## Sandbox isolation

Peekaboo runs on your host machine, while cua-computer-server reuses the same Docker isolation model as sandboxed code execution - extended with a GUI and input automation.

### @steipete (2026-01-26)

This falls into the same category as peekaboo; can this be a skill?

### @f-trycua (2026-01-26)

> This falls into the same category as peekaboo; can this be a skill?

I see `computer` as a primitive like `bash` or `read` - it's the low-level capability for GUI interaction, not a workflow. Skills typically compose tools to do higher-level tasks (e.g., "review this PR", "deploy to staging"), while `computer` is the building block that skills would use.

It also needs tight integration with sandbox/node configuration to auto-resolve the server URL based on where the agent is running.

That said, open to discussing if there's a pattern for "optional core tools" that only load when relevant (e.g., when a desktop sandbox is configured).

### @steipete (2026-01-26)

Can we do this as plugin? It has tool announce capability, so should work without adding even more to core.

### @f-trycua (2026-01-26)

Good call - plugin makes sense. Keeps core lean and users can opt-in when they need GUI automation.

I can refactor this as a `cua-computer` plugin that registers the `computer` tool. Would that work?

### @steipete (2026-01-26)

Taht will work. I still want to test this and see if we want to ship this as a plugin or have as community plugin.
This will take a bit. I am prioritizing fixes currently.

### @f-trycua (2026-01-26)

Refactored to a plugin as suggested. The `computer` tool now lives in `extensions/cua-computer/`.

Users can enable it via config:

```yaml
plugins:
  cua-computer:
    serverUrl: "http://localhost:8000"
```

Or via CLI:
```bash
clawdbot plugins enable cua-computer --config '{"serverUrl": "http://localhost:8000"}'
```


## Stats

- **Size:** large (776+, 0-, 7 files)
- **Age:** 4 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
