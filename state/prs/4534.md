---
number: 4534
title: "fix: packaging and OpenAI vision format conversion"
author: SalimBinYousuf1
created: 2026-01-30T09:08:10Z
updated: 2026-01-30T09:08:19Z
labels: ["gateway"]
additions: 38
deletions: 4
changed_files: 2
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: passing
mergeable: false
draft: false
url: https://github.com/openclaw/openclaw/pull/4534
fixes_issues: [3787]
related_prs: [3781,3787]
duplicate_of: null
---

## Description

This PR addresses two issues:

1. **Fix missing bin field in package.json**: Resolves the Windows installer ENOENT error by correctly specifying the bin path without the leading `./` which can cause issues on some environments/installers.
2. **Add image format conversion in OpenAI-compatible API**: Extracts `media_type` from data URIs in OpenAI vision format and converts them to the format expected by the internal agent command, enabling vision model support via the OpenAI-compatible endpoint.

Fixes #3787 and #3781.

## Reviews


## Comments


## Stats

- **Size:** small (38+, 4-, 2 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: #3787
