---
number: 7178
title: "fix(control-ui): resolve header logo when gateway.controlUi.basePath is set"
author: Yeom-JinHo
created: 2026-02-02T14:09:42Z
updated: 2026-02-03T04:11:10Z
labels: ["app: web-ui"]
additions: 4
deletions: 2
changed_files: 1
size: tiny
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 2
reactions_total: 1
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/7178
fixes_issues: [7166]
related_prs: [7166]
duplicate_of: null
---

## Description

closed #7166 

## Description

This PR fixes the Gateway Dashboard header logo when Control UI is served under a base path (`gateway.controlUi.basePath`).

With a base path set (e.g. `/ui`, `/openclaw`, `/test`), the logo previously requested `/favicon.svg`, which is outside the UI path. That request returned HTML (SPA fallback) instead of the image, so the logo appeared broken.

### Changes
- **Header logo (fix)**: Use `state.basePath` when building the logo `<img src>` so the request goes to the correct path (e.g. `/test/favicon.svg` when `basePath` is `/test`).
- **No API change**: When `basePath` is empty, the logo URL remains `/favicon.svg`; behavior is unchanged for the default setup.

## Motivation

- **basePath support**: Docs and config support `gateway.controlUi.basePath` (e.g. `/openclaw`). With `basePath` set, the dashboard and all static assets (including the logo) must be requested under that path.
- **Consistency**: Other UI assets (JS, CSS, avatars) already use `basePath`; the header logo was the only one using a hardcoded `/favicon.svg`, which broke when `basePath` was set.


## Screenshots
|ASIS|TOBE|
|-----|------|
|<img width="1507" height="319" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2026-02-02 á„‹á…©á„’á…® 11 10 43" src="https://github.com/user-attachments/assets/ace14e5d-f09d-4452-ba67-ee7b56724e63" />|<img width="1508" height="304" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2026-02-02 á„‹á…©á„’á…® 11 09 50" src="https://github.com/user-attachments/assets/0ca8b575-b97e-4158-acd7-4471c4c46768" />|

## Reviews

### @greptile-apps â€” COMMENTED (2026-02-02)

<sub>1 file reviewed, 1 comment</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @Yeom-JinHo (2026-02-02)

@steipete 
This is a small fix â€” feel free to review whenever you have time. Thanks!

### @arosstale (2026-02-02)

Great fix! This is a clean and elegant solution to the basePath issue. I really like how the PR is well-documented with clear motivation:

**What I appreciate about this change:**
-  **Minimal and focused** - Only touches the specific issue without introducing unnecessary complexity
- -  **Backward compatible** - Default behavior is unchanged when basePath is empty
- -  **Consistency** - Aligns the header logo with other UI assets that already use basePath
- -  **Clear documentation** - The description clearly explains both the problem and the solution with examples
The screenshots effectively show the before/after state. With 18 successful checks passed and no conflicts with the base branch, this looks ready to merge. Nice work addressing this bug quickly! ðŸš€


## Stats

- **Size:** tiny (4+, 2-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-02-03

## Links

- Fixes: #7166
