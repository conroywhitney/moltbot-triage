---
number: 2828
title: "fix: use constants for JID suffixes and improve prefix stripping"
author: Sheikyon
created: 2026-01-27T15:30:10Z
updated: 2026-01-28T23:29:58Z
labels: []
additions: 19
deletions: 12
changed_files: 1
size: small
review_decision: none
reviews: []
comments_count: 1
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/2828
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

This PR improves the maintainability of WhatsApp JID normalization, which previously used hardcoded values instead of constants for domain suffixes. I also optimized the prefix stripping logic by replacing the iterative loop with a more efficient and clean regular expression.

#### Affected files:

1. ```/src/whatsapp/normalize.ts```

## Reviews


## Comments

### @Sheikyon (2026-01-27)

cc @thewilloftheshadow @steipete @onutc 


## Stats

- **Size:** small (19+, 12-, 1 files)
- **Age:** 1 days
- **Last activity:** 2026-01-28

## Links

- Fixes: (none detected)
