---
number: 7130
title: "[AI-Assisted] Add i18n infrastructure with Chinese (zh-CN) support"
author: 01luyicheng
created: 2026-02-02T12:41:18Z
updated: 2026-02-03T04:30:10Z
labels: ["docs", "channel: matrix", "channel: slack"]
additions: 4246
deletions: 2
changed_files: 17
size: huge
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 0
reactions_total: 1
ci_status: passing
mergeable: false
draft: false
url: https://github.com/openclaw/openclaw/pull/7130
fixes_issues: []
related_prs: [3460]
duplicate_of: null
---

## Description

## Summary

This PR adds a complete internationalization (i18n) infrastructure to OpenClaw, laying the groundwork for supporting multiple languages. While the project is not yet accepting translation contributions (per issue #3460), this establishes the foundation for future i18n work.

## Changes

### Core i18n Module (src/i18n/)
- Complete i18n infrastructure with language detection, translation functions
- Support for locale switching via OPENCLAW_LOCALE environment variable
- Lazy loading of translation files for performance
- Type-safe translation API with interpolation support
- 416 translation strings organized by namespace: cli, errors, wizards, status, validation, common

### Translation Files
- English (en) - 416 strings (source language)
- Simplified Chinese (zh-CN) - 416 strings

### Documentation
- ARCHITECTURE.md - Technical architecture and design documentation
- CONTRIBUTING_I18N.md - Guide for translators
- Integration examples and usage patterns

### Testing
- 30 unit tests covering all core functionality
- All tests passing: 30/30
- TypeScript compilation: 0 errors

### Environment Configuration
- Added OPENCLAW_LOCALE to .env.example for locale configuration

## Context

This work addresses the groundwork needed for internationalization, as tracked in GitHub issue #3460. The project currently does not have bandwidth to maintain translations, but this infrastructure enables future contributions from the community.

## Testing Results

- TypeScript compilation: Pass (0 errors)
- Unit tests: Pass (30/30 tests)
- No duplicate keys in translation files
- All exports properly defined

## AI-Assisted Contribution

This PR was AI-assisted (using Claude/TRAE) with human oversight and review. All code has been reviewed by a code review agent and meets project standards.

Co-authored-by: AI Assistant
Reviewed-by: Code Review Agent

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

Adds a new `src/i18n/` module that provides locale detection (env/CLI/system), JSON-based translation loading, a translator instance with interpolation, and bundled `en`/`zh-CN` locale files plus docs and tests.

The implementation centers on `translator.ts` (default singleton + `createI18n`) backed by `loader.ts` for reading `locales/{{locale}}.json` and `detector.ts` for selecting a `SupportedLocale`, then re-exported via `src/i18n/index.ts`.

<h3>Confidence Score: 3/5</h3>

- Reasonably safe to merge after addressing a couple of correctness issues in tests and locale detection/fallback behavior.
- Core i18n scaffolding is straightforward and mostly self-contained, but there are a few correctness/quality problems (failing test expectation around interpolation, confusing/incorrect test about unsupported locales, and `NODE_ENV` being treated as a locale source) that are likely to cause CI failures or confusing runtime behavior if left as-is.
- src/i18n/i18n.test.ts, src/i18n/detector.ts, src/i18n/translator.ts, src/i18n/integration-example.ts

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps â€” COMMENTED (2026-02-02)

<sub>4 files reviewed, 6 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments


## Stats

- **Size:** huge (4246+, 2-, 17 files)
- **Age:** 0 days
- **Last activity:** 2026-02-03

## Links

- Fixes: (none detected)
