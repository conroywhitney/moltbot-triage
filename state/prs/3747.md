---
number: 3747
title: "feat(web-fetch): add Jina Reader as extraction fallback"
author: nathanschram
created: 2026-01-29T03:58:47Z
updated: 2026-01-29T05:19:55Z
labels: ["docs", "agents"]
additions: 444
deletions: 12
changed_files: 6
size: large
review_decision: none
reviews: []
comments_count: 3
reactions_total: 2
ci_status: failing
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/3747
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Adds [Jina Reader](https://jina.ai/reader/) as an optional fallback extractor for `web_fetch`, positioned between Readability and Firecrawl in the fallback chain.

## Why Jina?

### Pricing Comparison

| Feature | [Jina Reader](https://jina.ai/reader/) | [Firecrawl](https://firecrawl.dev/pricing) |
|---------|-----------|-----------|
| **Free tier** | 10 million tokens | 500 credits (one-time) |
| **Pricing model** | Token-based (output size) | Credit-based (per page) |
| **Starter paid** | Pay-as-you-go after free tier | $16/mo for 3,000 pages |
| **Rate limits (free)** | 500 RPM with API key | 2 concurrent requests |
| **Rate limits (paid)** | 5,000 RPM (premium) | 50-100 concurrent |

### Key Advantages

- **10M free tokens** - Jina's generous free tier means most personal/hobby use cases cost nothing, vs Firecrawl's 500 one-time credits
- **Token-based pricing** - Pay for actual content extracted (output tokens), not per-page. Short pages cost less than long ones
- **Excellent PDF support** - Native PDF extraction with image handling, often better than Firecrawl for academic papers and documents
- **No anti-bot overhead** - Jina doesn't use stealth proxies, resulting in faster responses and simpler pricing (no credit multipliers)
- **Open source** - The [Reader API is open source](https://github.com/jina-ai/reader) on GitHub

### When to Use Each

| Use Case | Recommended |
|----------|-------------|
| Most extraction needs | **Jina** (cost-effective, fast) |
| PDF-heavy workflows | **Jina** (superior PDF support) |
| Sites with bot detection | **Firecrawl** (stealth proxy) |
| High-volume crawling | Either (compare your workload) |

## Changes

- **Schema**: Added `ToolsWebFetchJinaSchema` for type-safe config validation
- **web-fetch.ts**: Added `fetchJinaContent()`, config resolvers, and integrated into fallback chain
- **schema.ts**: Added UI labels/help for Jina config options
- **docs/tools/jina.md**: New documentation for Jina setup
- **docs/tools/web.md**: Updated to reference Jina in fallback chain

## Fallback Order

```
Readability (local) â†’ Jina (if configured) â†’ Firecrawl (if configured) â†’ error
```

Jina is tried before Firecrawl because:
1. Token-based pricing is more affordable for most use cases
2. Better PDF extraction support
3. No anti-bot circumvention overhead = faster responses

## Config Example

```json5
{
  tools: {
    web: {
      fetch: {
        jina: {
          enabled: true,
          apiKey: "jina_...",  // Get free key at https://jina.ai/?sui=apikey
          engine: "browser",   // "browser", "direct", or "cf-browser-rendering"
          timeoutSeconds: 30
        }
      }
    }
  }
}
```

## Test Plan

- [x] Integration tested against Jina API with real API key
- [x] Verified HTML page extraction (example.com)
- [x] Verified documentation page with browser engine (nodejs.org)
- [x] Verified PDF extraction (W3C PDF)
- [x] Verified error handling (non-existent domain throws correctly)

---

ðŸ¤– Generated with [Claude Code](https://claude.ai/code)

## Reviews


## Comments

### @chatgpt-codex-connector (2026-01-29)

You have reached your Codex usage limits for code reviews. You can see your limits in the [Codex usage dashboard](https://chatgpt.com/codex/settings/usage).
To continue using code reviews, you can upgrade your account or add credits to your account and enable them for code reviews in your [settings](https://chatgpt.com/codex/settings/code-review).

### @tonydehnke (2026-01-29)

Great idea, was just looking into doing the same.

### @nathanschram (2026-01-29)

## CI Note: Windows Test Failure

The `checks-windows (node, test)` failure is a **pre-existing issue** unrelated to this PR.

**Failing test:** `src/media-understanding/apply.test.ts` (line 557)

**Error:**
```
ENOENT: no such file or directory, open 'C:\Users\RUNNER~1\AppData\Local\Temp\moltbot-media-QJ3N5z\file<test>.txt'
```

**Root cause:** The test uses `<test>` in a filename, but `<` and `>` are invalid characters in Windows filenames.

This PR only modifies web-fetch related files and does not touch `media-understanding/apply.test.ts`. All other CI checks (including Linux/macOS tests, lint, build) pass successfully.


## Stats

- **Size:** large (444+, 12-, 6 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
