---
number: 3768
title: "fix(subagent): fix subagent thinking override"
author: KraFourZee
created: 2026-01-29T05:07:22Z
updated: 2026-01-29T05:20:13Z
labels: ["docs", "agents"]
additions: 122
deletions: 1
changed_files: 8
size: medium
review_decision: none
reviews: [{"author":"chatgpt-codex-connector","state":"COMMENTED"}]
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/3768
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Fixes unknown config key error where config doesn't recognize `agents.defaults.subagents.thinking` override for subagents even though it was added by Pete here https://github.com/moltbot/moltbot/commit/1bf3861ca4f3643ac644cc858f68a72d65f8566c

example when restarting gateway with this in `agents.defaults.models.subagents`:
```
ex:      
      "subagents": {
        "maxConcurrent": 4,
        "model": "openai-codex/gpt-5.2",
        "thinking": "medium"
      }
      
error:
Config invalid
File: ~/.clawdbot/clawdbot.json
Problem:
  - agents.defaults.subagents: Unrecognized key: "thinking"
```

also added `thinking` and `model` to zod-schema for tools since neither were getting through there as well.
```
ex config:
  "tools": {
    "subagents": {
      "model": "openai-codex/gpt-5.2",
      "thinking": "medium"
    }
  },

error:
Config invalid
File: ~/.clawdbot/clawdbot.json
Problem:
  - tools.subagents: Unrecognized keys: "thinking", "model"
```

Testing: (lightly tested)
- `pnpm lint` passes
- `pnpm test` had one failure that was present before/after making any changes
- haven't tested locally yet as I was running ~clawd~ moltbot off of releases until now.
- added two tests to show overrides for thinking being picked up.

Please include in your PR:
 - [x] Mark as AI-assisted in the PR title or description
    - light claude usage for some of the initial sleuthing and understanding
 - [x] Note the degree of testing (untested / lightly tested / fully tested)
 - [x] Include prompts or session logs if possible (super helpful!)
 - [ ] Confirm you understand what the code does
    - would like to quickly test locally first but likely won't get to that until tomorrow, plus gotta migrate from clawd -> molt so hopefully no gotchyas there
  
  Example failure when restarting gateway:
  
  <img width="327" height="142" alt="image" src="https://github.com/user-attachments/assets/6bfd8b2c-43da-42f6-8087-d972f79d93b9" />

## Reviews

### @chatgpt-codex-connector ‚Äî COMMENTED (2026-01-29)


### üí° Codex Review

Here are some automated review suggestions for this pull request.

**Reviewed commit:** `ceed611745`
    

<details> <summary>‚ÑπÔ∏è About Codex in GitHub</summary>
<br/>

[Your team has set up Codex to review pull requests in this repo](http://chatgpt.com/codex/settings/general). Reviews are triggered when you
- Open a pull request for review
- Mark a draft as ready
- Comment "@codex review".

If Codex has suggestions, it will comment; otherwise it will react with üëç.




Codex can also answer questions or update the PR. Try commenting "@codex address that feedback".
            
</details>


## Comments


## Stats

- **Size:** medium (122+, 1-, 8 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
