---
number: 5537
title: "fix(voice-call): hang up rejected inbound calls"
author: NSEvent
created: 2026-01-31T16:15:02Z
updated: 2026-01-31T17:24:34Z
labels: ["channel: voice-call"]
additions: 19
deletions: 3
changed_files: 4
size: small
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 1
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/5537
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Adds an optional `rejectHangup` config setting for the voice-call plugin. When enabled, rejected inbound calls are actively terminated via `hangupCall()` instead of silently returning (letting the carrier timeout).

**Default behavior unchanged** - `rejectHangup: false` preserves the current silent-return behavior.

## Changes

- Add `voiceCall.rejectHangup` config option (default: `false`)
- Make `HangupCallInput.callId` optional for provider-only hangups
- Only call `hangupCall()` when `rejectHangup` is enabled

## Why `callId` can be optional

Verified that no provider implementation uses `callId` in `hangupCall()`:

| Provider | Uses `callId`? | What it uses |
|----------|---------------|--------------|
| Twilio | No | `providerCallId` only |
| Telnyx | No | `providerCallId` only |
| Plivo | No | `providerCallId` only |
| Mock | No | No-op |

All providers only need `providerCallId` to make the hangup API call.

## Config example

```yaml
voiceCall:
  rejectHangup: true  # Actively hang up rejected calls
```

## Test plan

- [x] `pnpm build` passes
- [x] `pnpm lint` passes
- [x] Voice-call tests pass (26 tests)

ðŸ¤– Generated with [Claude Code](https://claude.ai/code)

## Reviews

### @greptile-apps â€” COMMENTED (2026-01-31)

<sub>1 file reviewed, 1 comment</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @NSEvent (2026-01-31)

Updated based on feedback:

1. **Made `callId` optional** in `HangupCallInput` - providers only need `providerCallId` to hang up, so we no longer pass an empty string
2. **Made behavior configurable** via `voiceCall.rejectHangup` (default: `false`) - preserves current behavior, opt-in for active hangup


## Stats

- **Size:** small (19+, 3-, 4 files)
- **Age:** 2 days
- **Last activity:** 2026-01-31

## Links

- Fixes: (none detected)
