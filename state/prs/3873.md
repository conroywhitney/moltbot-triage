---
number: 3873
title: "feat(telegram): add customFirst option for command menu ordering"
author: ZorroCheng-MC
created: 2026-01-29T08:32:29Z
updated: 2026-01-29T08:32:40Z
labels: ["channel: telegram"]
additions: 16
deletions: 7
changed_files: 5
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: passing
mergeable: false
draft: false
url: https://github.com/moltbot/moltbot/pull/3873
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
- Adds a new `commands.customFirst` config option for Telegram
- When `true`, custom commands appear before native commands in the bot's menu
- Default behavior (`false`) keeps native commands first for backwards compatibility

## Usage

```json
{
  "channels": {
    "telegram": {
      "commands": {
        "native": true,
        "customFirst": true
      },
      "customCommands": [
        { "command": "capture", "description": "ðŸŽ¯ Smart router" },
        { "command": "idea", "description": "ðŸ’¡ Quick idea capture" }
      ]
    }
  }
}
```

With this config, the Telegram command menu will show:
1. `/capture` - ðŸŽ¯ Smart router
2. `/idea` - ðŸ’¡ Quick idea capture
3. `/help` - Show help (native)
4. `/config` - Configure settings (native)
5. ...other native commands

## Test plan
- [x] Build passes (`pnpm build`)
- [x] Gateway starts without config validation errors
- [x] Telegram bot reconnects and registers commands
- [ ] Verify command order in Telegram menu with `customFirst: true`

ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

## Reviews


## Comments


## Stats

- **Size:** small (16+, 7-, 5 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
