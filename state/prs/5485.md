---
number: 5485
title: "chore(restart-mac-script): Update restart-mac.sh script"
author: jkuri
created: 2026-01-31T14:59:51Z
updated: 2026-01-31T15:01:10Z
labels: ["scripts"]
additions: 14
deletions: 7
changed_files: 1
size: small
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 1
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/5485
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

I updated `scripts/restart-mac.sh` script and add `--no-clean` flag which skips the full cache deletion and fetching all the packages all over again for every rebuild and make the development and build faster. 

I also fixed the prioritizing the local `dist/OpenClaw.app` to run while using this script instead of `/Applications/OpenClaw.app` which didn't make sense, it still fallbacks to run from there in case the local version doesnt exists for some reason, though.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR updates `scripts/restart-mac.sh` to add a `--no-clean` flag that skips deleting Swift build caches before rebuilding, and changes bundle selection to prefer the locally packaged `dist/OpenClaw.app` before falling back to `/Applications/OpenClaw.app`.

Notable issues to address:
- There are two accidental duplicate lines introduced in this change (a duplicated `LAUNCHAGENT_DISABLE_MARKER` assignment and a duplicated `--no-sign` help line), which should be removed to keep the script clean and avoid confusing usage output.

<h3>Confidence Score: 4/5</h3>

- This PR is safe to merge; changes are localized to a dev script with minor correctness issues in help/config lines.
- Behavioral changes (new --no-clean flag and app bundle preference order) are straightforward and unlikely to impact production code paths. The main concerns are two small accidental duplicates introduced in the script, which can confuse users/maintainers but won’t typically break execution.
- scripts/restart-mac.sh

<!-- greptile_other_comments_section -->

<sub>(3/5) Reply to the agent's comments like "Can you suggest a fix for this @greptileai?" or ask follow-up questions!</sub>

**Context used:**

- Context from `dashboard` - CLAUDE.md ([source](https://app.greptile.com/review/custom-context?memory=fd949e91-5c3a-4ab5-90a1-cbe184fd6ce8))
- Context from `dashboard` - AGENTS.md ([source](https://app.greptile.com/review/custom-context?memory=0d0c8278-ef8e-4d6c-ab21-f5527e322f13))

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-01-31)

<sub>1 file reviewed, 2 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @greptile-apps (2026-01-31)

<details>
<summary>Additional Comments (1)</summary>

**`scripts/restart-mac.sh`**
[P1] Duplicate LAUNCHAGENT_DISABLE_MARKER assignment

`LAUNCHAGENT_DISABLE_MARKER` is assigned twice in a row, which looks like an accidental duplicate introduced in this PR and makes the script noisier to maintain.

```suggestion
LAUNCHAGENT_DISABLE_MARKER="${HOME}/.openclaw/disable-launchagent"
```

<details><summary>Prompt To Fix With AI</summary>

`````markdown
This is a comment left during a code review.
Path: scripts/restart-mac.sh
Line: 19:23

Comment:
[P1] Duplicate LAUNCHAGENT_DISABLE_MARKER assignment

`LAUNCHAGENT_DISABLE_MARKER` is assigned twice in a row, which looks like an accidental duplicate introduced in this PR and makes the script noisier to maintain.

```suggestion
LAUNCHAGENT_DISABLE_MARKER="${HOME}/.openclaw/disable-launchagent"
```

How can I resolve this? If you propose a fix, please make it concise.
`````
</details>
</details>


## Stats

- **Size:** small (14+, 7-, 1 files)
- **Age:** 2 days
- **Last activity:** 2026-01-31

## Links

- Fixes: (none detected)
