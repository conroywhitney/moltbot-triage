---
number: 7061
title: "Add additional variable to the docker-compose file (default off) to make it work with rootless podman"
author: aupeachmo
created: 2026-02-02T10:31:55Z
updated: 2026-02-02T10:38:43Z
labels: ["docs", "docker"]
additions: 36
deletions: 4
changed_files: 6
size: small
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 1
reactions_total: 1
ci_status: passing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/7061
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Volume mounts now accept an `OPENCLAW_VOLUME_OPTS` variable to append mount flags like `:U`, `:Z`, or `:rw`. 

Defaults to empty (no suffix).

This is mainly useful for SELinux-enabled hosts (Fedora, RHEL) where `:Z` is needed for container access to bind mounts or for rootless containers where `:U` is required for UID translation.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR adds an `OPENCLAW_VOLUME_OPTS` env var that appends a suffix to `docker-compose.yml` bind mounts (e.g. `:U`, `:Z`) so rootless Podman / SELinux hosts can adjust mount labeling/UID shifting without editing the compose file. It also wires the variable through `docker-setup.sh` into `.env` and adds documentation updates plus a new `PODMAN-ROOTLESS.md` guide.

<h3>Confidence Score: 4/5</h3>

- This PR is low-risk and mostly docs/config changes, with only minor correctness issues in documentation.
- The compose interpolation pattern (`${OPENCLAW_VOLUME_OPTS:-}`) is a standard way to add an optional suffix and should be safe for existing Docker users; changes to `docker-setup.sh` are additive and only export/persist the new variable. Main concern is a docs mismatch (Railway guide mentions a compose-only variable) plus a small typo in the new doc file.
- docs/railway.mdx (doc correctness), PODMAN-ROOTLESS.md (typo)

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps â€” COMMENTED (2026-02-02)

<sub>2 files reviewed, 2 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @greptile-apps (2026-02-02)

<details>
<summary>Additional Comments (1)</summary>

**`docs/railway.mdx`**
[P1] `OPENCLAW_VOLUME_OPTS` is documented in the Railway deploy guide, but Railway runs containers directly (no `docker-compose.yml` bind mounts), so this variable has no effect there and may confuse users. It looks like this env var only impacts `docker-compose.yml` volume mount suffixes.

Also appears in: `docs/testing.md:322-327`, `docs/platforms/gcp.md:226-228`, `docs/platforms/hetzner.md:139-141`.

<details><summary>Prompt To Fix With AI</summary>

`````markdown
This is a comment left during a code review.
Path: docs/railway.mdx
Line: 61:66

Comment:
[P1] `OPENCLAW_VOLUME_OPTS` is documented in the Railway deploy guide, but Railway runs containers directly (no `docker-compose.yml` bind mounts), so this variable has no effect there and may confuse users. It looks like this env var only impacts `docker-compose.yml` volume mount suffixes.

Also appears in: `docs/testing.md:322-327`, `docs/platforms/gcp.md:226-228`, `docs/platforms/hetzner.md:139-141`.

How can I resolve this? If you propose a fix, please make it concise.
`````
</details>
</details>


## Stats

- **Size:** small (36+, 4-, 6 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
