---
number: 4693
title: "fix: keep main session displayName on outbound sends"
author: ManojINaik
created: 2026-01-30T14:30:19Z
updated: 2026-01-30T14:33:19Z
labels: []
additions: 24
deletions: 2
changed_files: 1
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/4693
fixes_issues: [4683]
related_prs: [4683]
duplicate_of: null
---

## Description

## Summary
- prevent outbound DM sends that resolve to the main session key from overwriting origin metadata, which was flipping `sessions_list` displayName to the last recipient
- keep delivery context updates (`lastTo`, `lastChannel`, `lastAccountId`, `lastThreadId`) so routing remains accurate
- leave per-peer session behavior unchanged so labels continue to reflect their peer

## Context
Outbound sends call `ensureOutboundSessionEntry`, which previously used the inbound metadata pipeline even when DM scope collapsed to the main session key. That path derives the origin label from `ctx.From`, so the main sessionâ€™s displayName became the last recipient. The fix skips origin updates for main-session routes and only persists delivery context in that case.

## Testing
- Not run (not requested)

Closes #4683

## Reviews


## Comments


## Stats

- **Size:** small (24+, 2-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: #4683
