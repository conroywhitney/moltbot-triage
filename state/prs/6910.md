---
number: 6910
title: "Holochain Integration Example Configurations"
author: f13end
created: 2026-02-02T05:47:46Z
updated: 2026-02-02T09:28:45Z
labels: ["docs"]
additions: 1557
deletions: 10
changed_files: 18
size: huge
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 2
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/6910
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

This directory contains example configurations for different Holochain integration scenarios.

## Files

- `holochain-disabled.json` - Default mode (no Holochain)
- `holochain-hybrid.json` - Hybrid mode with DHT session storage
- `holochain-full-p2p.json` - Full P2P mode with complete decentralization
- `holochain-enterprise.json` - Enterprise configuration with security features
- `holochain-a2a-economy.json` - Agent-to-Agent economy with Solana/USDC

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR adds a new Holochain configuration surface: example JSON configs and extensive docs (`docs/holochain.md`, roadmap), plus new config types and zod schemas (`src/config/types.holochain.ts`, `src/config/zod-schema.holochain.ts`) and UI schema hints (`src/config/schema.ts`). It also introduces `applyHolochainDefaults` and a dedicated test suite for those defaults.

Main gap: the new defaults function is not currently wired into the config IO/validation default-application pipeline, so enabling `holochain.mode` in real configs won’t actually receive the intended default values.

<h3>Confidence Score: 3/5</h3>

- This PR looks mostly safe to merge, but has a functional integration gap in how Holochain defaults are applied.
- The schema/type additions are self-contained and the defaults logic is unit-tested, but `applyHolochainDefaults` is not invoked during config load/write/validation flows, so expected behavior won’t occur in production. There’s also a minor sensitivity-hint gap for wallet seed phrases.
- src/config/io.ts, src/config/validation.ts, src/config/schema.ts

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-02-02)

<sub>3 files reviewed, 3 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @greptile-apps (2026-02-02)

<details>
<summary>Additional Comments (1)</summary>

**`src/config/io.ts`**
[P0] `applyHolochainDefaults` is never applied during config load/write, so the new defaults/tests won’t affect real configs.

`applyHolochainDefaults` was added in `src/config/defaults.ts`, but `src/config/io.ts` still composes defaults without it (e.g., `applyModelDefaults(applyCompactionDefaults(...))`). As a result, users enabling `holochain.mode` won’t get conductor/session defaults, and the new tests only cover the helper in isolation.

Also appears in `src/config/validation.ts:13` (defaults composition there doesn’t include Holochain either).

<details><summary>Prompt To Fix With AI</summary>

`````markdown
This is a comment left during a code review.
Path: src/config/io.ts
Line: 15:24

Comment:
[P0] `applyHolochainDefaults` is never applied during config load/write, so the new defaults/tests won’t affect real configs.

`applyHolochainDefaults` was added in `src/config/defaults.ts`, but `src/config/io.ts` still composes defaults without it (e.g., `applyModelDefaults(applyCompactionDefaults(...))`). As a result, users enabling `holochain.mode` won’t get conductor/session defaults, and the new tests only cover the helper in isolation.

Also appears in `src/config/validation.ts:13` (defaults composition there doesn’t include Holochain either).

How can I resolve this? If you propose a fix, please make it concise.
`````
</details>
</details>

### @f13end (2026-02-02)

> 3 files reviewed, 3 comments
> 
> [Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)

Thanks for the thorough review!

- **Addressed [P0] integration gap**: Wired `applyHolochainDefaults` into both `src/config/io.ts` (load/compose) and `src/config/validation.ts` pipelines so real configs now receive conductor/session/p2p defaults when `holochain.mode` is set (e.g. hybrid/full-p2p/a2a-economy examples).

- **Addressed [P1] sensitivity**: Added `sensitive: true` to `holochain.a2a.wallet.seedPhrase` in schema.ts for proper UI/log handling.

- **Addressed [P2]**: Made conductor object conditional (only materialized when `autoStart`, explicit conductor fields, or mode implies it needed).

Ready for re-review — the defaults should now behave as documented in `docs/holochain.md` and the example JSON files.

Let me know if anything else stands out!


## Stats

- **Size:** huge (1557+, 10-, 18 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
