---
number: 6139
title: "Config Reload button not clearing unsaved changes indicator"
author: saurabhssonkar
created: 2026-02-01T09:54:53Z
updated: 2026-02-02T14:39:30Z
labels: ["app: web-ui"]
additions: 1
deletions: 0
changed_files: 1
size: tiny
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 2
reactions_total: 1
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/6139
fixes_issues: []
related_prs: [5986]
duplicate_of: null
---

## Description

## Changes

### 1. Config UI: Fix Reload button not clearing unsaved changes

**Problem:** Clicking the "Reload" button in the Config UI didn't clear the "unsaved changes" indicator, making it appear that changes were still pending even after reloading from the server.

**Solution:** Reset `configFormDirty` flag to `false` before applying the config snapshot in `loadConfig()`, ensuring the form state is properly reset when reloading.

**Files changed:**
- `ui/src/ui/controllers/config.ts`

FIXED #5986

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR updates the Config UI controller to clear the “unsaved changes” indicator when the user reloads configuration from the server. It does so by resetting `configFormDirty` to `false` inside `loadConfig()` before applying the newly fetched `ConfigSnapshot`, which allows `applyConfigSnapshot()` to refresh `configForm`, `configFormOriginal`, and `configRawOriginal` from the snapshot.

This fits the existing state-management approach in `ui/src/ui/controllers/config.ts`, where `configFormDirty` gates whether snapshot application overwrites the user’s in-progress edits.

<h3>Confidence Score: 4/5</h3>

- This PR is safe to merge with low risk; the change is small and localized to config reload state handling.
- The change only affects `loadConfig()` by resetting `configFormDirty` before applying the server snapshot, aligning with existing logic in `applyConfigSnapshot()` that uses the dirty flag to decide whether to overwrite form/raw state. No new APIs or structural changes were introduced.
- ui/src/ui/controllers/config.ts

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps — COMMENTED (2026-02-01)

<sub>No files reviewed, no comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @saurabhssonkar (2026-02-02)

 @greptile-apps  The macOS CI job was cancelled due to runner unavailability
(waited 24h for a runner). No code changes were made.


### @greptile-apps (2026-02-02)

The macOS CI cancellation was due to infrastructure issues (no available runners after 24h wait), not your code changes. Since this PR only touches the config UI state management and doesn't introduce any macOS-specific changes, you can safely merge once the other CI checks pass.

The change itself looks good - resetting `configFormDirty` before applying the config snapshot is the right approach to clear the unsaved changes indicator on reload.


## Stats

- **Size:** tiny (1+, 0-, 1 files)
- **Age:** 1 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
