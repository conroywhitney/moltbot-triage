---
number: 2414
title: "fix(slack): route DM replies to original channel, not App Home"
author: mbennett37
created: 2026-01-26T22:25:05Z
updated: 2026-01-28T23:25:12Z
labels: ["channel: slack"]
additions: 4
deletions: 1
changed_files: 1
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/moltbot/moltbot/pull/2414
fixes_issues: [2412]
related_prs: [2412]
duplicate_of: null
---

## Description

Fixes #2412

## Problem
When @mentioned in a DM between two other users (User A ↔ User B), the bot replies to App Home instead of the original DM.

## Root Cause
`prepare.ts:440` sets `slackTo = user:${message.user}` for DMs.

In `send.ts:81`, `user:X` targets trigger:
```typescript
await client.conversations.open({ users: recipient.id })
```
This opens a **new** bot↔user DM (App Home), not the original channel.

## Fix
Always use `channel:${message.channel}` — the Slack API accepts channel IDs for all conversation types (channels, DMs, MPIMs).

`lastRoute` tracking (line 538) intentionally still uses `user:X` for identity/session purposes.

## Testing
- [x] Verified code path in `send.ts` confirms `user:` prefix triggers `conversations.open`
- [x] Manual test: @mention bot in DM between two other users

Co-Authored-By: Warp <agent@warp.dev>

## Reviews


## Comments


## Stats

- **Size:** tiny (4+, 1-, 1 files)
- **Age:** 2 days
- **Last activity:** 2026-01-28

## Links

- Fixes: #2412
