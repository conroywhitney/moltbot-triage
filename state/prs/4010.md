---
number: 4010
title: " Prevent crash on unhandled fetch rejections (Closes #3974)"
author: TechWizard9999
created: 2026-01-29T14:24:16Z
updated: 2026-01-29T14:24:16Z
labels: []
additions: 19
deletions: 1
changed_files: 2
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/4010
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
Updates the global unhandled rejection handler to correctly identify `TypeError: fetch failed` as a transient network error, even when the underlying cause is missing a specific Error Code.
## Changes
- **src/infra/unhandled-rejections.ts**: Relaxed `isTransientNetworkError` check for fetch errors.
- **src/infra/unhandled-rejections.test.ts**: Added regression tests for fetch errors with missing/unknown causes.
## Verification
- Added new unit tests covering the crash scenario.
- Verified `process.exit(1)` is no longer called for these errors.

With Gemini Flash 

## Reviews


## Comments


## Stats

- **Size:** small (19+, 1-, 2 files)
- **Age:** 0 days
- **Last activity:** 2026-01-29

## Links

- Fixes: (none detected)
