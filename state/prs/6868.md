---
number: 6868
title: "Add NVIDIA NIM provider support"
author: jnorthrup
created: 2026-02-02T04:22:25Z
updated: 2026-02-02T23:02:53Z
labels: ["agents"]
additions: 350
deletions: 0
changed_files: 5
size: large
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 2
reactions_total: 2
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/6868
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Adds NVIDIA provider with NVIDIA_API_KEY environment variable support.

- Maps  provider to  environment variable
- Adds NVIDIA NIM API endpoint (https://integrate.api.nvidia.com/v1)
- Default model: nvidia/kimi-k2-instruct
- Context window: 128K tokens
- Pricing: /bin/bash.27/M input tokens, /bin/bash.90/M output tokens
- Auto-discovers provider when NVIDIA_API_KEY is set

Changes:
- src/agents/model-auth.ts: Added nvidia to envMap
- src/agents/models-config.providers.ts: Added buildNvidiaProvider() and implicit provider resolution

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

Adds NVIDIA NIM as an implicit provider by wiring `NVIDIA_API_KEY` into provider discovery and introducing a default NVIDIA provider config (base URL, model id, context window, pricing). This integrates with the existing provider normalization/implicit-provider mechanism alongside Minimax/Moonshot/Venice/etc.

<h3>Confidence Score: 2/5</h3>

- This PR is not safe to merge as-is because implicit provider discovery appears to set `apiKey` to the env var name rather than the key value.
- Main risk is functional: `resolveEnvApiKeyVarName()` returns a variable name, so newly added NVIDIA provider (and seemingly other implicit providers) would authenticate with the wrong value at runtime if relying on env-based discovery. The rest of the change is localized constants and provider config wiring.
- src/agents/models-config.providers.ts

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps ‚Äî COMMENTED (2026-02-02)

<sub>1 file reviewed, 1 comment</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @destinystonez (2026-02-02)

thank you for this

### @adam91holt (2026-02-02)

üîç **Overlapping PRs Detected**

This PR appears to overlap with 2 other open PRs addressing agents, config:

| Similarity | PR | Author | Title |
|---|---|---|---|
| 91.0% | [#4829](https://github.com/openclaw/openclaw/pull/4829) | @AndrewGoldfinch | feat: add native NVIDIA NIM provider integration |
| 89.5% | [#4770](https://github.com/openclaw/openclaw/pull/4770) | @area404aera | feat: add native NVIDIA NIM provider integration |

<sub>üîç Detected by [OpenClaw PR Tracker](https://openclaw.academy) ‚Äî AI-powered duplicate detection for open source</sub>


## Stats

- **Size:** large (350+, 0-, 5 files)
- **Age:** 0 days
- **Last activity:** 2026-02-02

## Links

- Fixes: (none detected)
