---
number: 7595
title: "Telegram: allow URL inline buttons"
author: MehmetSecgin
created: 2026-02-03T00:53:31Z
updated: 2026-02-03T01:01:57Z
labels: ["channel: telegram", "agents"]
additions: 44
deletions: 16
changed_files: 2
size: medium
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 0
reactions_total: 2
ci_status: failing
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/7595
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

Adds support for Telegram inline keyboard buttons that open URLs (in addition to callback_data) across the agent tool params and send/edit helpers.

Also runs oxfmt on the file reported by pnpm check so formatting passes.

Motivation: enable link buttons via message tool for Telegram.

No behavior change for existing callback_data buttons.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR extends Telegram inline keyboard support to allow URL buttons in addition to `callback_data`, wiring the new shape through agent tool param parsing (`readTelegramButtons`) and the send/edit helpers (`buildInlineKeyboard`). It also includes a formatting-only change in the UI resizable divider component.

Key integration point is `src/telegram/send.ts`, where `buildInlineKeyboard` now maps each button to either `{text,url}` or `{text,callback_data}` for grammY/Telegram API payloads, and `src/agents/tools/telegram-actions.ts` now validates tool params to require `text` plus either `callback_data` or `url`.

<h3>Confidence Score: 4/5</h3>

- Mostly safe to merge, with a small risk of generating invalid inline keyboard payloads on malformed button inputs.
- Changes are localized and straightforward, but `buildInlineKeyboard` can still emit an empty `callback_data` string for non-URL buttons when callers provide incomplete button objects, which Telegram rejects. The UI file change appears formatting-only but introduces whitespace churn.
- src/telegram/send.ts; ui/src/ui/components/resizable-divider.ts

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps â€” COMMENTED (2026-02-03)

<sub>2 files reviewed, 2 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments


## Stats

- **Size:** medium (44+, 16-, 2 files)
- **Age:** 0 days
- **Last activity:** 2026-02-03

## Links

- Fixes: (none detected)
