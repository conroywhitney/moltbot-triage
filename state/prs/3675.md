---
number: 3675
title: "feat: add Azure OpenAI provider support"
author: haxudev
created: 2026-01-29T01:30:49Z
updated: 2026-01-30T11:38:22Z
labels: ["docs", "agents"]
additions: 638
deletions: 0
changed_files: 7
size: large
review_decision: none
reviews: [{"author":"orzelig","state":"APPROVED"}]
comments_count: 3
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/3675
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

This pull request adds first-class support for Azure OpenAI as a model provider, enabling the system to connect to Azure-hosted OpenAI models using environment variables or Docker Compose configuration. The main changes include a new provider implementation, updates to environment variable handling, and a dedicated Docker Compose file for Azure deployments.

**Azure OpenAI Provider Integration:**

- Added a new module `azure-openai-provider.ts` that implements Azure OpenAI provider logic, including endpoint formatting, authentication, environment variable resolution, and support for multiple deployments. This module also provides a global fetch wrapper to ensure the required `api-version` parameter is always included in requests.

- Updated the provider discovery logic in `models-config.providers.ts` to automatically detect Azure OpenAI configuration from environment variables or authentication profiles, and instantiate the Azure provider if detected. [[1]](diffhunk://#diff-d1edb80ebd43c92f8c84d193bac92b0282a1cc98cf3003d665e86a5302bb3a87R16-R20) [[2]](diffhunk://#diff-d1edb80ebd43c92f8c84d193bac92b0282a1cc98cf3003d665e86a5302bb3a87R426-R449)

**Environment & Configuration:**

- Extended the `.env.example` file to include Azure OpenAI-specific variables such as `AZURE_OPENAI_API_KEY`, `AZURE_OPENAI_RESOURCE_NAME`, `AZURE_OPENAI_DEPLOYMENT_NAME`, and related settings.

- Updated the `ModelProviderConfig` type to support Azure-specific metadata, including the resource name and API version.

**Docker & Deployment:**

- Added a new `docker-compose.azure.yml` file that defines services for running the gateway, CLI, and a test utility with Azure OpenAI credentials, simplifying deployment in Azure environments.

**Authentication:**

- Modified the API key resolution logic to support `azure-openai` as a recognized provider when looking up environment variables.

## Reviews

### @orzelig â€” APPROVED (2026-01-29)

Good Azure OpenAI integration! The provider auto-discovery works well and the documentation is comprehensive. Minor note: the global fetch wrapper approach works but could potentially have side effects - might be worth considering a per-provider fetch implementation in the future. Overall LGTM!


## Comments

### @Takhoffman (2026-01-29)

Lgtmi

### @jessejiang0214 (2026-01-30)

I found a bug, if you leave AZURE_OPENAI_RESOURCE_NAME as default and set AZURE_OPENAI_ENDPOINT, it won't set baseUrl

### @jessejiang0214 (2026-01-30)

The on-board flow didn't pick up the Azure-openAI config and it didn't config the auth-profile.json
And the on-board flow didn't have the option to config Azure-OpenAI


## Stats

- **Size:** large (638+, 0-, 7 files)
- **Age:** 1 days
- **Last activity:** 2026-01-30

## Links

- Fixes: (none detected)
