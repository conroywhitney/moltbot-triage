---
number: 4793
title: "hooks: use configured model for slug generator"
author: yoyooyooo
created: 2026-01-30T17:44:05Z
updated: 2026-01-30T17:45:34Z
labels: []
additions: 52
deletions: 0
changed_files: 2
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/4793
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

### Summary
`session-memory` can generate a human-friendly slug via an LLM call. When the provider/model is not explicitly specified, the slug generator may fall back to an Anthropic default, which is both noisy and can fail in deployments that only configure OpenAI.

### Changes
- Resolve the provider/model for slug generation from the configured defaults instead of relying on implicit fallback behavior.
- Add a regression test covering model resolution for the slug generator.

### Rationale
This avoids unintended Anthropic usage and prevents `No API key found for provider "anthropic"` errors during `/new` / `session-memory` runs when Anthropic is not configured.

### Testing
- `pnpm vitest run src/hooks/llm-slug-generator.test.ts`

## Reviews


## Comments


## Stats

- **Size:** medium (52+, 0-, 2 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: (none detected)
