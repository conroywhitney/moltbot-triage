---
number: 7596
title: "docs(gateway): add multi-machine config sync guide"
author: injinj
created: 2026-02-03T00:55:11Z
updated: 2026-02-03T01:27:31Z
labels: ["docs", "gateway"]
additions: 232
deletions: 0
changed_files: 1
size: large
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 1
reactions_total: 1
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/7596
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Adds documentation for syncing OpenClaw config between multiple machines (e.g., home server + laptop) using git while keeping machine-specific gateway settings separate.

## Problem

Users with multiple machines often want to:
- Keep a server running the gateway 24/7
- Use a laptop that connects remotely when home, but runs locally when traveling
- Sync workspaces, sessions, and config via git

The challenge: \`gateway.mode\` needs to be \`local\` on the server but \`remote\` on the laptop. A simple git sync overwrites these settings.

## Solution

Uses the existing \`\$include\` directive to split machine-specific gateway config into a gitignored file (\`gateway-local.json5\`), while keeping shared settings in the tracked \`openclaw.json\`.

## Documentation Includes

- Step-by-step setup for server and laptop
- Git configuration with proper ignores
- Optional mode-switching scripts for laptops
- Troubleshooting common issues (timestamp conflicts, session continuity)
- Table of what should/shouldn't be synced

## Related Docs

Links to existing docs:
- [Configuration](/gateway/configuration)
- [Config Includes](/gateway/configuration#config-includes-include)
- [Remote Access](/gateway/remote)
- [Multiple Gateways](/gateway/multiple-gateways)

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

Adds a new Gateway documentation page (`docs/gateway/multi-machine-sync.md`) describing how to sync `~/.openclaw` across multiple machines via git while keeping machine-specific gateway settings separate using `$include`.

The doc covers: creating per-machine `gateway-local.json5`, updating `openclaw.json`, suggested `.gitignore` entries, optional mode-switching scripts, an auto-sync cron example, and troubleshooting guidance. This fits into the existing Gateway docs alongside the configuration and remote access guides by providing a practical workflow for multi-host setups.

<h3>Confidence Score: 3/5</h3>

- Mostly safe to merge, but there‚Äôs a likely docs-inaccuracy around `$include` semantics that could misconfigure users.
- Only a new documentation file is added, so code risk is low; however, the recommended config structure appears to contradict the documented `$include` replacement behavior, which could lead to broken configs for readers following the guide.
- docs/gateway/multi-machine-sync.md (especially the `$include` example/merge explanation and internal anchor link)

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps ‚Äî COMMENTED (2026-02-03)

<sub>1 file reviewed, 3 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @injinj (2026-02-03)

Thanks for the careful review! I tested this to confirm the behavior.

Per the [\`\$include\` docs](https://docs.openclaw.ai/gateway/configuration#config-includes-include):
> **With sibling keys**: Sibling keys are merged after includes (override included values)

**Test setup:**
\`\`\`json5
// gateway-local.json5
{ "mode": "local", "bind": "lan" }

// test-config.json5  
{
  "gateway": {
    "\$include": "./gateway-local.json5",
    "port": 18789,
    "auth": { "mode": "token", "token": "test-token" },
    "tailscale": { "mode": "off" }
  }
}
\`\`\`

**Resolved config (\`openclaw config get gateway\`):**
\`\`\`json
{
  "port": 18789,
  "mode": "local",
  "bind": "lan",
  "auth": { "mode": "token", "token": "test-token" },
  "tailscale": { "mode": "off" }
}
\`\`\`

Also tested with \`mode: "remote"\` + \`remote: { url, token }\` ‚Äî siblings merge correctly in both cases.

The single-file \`\$include\` with sibling keys works as documented. üëç


## Stats

- **Size:** large (232+, 0-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-02-03

## Links

- Fixes: (none detected)
