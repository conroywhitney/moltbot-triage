---
number: 3513
title: "fix(docker): add MOLTBOT_STATE_DIR to resolve permission error"
author: Suksham-sharma
created: 2026-01-28T18:14:03Z
updated: 2026-01-28T23:25:08Z
labels: ["docker"]
additions: 6
deletions: 0
changed_files: 2
size: tiny
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/moltbot/moltbot/pull/3513
fixes_issues: [3480]
related_prs: [3480]
duplicate_of: null
---

## Description

## Summary

- Adds `MOLTBOT_STATE_DIR=/home/node/.clawdbot` to both `moltbot-gateway` and `moltbot-cli` services in `docker-compose.yml`
- Fixes the "EACCES: permission denied" error when running Docker install

## Root Cause

When running in Docker, the app called `os.homedir()` to resolve the state directory (since `MOLTBOT_STATE_DIR` wasn't set). This returned `/home/node` based on the `HOME` env var, but the container user couldn't create nested directories properly due to volume mount permissions.

## Fix

By explicitly setting `MOLTBOT_STATE_DIR=/home/node/.clawdbot`, the app now uses this path directly instead of deriving it from `os.homedir()`, correctly matching the mounted volume path.

Fixes #3480

## Reviews


## Comments


## Stats

- **Size:** tiny (6+, 0-, 2 files)
- **Age:** 0 days
- **Last activity:** 2026-01-28

## Links

- Fixes: #3480
