---
number: 7272
title: "Models: add SiliconFlow provider"
author: qychen2001
created: 2026-02-02T16:32:40Z
updated: 2026-02-03T01:46:51Z
labels: ["docs", "cli", "commands", "agents"]
additions: 579
deletions: 2
changed_files: 25
size: large
review_decision: none
reviews: [{"author":"greptile-apps","state":"COMMENTED"}]
comments_count: 1
reactions_total: 1
ci_status: failing
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/7272
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary

Add SiliconFlow as a new model provider.

SiliconFlow is a maas platform that provides access to various LLM models including Qwen, DeepSeek, GLM, and others. This PR integrates SiliconFlow as a first-class provider in OpenClaw.

## Changes

- Provider integration: Added SiliconFlow provider configuration and auth flow
- Onboarding support: Users can now select SiliconFlow during the setup wizard
- Documentation: Added provider docs in both English and Chinese
- Tests: Added unit tests for model auth and provider configuration

## Testing

- [x]  Tests added for model auth
- [x]  Tests added for provider configuration
- [x]  Tested locally with real SiliconFlow API key

## AI Assistance

This PR was created with assistance from codex. I understand what the code does and have reviewed all changes.

<!-- greptile_comment -->

<h2>Greptile Overview</h2>

<h3>Greptile Summary</h3>

This PR adds SiliconFlow as an OpenAI-compatible provider across the config layer and onboarding flows. It:

- Adds docs and wizard references for SiliconFlow (CN vs Global base URLs and setup steps).
- Extends model auth/env var resolution to include `SILICONFLOW_API_KEY`.
- Adds an implicit provider definition (`openai-completions`, default models DeepSeek V3.2 + GLM-4.6V) when a SiliconFlow key is present.
- Adds interactive and non-interactive onboarding support (`--auth-choice siliconflow-api-key`, `--siliconflow-site`, `--siliconflow-api-key`) and associated tests.

The main issues found are around onboarding flag handling and ensuring credentials are written to the intended auth store/agent directory in non-interactive mode.

<h3>Confidence Score: 4/5</h3>

- This PR is reasonably safe to merge, but interactive/non-interactive onboarding has a couple of credential-handling bugs to address first.
- The provider wiring (env var resolution, implicit provider config, docs, and tests) is straightforward and consistent with existing patterns. The main risks are user-facing: the new `--siliconflow-api-key` flag is not honored in interactive mode, and non-interactive mode may store the key in an unexpected auth location if `agentDir` matters in this codebase. No broader security issues were identified beyond these credential flow correctness problems.
- src/commands/auth-choice.apply.api-providers.ts, src/commands/onboard-non-interactive/local/auth-choice.ts

<!-- greptile_other_comments_section -->

<sub>(2/5) Greptile learns from your feedback when you react with thumbs up/down!</sub>

<!-- /greptile_comment -->

## Reviews

### @greptile-apps â€” COMMENTED (2026-02-02)

<sub>2 files reviewed, 2 comments</sub>

<sub>[Edit Code Review Agent Settings](https://app.greptile.com/review/github) | [Greptile](https://greptile.com?utm_source=greptile_expert&utm_medium=github&utm_campaign=code_reviews)</sub>


## Comments

### @greptile-apps (2026-02-02)

<details>
<summary>Additional Comments (1)</summary>

**`src/commands/onboard-non-interactive/local/auth-choice.ts`**
[P1] Non-interactive SiliconFlow onboarding may write credentials to the wrong agent dir

`setSiliconflowApiKey(resolved.key)` is called without passing `agentDir`, while most other non-interactive branches pass through the target agent directory. If `resolveAuthAgentDir()` defaults differently than the `agentDir` being onboarded, this can store the key in a different profile store than the one the config points at.

If this is intentional, consider aligning with other providers by passing the same `agentDir` used by the onboarding flow.

<details><summary>Prompt To Fix With AI</summary>

`````markdown
This is a comment left during a code review.
Path: src/commands/onboard-non-interactive/local/auth-choice.ts
Line: 908:909

Comment:
[P1] Non-interactive SiliconFlow onboarding may write credentials to the wrong agent dir

`setSiliconflowApiKey(resolved.key)` is called without passing `agentDir`, while most other non-interactive branches pass through the target agent directory. If `resolveAuthAgentDir()` defaults differently than the `agentDir` being onboarded, this can store the key in a different profile store than the one the config points at.

If this is intentional, consider aligning with other providers by passing the same `agentDir` used by the onboarding flow.

How can I resolve this? If you propose a fix, please make it concise.
`````
</details>
</details>


## Stats

- **Size:** large (579+, 2-, 25 files)
- **Age:** 0 days
- **Last activity:** 2026-02-03

## Links

- Fixes: (none detected)
