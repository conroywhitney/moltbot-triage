---
number: 2185
title: "docs(cron): improve tool description with explicit required fields"
author: YuriNachos
created: 2026-01-26T11:02:24Z
updated: 2026-01-28T23:25:12Z
labels: ["docs"]
additions: 35
deletions: 23
changed_files: 1
size: medium
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: failing
mergeable: unknown
draft: false
url: https://github.com/openclaw/openclaw/pull/2185
fixes_issues: [1982]
related_prs: [1982]
duplicate_of: null
---

## Description

## Summary
Fixes #1982

Improved cron tool description to help AI agents reliably create cron jobs without guessing enum values or failing validation.

## Problem

AI agents were failing to create cron jobs because:
1. Required fields were not explicitly marked
2. Enum values had to be guessed through trial and error
3. Cross-field constraints were not clearly documented

Example validation errors:
- `missing required property 'text'`
- `unexpected property 'message'`
- `must match a schema in anyOf`

## Solution

Enhanced the tool description with:
- **Explicit REQUIRED markers**: schedule, payload, sessionTarget
- **Required vs Optional fields** for each payload kind
- **Concrete examples** for each schedule type (at, every, cron)
- **"Choose exactly one" guidance** for enum selections
- **Numbered constraint rules** with clear failure warnings
- **Added deleteAfterRun** to the job schema documentation

## Changes
- Modified `src/agents/tools/cron-tool.ts` description field
- No code logic changes, only documentation

## Testing
- All 15 cron-tool tests pass
- Linting passes for modified files

## Impact
AI agents can now construct valid cron add payloads on the first try without guessing enum values or discovering constraints through validation failures.

---

AI-assisted PR. Changes were tested with `pnpm test src/agents/tools/cron-tool.test.ts` and linted with `pnpm exec oxlint`.

## Reviews


## Comments


## Stats

- **Size:** medium (35+, 23-, 1 files)
- **Age:** 4 days
- **Last activity:** 2026-01-28

## Links

- Fixes: #1982
