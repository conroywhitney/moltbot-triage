---
number: 4766
title: "fix(gateway): include message field in WebChat error payloads"
author: Ayush10
created: 2026-01-30T16:53:08Z
updated: 2026-01-30T16:53:19Z
labels: ["gateway"]
additions: 10
deletions: 0
changed_files: 1
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 1
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/4766
fixes_issues: [2202]
related_prs: [2202]
duplicate_of: null
---

## Description

## Summary

- When the agent fails with persistent API errors (429 rate limit, 402 billing), the WebChat error payload only contained `errorMessage` but no `message` object
- WebChat clients that render the `message` field showed empty bubbles instead of the error description
- Now includes a renderable `message` using any partial streamed text or the formatted error description
- Backwards compatible â€” existing clients that read `errorMessage` continue to work

## Test plan

- [x] `pnpm build` passes
- [ ] Trigger a persistent 429 error in WebChat and verify the error text is displayed instead of an empty bubble

Fixes #2202

## Reviews


## Comments


## Stats

- **Size:** small (10+, 0-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: #2202
