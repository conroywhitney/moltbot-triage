---
number: 4769
title: "fix(macOS): exec approval dialog not showing command details"
author: mattflo
created: 2026-01-30T16:54:28Z
updated: 2026-01-30T16:56:04Z
labels: ["app: macos"]
additions: 11
deletions: 26
changed_files: 1
size: small
review_decision: none
reviews: []
comments_count: 0
reactions_total: 0
ci_status: pending
mergeable: true
draft: false
url: https://github.com/openclaw/openclaw/pull/4769
fixes_issues: []
related_prs: []
duplicate_of: null
---

## Description

## Summary
- Fix exec approval dialog showing empty command box instead of actual command text
- NSAlert accessory view wasn't rendering properly due to NSTextView/sizing issues

## Changes
- Replaced complex `NSTextView` + `NSScrollView` with simple wrapping `NSTextField`
- Added explicit width constraint and `setFrameSize(fittingSize)` for NSAlert accessory view

## Before
<img width="246" height="287" alt="screenshot_20260130_092922" src="https://github.com/user-attachments/assets/5381171c-19d1-42e8-a8b6-e6187fc45f14" />

*(Dialog showed "Command" header with empty box below)*

## After
Command text displays directly as readable monospace text with context details visible.
<img width="450" height="427" alt="screenshot_20260130_094514" src="https://github.com/user-attachments/assets/ff238623-fedb-4f05-9477-9001927cf6d0" />

## Testing
- [x] Tested locally on macOS 15.3 (Sequoia)
- [x] Rebuilt app with `ALLOW_ADHOC_SIGNING=1 ./scripts/package-mac-app.sh`
- [x] Verified command text now appears in approval dialog

## Notes
- [x] AI-assisted (Claude) - fully tested and understood

## Reviews


## Comments


## Stats

- **Size:** small (11+, 26-, 1 files)
- **Age:** 0 days
- **Last activity:** 2026-01-30

## Links

- Fixes: (none detected)
