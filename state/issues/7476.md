---
number: 7476
title: "Feature Request: WhatsApp sticker send support"
author: giannisanni
created: 2026-02-02T21:36:36Z
updated: 2026-02-02T22:07:41Z
labels: []
assignees: []
comments_count: 2
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7476
duplicate_of: null
related_issues: [5230,5535,6186]
blocks: []
blocked_by: []
---

## Description

## Description

The WhatsApp plugin currently has no way to send sticker messages. Sending a `.webp` file (512x512, <100KB) via the message tool delivers it as a regular image attachment, not as a sticker.

## Current behavior

- Inbound stickers are received correctly (as `.webp` files with `<media:sticker>` tag)
- `message action=sticker` returns `"Message action sticker not supported for channel whatsapp"`
- Sending a `.webp` via `action=send` with `contentType: image/webp` or `mimeType: image/webp` delivers as an image, not a sticker

## Expected behavior

Support sending WhatsApp stickers, either via:
- A dedicated `action=sticker` for the WhatsApp channel
- Automatically detecting `.webp` files matching sticker criteria (512x512, <100KB) and sending as `stickerMessage`
- A flag like `asSticker: true` on the send action

## Technical context

WhatsApp (Baileys) supports `stickerMessage` as a distinct message type. The plugin would need to set the message type to `stickerMessage` instead of `imageMessage` when sending stickers.

## Related issues

- #6186 (Telegram sticker support — closed/implemented)
- #5230 (LINE sticker support — closed)
- #5535 (Discord sticker relay — open)

## Comments

### @giannisanni (2026-02-02)

Additional context: In Baileys (which OpenClaw uses for WhatsApp), sending a sticker is straightforward:

```js
await sock.sendMessage(jid, { sticker: buffer })
```

The plugin could detect `.webp` files and automatically send as `sticker` instead of `imageMessage`, or use an explicit flag. The sticker requirements (512x512, transparent bg, <100KB, webp format) could optionally be validated before sending.

Reference: https://learn.turn.io/l/en/article/3jbjsl1fje-upload-and-send-a-sticker-via-the-api (Turn.io Cloud API equivalent)

### @giannisanni (2026-02-02)

**Update: working local patch**

Two files need changes:

**1. `dist/web/media.js`** — prevent webp→jpeg conversion for sticker-sized files:
```js
// In clampAndFinalize, before the optimize branch:
const isWebpSticker = params.contentType === "image/webp" && params.buffer.length <= 500 * 1024;
if (isGif || isWebpSticker || !optimizeImages) {
```

**2. `dist/web/inbound/send-api.js`** — route webp as sticker instead of image:
```js
// Before the image branch in sendMessage:
if (mediaType === "image/webp" && mediaBuffer.length <= 500 * 1024 && (!text || text === "." || text.trim() === "")) {
    payload = { sticker: mediaBuffer };
}
else if (mediaType.startsWith("image/")) {
```

Tested and confirmed working on Baileys. Sends as proper WhatsApp sticker (not image attachment).

A proper implementation would probably want an explicit `asSticker` flag in sendOptions rather than relying on empty caption detection.


## Links

- None detected yet
