---
number: 7634
title: "[Bug]: Slack HTTP mode requires appToken but shouldn't"
author: nigelvoidhawk-byte
created: 2026-02-03T02:19:07Z
updated: 2026-02-03T02:19:07Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7634
duplicate_of: null
related_issues: [1143]
blocks: []
blocked_by: []
---

## Description

## Bug Description
Slack HTTP webhook mode (added in PR #1143) fails to start because `server-providers.js` unconditionally requires `appToken`, which is only used in Socket Mode.

## Steps to Reproduce
1. Configure Slack with HTTP mode:
```yaml
channels:
  slack:
    accounts:
      default:
        mode: http
        botToken: ${SLACK_BOT_TOKEN}
        signingSecret: ${SLACK_SIGNING_SECRET}
        webhookPath: /slack/events
```
2. Start gateway
3. Provider fails with "not configured" and debug log shows: `slack provider not configured (missing SLACK_BOT_TOKEN/SLACK_APP_TOKEN)`

## Root Cause
In `dist/gateway/server-providers.js` around line 480:
```js
const botToken = account.botToken?.trim();
const appToken = account.appToken?.trim();
if (!botToken || !appToken) {
    // Returns early, never starts provider
}
```

This check happens **before** any mode differentiation. In HTTP mode, we need `signingSecret` instead of `appToken`, but the code requires both regardless.

## Expected Behavior
For `mode: http`, the check should be:
```js
if (!botToken || !signingSecret) { /* fail */ }
```

For `mode: socket` (default), the check should be:
```js
if (!botToken || !appToken) { /* fail */ }
```

## Workaround
Set a dummy `SLACK_APP_TOKEN` environment variable. The provider will pass the check and ignore the token in HTTP mode. Not ideal but functional.

## Version
OpenClaw 2026.2.1

## Related
- PR #1143 (feat(slack): add HTTP webhook mode)

## Comments


## Links

- None detected yet
