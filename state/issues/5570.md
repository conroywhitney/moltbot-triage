---
number: 5570
title: "[Bug]: WhatsApp 401 Unauthorized error - cryptic location codes (odn/cln) don't indicate session is logged out"
author: corbanb
created: 2026-01-31T17:22:59Z
updated: 2026-02-02T00:18:40Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/5570
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

When a WhatsApp session becomes invalidated (logged out), users receive a cryptic 401 Unauthorized error with undocumented location codes that don't clearly indicate the actual problem.

## Steps to reproduce

1. Have a working WhatsApp connection via OpenClaw
2. WhatsApp session becomes invalidated (device unlinked, app update, etc.)
3. Attempt any WhatsApp operation
4. Receive cryptic error: 

## Expected behavior

The error should clearly indicate that the WhatsApp session is logged out and provide actionable guidance (e.g., "Run 'openclaw channels login' to re-link").

## Actual behavior

- Error code 401 with location "odn" or "cln" is undocumented and confusing
- Console logs do show "WhatsApp session logged out. Run: openclaw channels login" but the JSON API response does not
- Users must dig through logs or search documentation to understand the issue

## Environment

- OpenClaw version: 2026.1.29
- OS: macOS 25.2.0 (arm64)
- Runtime: Node v22.12.0
- Install method: nvm global install

## Logs

``"
{"subsystem":"gateway/channels/whatsapp"},"[default] channel exited": {"error":{"data":{"reason":"401","location":"odn"},"isBoom":true,"isServer":false,"output":{"statusCode":401,"error":"Unauthorized","message":"Connection Failure"},"headers":{}}},"date":"2026-01-31T17:14:43.916Z"
``"

## Suggested fix

Add a user-friendly reason code to the error response when session is logged out:

```json
{
  "error": {
    "reason": "session_logged_out",
    "message": "WhatsApp session has been invalidated. Run 'openclaw channels login' to re-link.",
    "location": "odn"
  }
}
``"

Alternatively, document the location codes (odn, cln) in the troubleshooting documentation.

## Comments


## Links

- None detected yet
