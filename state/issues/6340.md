---
number: 6340
title: "[Bug] : Cron Scheduler: Session context overrides explicit configuration & empty payload delivery"
author: Jangmalza
created: 2026-02-01T15:16:01Z
updated: 2026-02-01T15:17:22Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6340
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
The internal cron scheduler prioritizes the session's historical `channel` (e.g., "whatsapp") over the explicit `channel` configured in [jobs.json](cci:7://file:///home/hamwoo/.moltbot/cron/jobs.json:0:0-0:0) (e.g., "telegram"). This causes delivery failures when the session history points to an unconfigured channel, even if the job is explicitly configured correctly.

## Steps to reproduce
1. Configure a cron job in [jobs.json](cci:7://file:///home/hamwoo/.moltbot/cron/jobs.json:0:0-0:0) with `kind: "agentTurn"`, `channel: "telegram"`, and `deliver: true`.
2. Ensure the target agent's session ([sessions.json](cci:7://file:///home/hamwoo/.moltbot/agents/main/sessions/sessions.json:0:0-0:0)) has a `channel` or `lastChannel` set to "whatsapp".
3. Run the cron job.

## Expected behavior
The explicit `channel: "telegram"` in [jobs.json](cci:7://file:///home/hamwoo/.moltbot/cron/jobs.json:0:0-0:0) should override any historical channel stored in the session.

## Actual behavior
The scheduler attempts delivery to "whatsapp" (from session history) and fails with "Outbound not configured for channel: whatsapp".

## Environment
- Moltbot version: 2026.1.27-beta.1
- OS: Linux
- Install method: pnpm

## Logs or screenshots
Gateway agent failed; falling back to embedded: Error: Error: Outbound not configured for channel: whatsapp

## Comments


## Links

- None detected yet
