---
number: 2415
title: "Tool ENOENT errors leak to messaging surfaces"
author: irving-targaryen-agency
created: 2026-01-26T22:25:32Z
updated: 2026-01-28T06:01:54Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/2415
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug

When a tool (e.g., `read`) fails with an ENOENT error, the error message gets sent to the messaging surface (iMessage, etc.) instead of staying internal.

## Reproduction

1. In an iMessage session, try to read a file that doesn't exist (e.g., wrong filename)
2. The ENOENT error gets sent as a follow-up message to the conversation

## Root Cause

In `dist/agents/pi-embedded-runner/run/payloads.js`, the `isRecoverableError` check doesn't match ENOENT patterns:

```javascript
const isRecoverableError = errorLower.includes("required") ||
    errorLower.includes("missing") ||
    errorLower.includes("invalid") ||
    errorLower.includes("must be") ||
    errorLower.includes("must have") ||
    errorLower.includes("needs") ||
    errorLower.includes("requires");
```

ENOENT errors say `"ENOENT: no such file or directory, open '...'"` â€” none of these keywords match.

## Flow

1. Tool fails with ENOENT
2. `isRecoverableError = false` (no keyword match)
3. Condition `!hasUserFacingReply && !isRecoverableError` is true
4. Error gets pushed to `replyItems`
5. `replyItems` gets sent to messaging surface

## Suggested Fix

Add more patterns to `isRecoverableError`:
- `"enoent"`
- `"no such file"`
- `"not found"`
- `"does not exist"`
- `"permission denied"` (another common FS error)

Or alternatively, treat ALL tool errors as internal/recoverable unless explicitly flagged otherwise.

## Comments


## Links

- None detected yet
