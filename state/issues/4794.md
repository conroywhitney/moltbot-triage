---
number: 4794
title: "iMessage: allowFrom chat_id should control outbound reply routing, not just inbound filtering"
author: aihearticu
created: 2026-01-30T17:44:40Z
updated: 2026-01-30T17:44:40Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4794
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
When `channels.imessage.allowFrom` includes `chat_id:101`, outbound replies should route to that specific chat thread. Currently, replies go to the sender's identifier (e.g., `+14159105710`) which can route to the wrong thread if multiple conversations exist with that identifier.

## Steps to Reproduce
1. Configure iMessage with `allowFrom: ["chat_id:101"]`
2. Have another active iMessage conversation (e.g., DoorDash texting from a phone number)
3. Send a message to the bot from your self-chat thread (chat_id:101)
4. Bot replies to `+14159105710` instead of `chat_id:101`
5. Reply sometimes routes to the wrong thread (most recently active thread with that identifier)

## Expected Behavior
When `chat_id:X` is specified in `allowFrom`, outbound replies should use that chat_id for routing, not the raw phone number identifier.

## Current Workaround
Disable iMessage channel entirely, or use iCloud email instead of phone number (different chat thread).

## Suggested Fix
Either:
1. When a message comes from a chat that matches a `chat_id:X` pattern in `allowFrom`, use that chat_id for reply routing
2. Add a new config option like `replyTarget` or `dms["handle"].replyTarget` to explicitly set outbound routing

## Environment
- OpenClaw version: 2026.1.29
- macOS with imsg CLI
- Self-texting scenario (own phone number)

## Comments


## Links

- None detected yet
