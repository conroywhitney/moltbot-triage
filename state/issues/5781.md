---
number: 5781
title: "[Bug]: WhatsApp document filename always \"file\""
author: NicodemPL
created: 2026-01-31T23:47:55Z
updated: 2026-01-31T23:47:55Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/5781
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

üêõ Bug: WhatsApp document filename always "file"*

*Problem:* When sending documents via message send tool with filename parameter, WhatsApp always shows the file as "file" regardless of the filename specified.

*Root cause:* In dist/web/inbound/send-api.js line ~31, the sendMessage function hardcodes fileName: "file" for document types:

js
// send-api.js - createWebSendApi ‚Üí sendMessage
else {
    payload = {
        document: mediaBuffer,
        fileName: "file",        // ‚Üê HARDCODED, ignores tool param
        caption: text || undefined,
        mimetype: mediaType,
    };
}


The filename parameter from the message tool never reaches this code path. It stays in params.args.filename but sendMessage() in send-api.js only receives (to, text, mediaBuffer, mediaType, sendOptions) ‚Äî no filename argument.

*Compare with deliver-reply.js* (agent auto-replies) which correctly uses:
js
const fileName = media.fileName ?? mediaUrl.split("/").pop() ?? "file";


*Fix suggestion:* Pass sendOptions.fileName through to send-api.js and use it instead of the hardcoded "file".

*Reproduction:*
Use message send tool with filePath + filename params
Send any PDF/document to WhatsApp
Recipient sees "file" instead of the specified filename

*Workaround:* None that works ‚Äî even renaming the source file doesn't help because send-api.js ignores the path basename too.

## Comments


## Links

- None detected yet
