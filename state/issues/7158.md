---
number: 7158
title: "mcporter skill integration returns blank - workaround using exec-based skill"
author: Plaidmustache
created: 2026-02-02T13:21:17Z
updated: 2026-02-02T13:21:17Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7158
duplicate_of: null
related_issues: [53,3168,5063]
blocks: []
blocked_by: []
---

## Description

## Summary

When using mcporter to connect MCP servers to clawdbot, the skill integration returns blank/empty responses. However, calling mcporter CLI directly via exec works correctly. This issue documents the problem and provides a workaround with a full skill template.

## What I was trying to do

I added MCP servers to my clawdbot deployment to extend its capabilities:

- **Browser automation MCP** - For web browsing, screenshots, form filling
- **Search MCP** - For web search, URL fetching, etc.

The servers were containerized and exposed via mcp-proxy on HTTP/SSE endpoints. The goal was to have clawdbot use these tools for tasks like "search for X" or "navigate to this website."

## Setup (works correctly)

```bash
# Configure MCP servers via mcporter
npx mcporter config add browser-mcp http://browser-mcp:3001/mcp --scope home
npx mcporter config add search-mcp http://search-mcp:3002/mcp --scope home

# Verify - shows servers connected with tools
npx mcporter list
# browser-mcp (http://browser-mcp:3001/mcp) - 34 tools
# search-mcp (http://search-mcp:3002/mcp) - 10 tools
```

## The Problem

| Method | Result |
|--------|--------|
| mcporter CLI via exec | ✅ Works - returns correct output |
| mcporter skill integration | ❌ Blank - no output, no error |

```bash
# This works (via exec):
npx mcporter call browser-mcp.browser_navigate url=https://example.com
# ✓ Example Domain
#   https://example.com/

# This returns blank (via clawdbot skill integration):
# [clawdbot tries to use mcporter internally] → empty response
```

## Environment

- **clawdbot version**: 2026.1.24-3
- **mcporter**: installed via `npx clawdhub@latest install mcporter`
- **MCP servers**: Docker containers on internal network, accessible via HTTP
- **mcp-proxy**: Used to wrap stdio MCP servers as HTTP/SSE

## Suspected Cause

The clawdbot↔mcporter skill integration appears to have a subprocess output capture issue. The mcporter CLI executes correctly (logs show activity), but the stdout isn't returned to clawdbot. I haven't debugged the source to confirm.

This may be related to:
- Issue #3168 (blank output in chat UI - similar symptom)
- Issue #5063 (mentions "mcporter's STDIO connection issues" as motivation)
- mcporter issue steipete/mcporter#53 (same problem reported)

---

## Workaround: Create an Exec-Based MCP Skill

The solution is to create a custom skill that teaches clawdbot to call mcporter via exec instead of the broken skill integration.

### Skill Template

Create a file at `~/clawd/skills/mcp-tools/SKILL.md` (or your workspace skills directory):

```markdown
---
name: mcp-tools
description: Use MCP servers via exec commands
user-invocable: false
---

# MCP Tools - Access Your MCP Servers

You have access to MCP servers through exec commands. This bypasses the skill integration and calls mcporter CLI directly.

## How to Call MCP Tools

Use this syntax:

    npx mcporter call <server-name>.<tool-name> <arg>=<value> [arg2=value2 ...]

For arguments with spaces, use quotes:

    npx mcporter call search-mcp.web_search query="best restaurants in paris"

---

## Your MCP Servers

### 1. browser-mcp (Browser Automation)

#### Navigation
| Tool | Description | Example |
|------|-------------|---------|
| browser_navigate | Open a URL | npx mcporter call browser-mcp.browser_navigate url=https://example.com |
| browser_go_back | Go back in history | npx mcporter call browser-mcp.browser_go_back |
| browser_refresh | Refresh the page | npx mcporter call browser-mcp.browser_refresh |

#### Content Extraction
| Tool | Description | Example |
|------|-------------|---------|
| browser_snapshot | Get page structure | npx mcporter call browser-mcp.browser_snapshot |
| browser_get_text | Extract text content | npx mcporter call browser-mcp.browser_get_text selector="body" |
| browser_screenshot | Take screenshot | npx mcporter call browser-mcp.browser_screenshot |

#### Interaction
| Tool | Description | Example |
|------|-------------|---------|
| browser_click | Click an element | npx mcporter call browser-mcp.browser_click selector="button.submit" |
| browser_type | Type text | npx mcporter call browser-mcp.browser_type selector="input" text="hello" |
| browser_fill | Fill form field | npx mcporter call browser-mcp.browser_fill selector="#email" value="test@example.com" |

---

### 2. search-mcp (Search Tools)

| Tool | Description | Example |
|------|-------------|---------|
| web_search | Search the web | npx mcporter call search-mcp.web_search query="your search terms" |
| ai_search | AI-powered search | npx mcporter call search-mcp.ai_search query="explain quantum computing" |
| read_url | Fetch URL content | npx mcporter call search-mcp.read_url url=https://example.com |
| news_search | Search news | npx mcporter call search-mcp.news_search query="tech news today" |

---

## Common Workflows

### Research a Topic

    # Get an AI overview
    npx mcporter call search-mcp.ai_search query="history of containerization"

    # Search for recent articles
    npx mcporter call search-mcp.web_search query="docker vs podman 2024"

    # Read a specific article
    npx mcporter call search-mcp.read_url url=https://example.com/article

### Browse and Extract Data

    # Navigate to page
    npx mcporter call browser-mcp.browser_navigate url=https://example.com

    # Get page snapshot (shows element structure)
    npx mcporter call browser-mcp.browser_snapshot

    # Extract specific content
    npx mcporter call browser-mcp.browser_get_text selector="article.main"

### Fill Out a Form

    # Navigate to form
    npx mcporter call browser-mcp.browser_navigate url=https://example.com/contact

    # Fill fields
    npx mcporter call browser-mcp.browser_fill selector="#name" value="John Doe"
    npx mcporter call browser-mcp.browser_fill selector="#email" value="john@example.com"

    # Submit
    npx mcporter call browser-mcp.browser_click selector="button[type=submit]"

---

## Tips

1. **Always use exec** - The native skill integration returns blank. Use exec commands.

2. **Quote arguments with spaces** - query="multi word search"

3. **Use snapshots first** - Run browser_snapshot to discover element selectors before interacting.

4. **Wait for page loads** - After navigation or clicks, content may need time to load.

---

## Troubleshooting

- **Connection refused**: MCP server may be down. Check container status.
- **Element not found**: Use browser_snapshot to verify selectors.
- **Empty response**: Page may need JavaScript. Wait for content to load.
```

---

## How to Adapt This Template

1. **List your MCP servers**: Run `npx mcporter list` to see connected servers and tool counts

2. **Get tool schemas**: Run `npx mcporter list <server-name> --schema` to see all available tools and their parameters

3. **Document each tool**: Add tables like the examples above with tool name, description, and example command

4. **Add workflows**: Include common multi-step tasks relevant to your use case

5. **Place the skill**: Save to `~/clawd/skills/<skill-name>/SKILL.md`

---

## Steps to Reproduce the Original Problem

1. Add an MCP server via mcporter: `npx mcporter config add test-server http://your-mcp:3000/mcp --scope home`
2. Verify it's connected: `npx mcporter list` (should show server + tools)
3. Test CLI directly: `npx mcporter call test-server.some_tool arg="value"` (should work)
4. Ask clawdbot to use the MCP tool (via Telegram, Web UI, etc.)
5. Observe: clawdbot returns blank/empty response

---

## Additional Context

- The exec workaround is now my production solution
- All MCP tools work via exec - the underlying mcporter CLI is fine
- The issue is specifically in how clawdbot invokes the mcporter skill
- Also commented on related mcporter issue: steipete/mcporter#53

Happy to provide logs or additional details if helpful for debugging.

## Comments


## Links

- None detected yet
