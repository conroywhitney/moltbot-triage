---
number: 3327
title: "Slack DM messages get ðŸ‘€ reaction but don't trigger agent runs"
author: lanceretter
created: 2026-01-28T12:59:32Z
updated: 2026-01-28T15:07:51Z
labels: ["bug", "channel: slack"]
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/moltbot/moltbot/issues/3327
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
Slack DM messages are received (ack reaction added) but intermittently fail to dispatch to the agent. The message handler adds the ðŸ‘€ reaction, but no agent run is triggered.

## Environment
- Clawdbot version: 2026.1.24-3
- OS: Ubuntu Linux 6.14.0-1018-aws (x64)
- Node: v22.22.0

## Config
```json
{
  "channels.slack.dm.policy": "open",
  "channels.slack.dm.allowFrom": ["*"]
}
```

## Symptoms
1. User sends DM to bot
2. Bot adds ðŸ‘€ reaction (message receipt works)
3. **Agent run does NOT trigger** (intermittent)
4. Manual sends via `message` tool work fine
5. After gateway restart, DMs work briefly then break again

## Potentially Related
At the same time DMs fail to process, logs show repeated "Gateway failed to start: gateway already running" errors every ~20 seconds. Something is trying to start additional gateway instances. This may be blocking/interfering with message dispatch.

```
2026-01-28T12:54:05.357Z ERROR Gateway failed to start: gateway already running (pid 4821)
2026-01-28T12:54:24.040Z ERROR Gateway failed to start: gateway already running (pid 4821)
2026-01-28T12:54:42.747Z ERROR Gateway failed to start: gateway already running (pid 4821)
```

User's DM at 12:54:04 got ðŸ‘€ but no agent run. The repeated gateway start attempts began at 12:54:05.

## Session Info
DM sessions are being created with `kind: "group"` instead of `kind: "dm"`:
```
key: "agent:main:slack:channel:u03lcdq8b"
kind: "group"  // Should this be "dm"?
```

## Steps to Reproduce
1. Configure Slack DMs as open
2. Send DM to bot from Slack
3. Observe ðŸ‘€ reaction added
4. Agent run may or may not trigger (intermittent)

## Expected Behavior
Every DM should trigger an agent run after the ack reaction is added.

## Workaround
Gateway restart temporarily fixes the issue, but it breaks again after a few messages.

## Comments


## Links

- None detected yet
