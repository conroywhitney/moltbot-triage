---
number: 3780
title: "gateway stop uses bootout, breaking subsequent gateway start"
author: gibbsoft
created: 2026-01-29T05:31:02Z
updated: 2026-01-29T05:40:24Z
labels: []
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3780
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

`clawdbot gateway stop` uses `launchctl bootout` which completely unloads the LaunchAgent from launchd. This means `clawdbot gateway start` subsequently fails because the service registration is gone.

## Steps to Reproduce

1. `clawdbot gateway install` (service running)
2. `clawdbot gateway stop`
3. `clawdbot gateway start`

## Expected Behavior

`gateway start` should work after `gateway stop` without needing to reinstall.

## Actual Behavior

```
Gateway service not loaded.
Start with: clawdbot gateway install
```

## Suggested Fix

Use `launchctl stop gui/$UID/com.clawdbot.gateway` instead of `launchctl bootout` for `gateway stop`. This stops the service but keeps it registered, allowing `gateway start` to work.

The `bootout` behavior could be moved to a separate command like `gateway uninstall` or `gateway remove` for when you actually want to fully remove the service.

## Workaround

Use launchctl directly:
```bash
launchctl stop gui/$UID/com.clawdbot.gateway
# ... do work ...
launchctl start gui/$UID/com.clawdbot.gateway
```

## Environment

- Clawdbot 2026.1.24-3
- macOS (LaunchAgent)

## Comments

### @gibbsoft (2026-01-29)

## Update: KeepAlive complicates this further

Testing revealed that even `launchctl stop` doesn't work for maintenance tasks because the LaunchAgent has `KeepAlive` enabled - launchd immediately restarts the service.

The only way to get a clean stop (for things like `signal-cli updateProfile`) is to use `bootout`/`bootstrap` as a pair:

```bash
launchctl bootout gui/$UID/com.clawdbot.gateway && \
signal-cli -a +44... updateProfile --avatar /path/to/avatar.jpg && \
launchctl bootstrap gui/$UID ~/Library/LaunchAgents/com.clawdbot.gateway.plist
```

### Possible solutions:

1. **Add `gateway pause`/`gateway resume`** - uses bootout/bootstrap internally but as a matched pair
2. **Add `gateway maintenance` wrapper** - stops gateway, runs a command, restarts gateway
3. **Document the workaround** - explain that bootout/bootstrap is needed, not stop/start

The current UX issue is that `gateway stop` does half of this (bootout) but `gateway start` doesn't do the matching half (bootstrap) - it expects the service to already be loaded.


## Links

- None detected yet
