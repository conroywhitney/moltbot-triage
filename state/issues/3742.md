---
number: 3742
title: "Discord: Channel-level model overrides (set it and forget it)"
author: heymaxbot
created: 2026-01-29T03:48:23Z
updated: 2026-01-29T04:05:12Z
labels: []
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/moltbot/moltbot/issues/3742
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

Right now, switching models in Moltbot is all-or-nothing — change it once and it changes everywhere. That means you're constantly asking yourself: "What am I doing? Which model should I use? Is this worth the Opus bill?"

What if you could just pin models to specific Discord channels instead? Casual chat in #general? Gemini Flash. Deep work in #coding? Claude Opus. Set it once, forget about it, and let the channel do the thinking for you.

## How It Would Work

Add a `model` option to Discord guild and channel configs. Something like this:

```json
{
  "channels": {
    "discord": {
      "guilds": {
        "1234567890": {
          "model": "google/gemini-2.5-flash-preview-05-20",
          "channels": {
            "9876543210": {
              "model": "anthropic/claude-opus-4-5"
            }
          }
        }
      }
    }
  }
}
```

When Moltbot gets a message in a Discord channel, it checks:

1. **Does this channel have a model set?** → Use that
2. **No? Does the guild have a default?** → Use that
3. **Still no?** → Fall back to the agent's default model

Simple waterfall. No surprises.

## Why Not Just...

**"Just use `session_status` to switch models"** — Sure, but that's per-session and requires an allowlist. You'd have to remember to switch every time. The whole point is *not* thinking about it.

**"Run multiple agents"** — Works, but overkill. You'd need separate workspaces, separate configs, separate everything. Just to use a different model in #random vs #work? Too heavy.

**"Use agent bindings"** — Bindings let you route different agents to different channels, but that's a lot of setup for what should be a one-liner config change.

## Implementation Sketch

From poking around the codebase, here's roughly what would need to change:

- **Discord config schema** — Add `model` field to guild/channel objects
- **Model selection logic** — Check for Discord channel overrides before falling back to agent defaults  
- **Session init** — Make sure the Discord handler passes channel info through so the model resolver can see it

The existing `BindingsSchema` already matches on `guildId` and channel — similar pattern could work here.

## Nice-to-Haves

- Works with the existing model alias system (so you could just say `"model": "flash"`)
- No breaking changes — purely additive
- Estimated effort: ~6-8 hours

## Comments


## Links

- None detected yet
