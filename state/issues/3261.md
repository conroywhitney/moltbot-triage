---
number: 3261
title: "[Bug]: Env var substitution rewrites config file with plain-text secrets on gateway restart"
author: dreamgoat011
created: 2026-01-28T10:05:31Z
updated: 2026-01-28T10:05:31Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3261
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

Version: 2026.1.24-3
OS: Linux (Pi 5)
Install: npm global

**Steps to reproduce:**
1. Create config with env var placeholder: `"apiKey": "${NANOGPT_API_KEY}"`
2. Run `clawdbot gateway restart`
3. Check config file - secrets are now written in plain text

**Expected behavior:**
Config file should remain unchanged with `${VAR_NAME}` placeholders. Secrets should only be substituted in memory at runtime.

**Actual behavior:**
Config file is rewritten with actual secret values, exposing them in backups/version control.
**Relevant docs:** https://docs.molt.bot/gateway/configuration#env-var-substitution-in-config

## Comments


## Links

- None detected yet
