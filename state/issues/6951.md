---
number: 6951
title: "Thread sessions should survive gateway restarts and preserve conversation history"
author: Akibalogh
created: 2026-02-02T07:10:43Z
updated: 2026-02-02T07:10:43Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6951
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

When a gateway restarts mid-thread, the new session loses all prior conversation history from that thread. inheritParent: true only injects the thread-starting message, not the conversation that happened within the thread.

Current behavior

• Gateway restart creates a new session ID for existing threads
• New session only has the thread starter (via inheritParent)
• All mid-thread conversation history is lost
Expected behavior

• Thread sessions should persist across gateway restarts
• OR: When a new session is created for an existing thread, recent thread replies should be fetched and injected as context
Impact

Users experience this as the bot "forgetting" what was discussed moments ago, even within the same thread. This is the primary cause of context loss complaints.

Reproduction

1. Start a thread with the bot, have a multi-turn conversation
2. Restart the gateway (moltbot gateway restart)
3. Continue the conversation in the same thread
4. Bot has no memory of what was discussed before the restart
Suggested approaches

1. Persist session mappings: Store thread_id → session_id mappings and restore on startup
2. Fetch thread history on new session: When creating a session for an existing thread, use the Slack API to fetch recent replies and inject them as context
3. Session file persistence: Keep session .jsonl files and re-associate them with threads based on thread_id metadata

## Comments


## Links

- None detected yet
