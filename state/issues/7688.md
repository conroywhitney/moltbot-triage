---
number: 7688
title: "Auto-compaction blocks other sessions and can re-run immediately"
author: 1alyx
created: 2026-02-03T03:50:11Z
updated: 2026-02-03T03:50:11Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7688
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Problem
Auto-compaction runs inside session and global lane locks, blocking other sessions for minutes. In some cases a second compaction fires immediately after the first when overflow occurs.

## Steps to reproduce
1. Enable auto-compaction and drive a session until context overflow.
2. Observe long lane waits and queued work.
3. In some cases, observe a second compaction firing right after the first.

## Expected behavior
Compaction should not block unrelated sessions and should not immediately re-run after it just completed.

## Actual behavior
Other sessions are blocked while compaction runs, and a second compaction can fire immediately.

## Comments


## Links

- None detected yet
