---
number: 6341
title: "[Bug] internal cron scheduler silently discards original message when agent output is empty"
author: Jangmalza
created: 2026-02-01T15:16:21Z
updated: 2026-02-02T08:09:01Z
labels: ["bug"]
assignees: []
comments_count: 2
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6341
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
When using `agentTurn` for cron jobs, if the agent's response is filtered out (heartbeat/short ack) or empty, the scheduler silently discards the original `message` from the payload. This results in the job status being marked as "ok" but no message is actually delivered to the user.

## Steps to reproduce
1. Configure a cron job in [jobs.json](cci:7://file:///home/hamwoo/.moltbot/cron/jobs.json:0:0-0:0) with `kind: "agentTurn"`, `message: "Reminder text"`, and `deliver: true`.
2. Run the cron job.
3. If the agent response is interpreted as a heartbeat (e.g. "Ok", "Received"), the `skipHeartbeatDelivery` logic triggers.

## Expected behavior
If `deliver: true` is set and the agent response is filtered/empty, the scheduler should fallback to delivering the original `message` from the payload so the user receives their reminder.

## Actual behavior
The job finishes with status "ok", but nothing is sent. The original `message` is ignored and the agent's filtered response results in an empty payload list.

## Environment
- Moltbot version: 2026.1.27-beta.1
- OS: Linux
- Install method: pnpm

## Logs or screenshots
No error logs are produced, but no message is delivered.
Proposed fix verified locally (monkey-patch in `run.js`):
```javascript
// Verification: Forcing original message usage fixes the issue
if (params.message) {
    payloads.push({ text: params.message });
}

## Comments

### @sidmohan0 (2026-02-01)

The fix is in run.ts â€” when `skipHeartbeatDelivery` triggers with `deliver: true`, the original params.message should be used as a fallback payload instead of silently returning `"ok"`.  I'll work on a PR 


### @sidmohan0 (2026-02-01)

PR up #6522 


## Links

- None detected yet
