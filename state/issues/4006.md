---
number: 4006
title: "Outbound message text not logged in \"Sent message\" path (only in \"auto-reply sent\")"
author: lucasmpramos
created: 2026-01-29T14:18:44Z
updated: 2026-01-29T14:18:44Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4006
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

I'm trying to manually log inbound and outbound whatsapp messages so that users can monitor their agents speaking to third-parties (clients, etc) through the whatsapp channel (in the future, other channels too).

However, I'm hitting some roadblocks here:

## Summary

When sending WhatsApp messages, Clawdbot uses two different code paths for outbound delivery. Only one of them logs the message text, making it impossible to capture all outbound messages programmatically.

## The Two Paths

| Path | Log Entry | Contains Text | Capturable |
|------|-----------|---------------|------------|
| `web-auto-reply` module | `"auto-reply sent (text)"` | ✅ Yes | ✅ Yes |
| `gateway/channels/whatsapp/outbound` subsystem | `"Sent message <id> -> <jid>"` | ❌ No | ❌ No |

## Evidence

**auto-reply sent** (good - has text):
{"0":"{\"module\":\"web-auto-reply\",...}","1":{"to":"+55...","text":"Message content here..."},"2":"auto-reply sent (text)"}

**Sent message** (missing text):
{"0":"{\"subsystem\":\"gateway/channels/whatsapp/outbound\"}","1":"Sent message 3EB0AF08... -> 55...@s.whatsapp.net (8ms)"}

## When "Sent message" path is used

From my testing, the `Sent message` path appears to be used when:
- Heavy tool/exec usage during response generation
- Multiple responses sent in quick succession
- Possibly related to streaming or batched delivery

Normal conversational responses typically use `auto-reply sent`.

## Impact

I'm building a WhatsApp → Notion logger plugin that captures all conversations. Currently ~10-20% of outbound messages are lost because they go through the `Sent message` path which doesn't include the message text.

## Suggested Fix

Option A: Include message text in the `Sent message` log entry

Option B: Implement the `message_sent` or `message_sending` hooks (they're defined but not currently called)

## Environment

- Clawdbot version: 2026.1.24
- Channel: WhatsApp
- Platform: Linux (EC2)

## Comments


## Links

- None detected yet
