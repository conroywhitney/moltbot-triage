---
number: 2596
title: "[Bug]: read tool validation fails - uses \"file_path\" but expects \"path\" parameter"
author: WatermelonPan
created: 2026-01-27T05:35:14Z
updated: 2026-02-03T03:20:05Z
labels: ["bug"]
assignees: []
comments_count: 15
reactions_total: 2
url: https://github.com/openclaw/openclaw/issues/2596
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

Summary

   When the agent attempts to read a file using the read tool, it passes the parameter as file_path, but the
   tool schema expects path. This causes validation to fail with "must have required property 'path'".

   Steps to reproduce
   1. Create a custom skill with a Python script (e.g., fetch_news.py)
   2. Ask the agent to read the script file to understand or modify it
   3. Agent calls read tool with {"file_path": "C:\\path\\to\\file.py"}
   4. Validation fails

   Expected behavior

   The agent should use the correct parameter name (path) when calling the read tool, or the tool schema
   should accept file_path as an alias.

   Actual behavior

   The agent consistently uses file_path instead of path, causing the read operation to fail every time:

     Validation failed for tool "read":
       - path: must have required property 'path'
     Received arguments:
     {
       "file_path": "C:\Users\linys\clawd\skills\x_ai_tech_news\fetch_news.py"
     }

   The agent retried multiple times with the same incorrect parameter name.

   Environment
   •  Clawdbot version: 2026.1.24-3
   •  OS: Windows 10 (Build 26200)
   •  Install method: npm (global install via npm install -g clawdbot)
   •  Node.js version: v24.4.0

   Logs or screenshots

     read
     Completed

     Validation failed for tool "read":
       - path: must have required property 'path'
     Received arguments:
     {
       "file_path": "C:\Users\linys\clawd\skills\x_ai_tech_news\fetch_news.py"
     }

   This happened 3 consecutive times - the agent kept using file_path instead of path.

## Comments

### @eljosuesilva (2026-01-29)

+1. Clawdbot cannot read the SOULS.md file because of this problem. So it's useless.


### @hu19940121 (2026-01-30)

I’m really confused. I’ve seen a lot of people somewhere saying how great and useful this app/program is. But because of this error, many basic functions can’t be used at all. So here’s my question: did the people who say it’s good just not run into this problem? Can someone explain?

### @yzzymt (2026-01-30)

> I’m really confused. I’ve seen a lot of people somewhere saying how great and useful this app/program is. But because of this error, many basic functions can’t be used at all. So here’s my question: did the people who say it’s good just not run into this problem? Can someone explain?

Feeling the same. I've tried windows version, linux version, and Mac version, they all have the same issue. Also it's so confused that at the first few hours using of openclaw on macOS, there wasn't any problem. 

Anyone struggling this issue , happy typing "use exec cat instead of read tool" at the beginning of every session. But it still is a problem because your model may miss the content of agents.md, soul.md, identity.md, memory.md......

### @cs-regan (2026-01-30)

The same issue also exists in Mac. The "skills" function cannot be invoked. All skills are indicated

EG:
Validation failed for tool "read":

path: must have required property 'path'
Received arguments:
{
"file_path": "/xxx/.gemini/antigravity/scratch/moltbot/skills/weather/SKILL.md"
}

### @junxinzhang (2026-01-30)

 I'm experiencing the same issue.                                                            
                                                                                              
  **Environment:**                                                                            
  - OS: macOS (Darwin 25.2.0)                                                                 
                                                                                              
  The agent consistently uses `file_path` instead of `path` when calling the read tool,       
  causing validation to fail repeatedly with:                                                 
                                                                                              
  Validation failed for tool "read":                                                          
  - path: must have required property 'path'                                                  
                                                                                              
  Looking at the code in `src/agents/pi-tools.read.ts`, there is a compatibility layer        
  (`normalizeToolParams`) that should convert `file_path` to `path`, and                      
  `patchToolSchemaForClaudeCompatibility` that should add `file_path` as an alias. However, it
   seems the schema validation happens before the normalization function runs, so the alias is
   not being recognized.                                                                      
                                                                                              
  +1 for prioritizing this fix.      

### @omedinapr (2026-01-30)

+1

### @taverngoal (2026-01-30)

+1

### @2deng-bowen (2026-01-30)

+1

### @MartinP7r (2026-02-01)

If you're on macOS try installing the macOS app. Running it's startup wizard resolved the issues for me.

https://github.com/openclaw/openclaw/releases/tag/v2026.1.30

### @josuesilvaml (2026-02-02)

So updating to the newest version should solve the issue in Mac?

### @cs-regan (2026-02-02)

## Fix: Validation failed for tool "read": path: must have required property 'path'

**Description:**
I encountered a critical bug when attempting to use skills (specifically the `weather` skill) in OpenClaw. The agent calls the `read` tool using the `file_path` argument (which is the expected behavior for Claude compatibility), but the validation fails claiming the `path` property is missing.

**Error Log:**
```text
Validation failed for tool "read":

path: must have required property 'path'
Received arguments:
{
  "file_path": "/Users/xxx/.nvm/versions/node/v24.13.0/lib/node_modules/openclaw/skills/weather/SKILL.md"
}
```

**Environment:**
*   **OS:** macOS
*   **Node.js Version:** v24.13.0
*   **OpenClaw Version:** 2026.1.30

**Root Cause:**
The issue lies in `dist/agents/pi-tools.read.js` within the `patchToolSchemaForClaudeCompatibility` function.

When aliasing `path` to `file_path`, the code correctly removes `path` from the `required` array. However, due to a bug in how the object is constructed, if the `required` array becomes empty, it is ignored entirely. This causes the original `schema`'s required fields (containing `path`) to persist via the `...schema` spread operator.

**Solution:**
We must unconditionally overwrite the `required` property to ensure the old constraints are removed.

**File to modify:**
`dist/agents/pi-tools.read.js`

** Full Path **
`/Users/xxx/.nvm/versions/node/v24.13.0/lib/node_modules/openclaw/dist/agents/pi-tools.read.js`

**Proposed Changes:**

```javascript
// Function: patchToolSchemaForClaudeCompatibility

    if (!changed) {
        return tool;
    }
    return {
        ...tool,
        parameters: {
            ...schema,
            properties,
            // 🔴 DELETE THIS LINE:
            // ...(required.length > 0 ? { required } : {}),

            // 🟢 ADD THIS LINE INSTEAD:
            required,
        },
    };
}
```

Applying this change forces the schema to accept the empty required list, resolving the validation error using `file_path`.


### @MartinP7r (2026-02-02)

@josuesilvaml 

> So updating to the newest version should solve the issue in Mac?

No, updating the version of openclaw did nothing for me. Using the macOS app to setup openclaw solved my issue. Your milage may vary.

### @jhhd88 (2026-02-02)

> [@josuesilvaml](https://github.com/josuesilvaml)
> 
> > So updating to the newest version should solve the issue in Mac?
> 
> 没用，更新 openclaw 版本并不能解决我的问题。我是通过 macOS 应用来配置 openclaw 才搞定的。不过，这个方法未必对每个人都奏效。

<img width="1343" height="555" alt="Image" src="https://github.com/user-attachments/assets/45c84ec3-e98e-436a-b0aa-17a91b232c32" />

我已经解决问题了

/usr/local/lib/node_modules/openclaw/dist/agents/pi-tools.read.js


### @guancyxx (2026-02-02)

+1

### @hu19940121 (2026-02-03)

> > [@josuesilvaml](https://github.com/josuesilvaml)
> > > So updating to the newest version should solve the issue in Mac?
> > 
> > 
> > 没用，更新 openclaw 版本并不能解决我的问题。我是通过 macOS 应用来配置 openclaw 才搞定的。不过，这个方法未必对每个人都奏效。
> 
> <img alt="Image" width="1343" height="555" src="https://private-user-images.githubusercontent.com/15847202/543780256-45c84ec3-e98e-436a-b0aa-17a91b232c32.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NzAwODg5MDMsIm5iZiI6MTc3MDA4ODYwMywicGF0aCI6Ii8xNTg0NzIwMi81NDM3ODAyNTYtNDVjODRlYzMtZTk4ZS00MzZhLWIwYWEtMTdhOTFiMjMyYzMyLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNjAyMDMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjYwMjAzVDAzMTY0M1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTkxOWRlODdhMWRhNGY1Yzk3MzE2OWViN2JmOGMxZmJhNTIzZTI0MjI1NWRiOGEyNDQ1NDI0NGVlYWIwZDU4YjImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.xa4AT_M2z--vKXz2MpiX0H3FTCCtvyEkhkFjvwXaIaY">
> 我已经解决问题了
> 
> /usr/local/lib/node_modules/openclaw/dist/agents/pi-tools.read.js

目前我也是自己修改了源码解决的，但是我感觉使用源码安装的人在少数，而且这个问题已经存在了这么久了， 很好奇大家是怎么用下去的


## Links

- None detected yet
