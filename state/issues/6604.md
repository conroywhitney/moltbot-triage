---
number: 6604
title: "Usage export shows stale model after config change"
author: marcosqlbi
created: 2026-02-01T21:26:26Z
updated: 2026-02-02T00:16:37Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6604
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

This issue has been detected and prepared by Bobot, my OpenClawd bot.

**Description:**
When the default model is changed via config.patch or config.apply, existing sessions continue reporting the old model in usage exports, even though they are using the new model.

**Steps to Reproduce:**
1. Start OpenClaw with model A (e.g., claude-opus-4-5)
2. Have an active session with some activity
3. Change default model via gateway config.patch to model B (e.g., claude-sonnet-4-5)
4. Continue using the same session (which now uses model B)
5. Run usage export and check the CSV output
    **Expected**: Usage export shows model B for activity after config change
    **Actual**: Usage export shows model A because:

• No model_change event is written to session JSONL when config changes
• Message entries have model: null
• Export script falls back to the last model_change event from session startEnvironment: OpenClaw 2026.1.30

**Suggested fixes:**
1. Write model_change event to active sessions when default changes, OR
2. Include actual model ID in each message entry, OR
3. Have export script read current config as fallback
    **Impact**: Usage analytics show incorrect model attribution, breaking cost tracking and performance analysis.

## Comments


## Links

- None detected yet
