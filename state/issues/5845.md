---
number: 5845
title: "CLI audio transcription: {file} placeholder not substituted"
author: thecolormaroun
created: 2026-02-01T01:57:36Z
updated: 2026-02-02T00:17:31Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/5845
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

When using `tools.media.audio.models` with `type: "cli"`, the `{file}` placeholder in the `args` array is passed literally instead of being substituted with the actual audio file path.

## Config

```json
{
  "tools": {
    "media": {
      "audio": {
        "enabled": true,
        "maxBytes": 20971520,
        "timeoutSeconds": 180,
        "models": [{
          "type": "cli",
          "command": "whisper",
          "args": ["{file}", "--model", "large-v3-turbo", "--output_format", "txt", "--output_dir", "/tmp"]
        }]
      }
    }
  }
}
```

## Error

When a voice message is received via Telegram, the transcription fails:

```
Skipping {file} due to RuntimeError: Failed to load audio: ...
Error opening input file {file}.
```

The literal string `{file}` is being passed to the whisper command instead of the actual file path (e.g. `~/.openclaw/media/inbound/file_120---xxx.ogg`).

## Expected Behavior

The `{file}` placeholder should be replaced with the actual path to the downloaded audio file before executing the CLI command.

## Environment

- OpenClaw version: 2026.1.30
- OS: macOS (Darwin 25.2.0 arm64)
- Node: v25.2.1
- Channel: Telegram

## Workaround

Using `type: "provider"` with Gemini works, but local CLI transcription (whisper) does not.

## Comments


## Links

- None detected yet
