---
number: 7590
title: "Error deploying using Docker"
author: StephenJose-Dai
created: 2026-02-03T00:46:35Z
updated: 2026-02-03T00:46:35Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7590
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

I'm using the `git` command and the `./` command to deploy, and I don't know where the problem is. Below are my execution commands and logs:

```
git clone https://github.com/openclaw/openclaw.git`
cd openclaw`
./docker-setup.sh`
```
```
root@openclaw:~/openclaw# ./docker-setup.sh 
==> Building Docker image: openclaw:local
[+] Building 42.6s (16/18)                                                                                                                                             docker:default
 => [internal] load build definition from Dockerfile                                                                                                                             0.2s
 => => transferring dockerfile: 1.25kB                                                                                                                                           0.0s
 => [internal] load metadata for docker.io/library/node:22-bookworm                                                                                                              2.4s
 => [internal] load .dockerignore                                                                                                                                                0.1s
 => => transferring context: 483B                                                                                                                                                0.0s
 => [ 1/14] FROM docker.io/library/node:22-bookworm@sha256:cd7bcd2e7a1e6f72052feb023c7f6b722205d3fcab7bbcbd2d1bfdab10b1e935                                                      0.2s
 => => resolve docker.io/library/node:22-bookworm@sha256:cd7bcd2e7a1e6f72052feb023c7f6b722205d3fcab7bbcbd2d1bfdab10b1e935                                                        0.2s
 => [internal] load build context                                                                                                                                                0.7s
 => => transferring context: 226.33kB                                                                                                                                            0.5s
 => CACHED [ 2/14] RUN curl -fsSL https://bun.sh/install | bash                                                                                                                  0.0s
 => CACHED [ 3/14] RUN corepack enable                                                                                                                                           0.0s
 => CACHED [ 4/14] WORKDIR /app                                                                                                                                                  0.0s
 => CACHED [ 5/14] RUN if [ -n "" ]; then       apt-get update &&       DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends  &&       apt-get clean &&     0.0s
 => CACHED [ 6/14] COPY package.json pnpm-lock.yaml pnpm-workspace.yaml .npmrc ./                                                                                                0.0s
 => CACHED [ 7/14] COPY ui/package.json ./ui/package.json                                                                                                                        0.0s
 => CACHED [ 8/14] COPY patches ./patches                                                                                                                                        0.0s
 => CACHED [ 9/14] COPY scripts ./scripts                                                                                                                                        0.0s
 => CACHED [10/14] RUN pnpm install --frozen-lockfile                                                                                                                            0.0s
 => [11/14] COPY . .                                                                                                                                                             2.1s
 => ERROR [12/14] RUN OPENCLAW_A2UI_SKIP_MISSING=1 pnpm build                                                                                                                   35.8s
------                                                                                                                                                                                
 > [12/14] RUN OPENCLAW_A2UI_SKIP_MISSING=1 pnpm build:                                                                                                                               
1.536                                                                                                                                                                                 
1.536 > openclaw@2026.2.1 build /app                                                                                                                                                  
1.536 > pnpm canvas:a2ui:bundle && tsc -p tsconfig.json --noEmit false && node --import tsx scripts/canvas-a2ui-copy.ts && node --import tsx scripts/copy-hook-metadata.ts && node --import tsx scripts/write-build-info.ts                                                                                                                                                 
1.536 
2.097 
2.097 > openclaw@2026.2.1 canvas:a2ui:bundle /app
2.097 > bash scripts/bundle-a2ui.sh
2.097 
2.112 A2UI sources missing; keeping prebuilt bundle.
35.13 src/agents/pi-tool-definition-adapter.ts(32,3): error TS2322: Type '{ name: string; label: string; description: string; parameters: any; execute: (toolCallId: string, params: unknown, onUpdate: AgentToolUpdateCallback<unknown> | undefined, _ctx: AgentToolUpdateCallback<...> | undefined, signal?: AbortSignal | undefined) => Promise<...>; }[]' is not assignable to type 'ToolDefinition<TSchema, unknown>[]'.
35.13   Type '{ name: string; label: string; description: string; parameters: any; execute: (toolCallId: string, params: unknown, onUpdate: AgentToolUpdateCallback<unknown> | undefined, _ctx: AgentToolUpdateCallback<...> | undefined, signal?: AbortSignal | undefined) => Promise<...>; }' is not assignable to type 'ToolDefinition<TSchema, unknown>'.
35.13     Types of property 'execute' are incompatible.
35.13       Type '(toolCallId: string, params: unknown, onUpdate: AgentToolUpdateCallback<unknown> | undefined, _ctx: AgentToolUpdateCallback<unknown> | undefined, signal?: AbortSignal | undefined) => Promise<...>' is not assignable to type '(toolCallId: string, params: unknown, signal: AbortSignal | undefined, onUpdate: AgentToolUpdateCallback<unknown> | undefined, ctx: ExtensionContext) => Promise<...>'.
35.13         Types of parameters 'onUpdate' and 'signal' are incompatible.
35.13           Type 'AbortSignal | undefined' is not assignable to type 'AgentToolUpdateCallback<unknown> | undefined'.
35.13             Type 'AbortSignal' is not assignable to type 'AgentToolUpdateCallback<unknown>'.
35.13               Type 'AbortSignal' provides no match for the signature '(partialResult: AgentToolResult<unknown>): void'.
35.13 src/agents/pi-tool-definition-adapter.ts(40,7): error TS2322: Type '(toolCallId: string, params: unknown, onUpdate: AgentToolUpdateCallback<unknown> | undefined, _ctx: AgentToolUpdateCallback<unknown> | undefined, signal?: AbortSignal | undefined) => Promise<...>' is not assignable to type '(toolCallId: string, params: unknown, signal: AbortSignal | undefined, onUpdate: AgentToolUpdateCallback<unknown> | undefined, ctx: ExtensionContext) => Promise<...>'.
35.13   Types of parameters 'onUpdate' and 'signal' are incompatible.
35.13     Type 'AbortSignal | undefined' is not assignable to type 'AgentToolUpdateCallback<unknown> | undefined'.
35.13       Type 'AbortSignal' is not assignable to type 'AgentToolUpdateCallback<unknown>'.
35.13         Type 'AbortSignal' provides no match for the signature '(partialResult: AgentToolResult<unknown>): void'.
35.13 src/agents/pi-tool-definition-adapter.ts(83,3): error TS2322: Type '{ name: string; label: string; description: string; parameters: any; execute: (toolCallId: string, params: unknown, _onUpdate: AgentToolUpdateCallback<unknown> | undefined, _ctx: AgentToolUpdateCallback<...> | undefined, _signal?: AbortSignal | undefined) => Promise<...>; }[]' is not assignable to type 'ToolDefinition<TSchema, unknown>[]'.
35.13   Type '{ name: string; label: string; description: string; parameters: any; execute: (toolCallId: string, params: unknown, _onUpdate: AgentToolUpdateCallback<unknown> | undefined, _ctx: AgentToolUpdateCallback<...> | undefined, _signal?: AbortSignal | undefined) => Promise<...>; }' is not assignable to type 'ToolDefinition<TSchema, unknown>'.
35.13     Types of property 'execute' are incompatible.
35.13       Type '(toolCallId: string, params: unknown, _onUpdate: AgentToolUpdateCallback<unknown> | undefined, _ctx: AgentToolUpdateCallback<unknown> | undefined, _signal?: AbortSignal | undefined) => Promise<...>' is not assignable to type '(toolCallId: string, params: unknown, signal: AbortSignal | undefined, onUpdate: AgentToolUpdateCallback<unknown> | undefined, ctx: ExtensionContext) => Promise<...>'.
35.13         Types of parameters '_onUpdate' and 'signal' are incompatible.
35.13           Type 'AbortSignal | undefined' is not assignable to type 'AgentToolUpdateCallback<unknown> | undefined'.
35.13             Type 'AbortSignal' is not assignable to type 'AgentToolUpdateCallback<unknown>'.
35.13               Type 'AbortSignal' provides no match for the signature '(partialResult: AgentToolResult<unknown>): void'.
35.13 src/agents/pi-tool-definition-adapter.ts(91,7): error TS2322: Type '(toolCallId: string, params: unknown, _onUpdate: AgentToolUpdateCallback<unknown> | undefined, _ctx: AgentToolUpdateCallback<unknown> | undefined, _signal?: AbortSignal | undefined) => Promise<...>' is not assignable to type '(toolCallId: string, params: unknown, signal: AbortSignal | undefined, onUpdate: AgentToolUpdateCallback<unknown> | undefined, ctx: ExtensionContext) => Promise<...>'.
35.13   Types of parameters '_onUpdate' and 'signal' are incompatible.
35.13     Type 'AbortSignal | undefined' is not assignable to type 'AgentToolUpdateCallback<unknown> | undefined'.
35.13       Type 'AbortSignal' is not assignable to type 'AgentToolUpdateCallback<unknown>'.
35.13         Type 'AbortSignal' provides no match for the signature '(partialResult: AgentToolResult<unknown>): void'.
35.41  ELIFECYCLE  Command failed with exit code 1.
------
Dockerfile:27
--------------------
  25 |     
  26 |     COPY . .
  27 | >>> RUN OPENCLAW_A2UI_SKIP_MISSING=1 pnpm build
  28 |     # Force pnpm for UI build (Bun may fail on ARM/Synology architectures)
  29 |     ENV OPENCLAW_PREFER_PNPM=1
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c OPENCLAW_A2UI_SKIP_MISSING=1 pnpm build" did not complete successfully: exit code: 1
```

<img width="2031" height="2717" alt="Image" src="https://github.com/user-attachments/assets/e561a34c-cf42-484f-a52c-4b27f7756780" />

## Comments


## Links

- None detected yet
