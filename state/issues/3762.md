---
number: 3762
title: "Model resolution fails for openrouter/auto - Unknown model error"
author: claaudelane
created: 2026-01-29T04:52:11Z
updated: 2026-01-30T14:53:07Z
labels: []
assignees: []
comments_count: 1
reactions_total: 5
url: https://github.com/openclaw/openclaw/issues/3762
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

When using `openrouter/auto` as the default model, messages fail with:

```
Error: Unknown model: openrouter/auto
```

## Root Cause

Model ref parsing mismatch between Clawdbot and pi-ai:

1. **pi-ai stores the model** under `modelRegistry["openrouter"]["openrouter/auto"]`
2. **Clawdbot's `parseModelRef()`** splits at first `/` â†’ `provider="openrouter", model="auto"`
3. **Lookup fails**: `getModel("openrouter", "auto")` returns undefined

## Expected Behavior

`openrouter/auto` should work. OpenRouter's API accepts `model: "openrouter/auto"` for their auto-routing.

## Workaround

Use a specific model instead of `openrouter/auto` as default.

## Environment

- Clawdbot: 2026.1.24-3
- Node: v22.22.0

## Suggested Fix

Handle special case where model ID includes provider prefix (like `openrouter/auto`).

## Comments

### @nonwiz (2026-01-30)

Apparently, it you use `openrouter/openrouter/auto` it would work.


## Links

- None detected yet
