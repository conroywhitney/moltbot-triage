---
number: 6894
title: "[Bug] TTS Auto Mode Not Attaching Voice to Telegram Replies"
author: rolloclawdbot-ai
created: 2026-02-02T05:15:26Z
updated: 2026-02-02T05:15:26Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6894
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

TTS configured with `messages.tts.auto: "inbound"` does not automatically attach voice to replies when user sends voice messages via Telegram. Manual TTS generation works perfectly.

## Environment

- **Version:** 2026.1.24-3
- **OS:** macOS (Darwin 25.2.0 arm64)
- **Channel:** Telegram
- **Install method:** npm (global)

## Configuration

```json
{
  "messages": {
    "tts": {
      "auto": "inbound",
      "mode": "all",
      "provider": "elevenlabs",
      "elevenlabs": {
        "voiceId": "onwK4e9ZLuTAKqWW03F9",
        "modelId": "eleven_multilingual_v2",
        "voiceSettings": {
          "stability": 0.7,
          "similarityBoost": 0.8,
          "style": 0.3,
          "useSpeakerBoost": true,
          "speed": 1.15
        }
      }
    }
  },
  "channels": {
    "telegram": {
      "enabled": true,
      "streamMode": "off"
    }
  },
  "tools": {
    "media": {
      "audio": {
        "enabled": true,
        "models": [
          {
            "provider": "deepgram",
            "model": "nova-3",
            "language": "en"
          }
        ]
      }
    }
  }
}
```

## Expected Behavior

When user sends voice message:
1. Deepgram transcribes ✅ (working)
2. Agent processes ✅ (working)
3. Reply includes auto-attached voice ❌ (NOT working)

## Actual Behavior

- User voice → transcription perfect
- Agent reply → text only, no voice
- Manual `tts` tool → works perfectly
- Auto-attachment pipeline → not triggering

## Steps to Reproduce

1. Configure TTS with `auto: "inbound"` + valid ElevenLabs key
2. Configure Deepgram for transcription
3. Send voice message via Telegram
4. Observe: Reply is text-only

## What We Tried

- ✅ Verified API keys (curl tests pass)
- ✅ Manual TTS works
- ✅ Tried `auto: "always"` (same issue)
- ✅ Disabled `streamMode`
- ✅ Created local prefs file
- ✅ Multiple gateway restarts
- ✅ Set `mode: "all"`

## Logs

No TTS errors in logs. No indication auto-TTS pipeline attempts to run.

## Workaround

Manual TTS generation works but defeats auto mode purpose.

## Question

Is there a missing config flag or is this a regression in auto-TTS for Telegram?

## Comments


## Links

- None detected yet
