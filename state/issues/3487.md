---
number: 3487
title: "[Bug]: Webchat Session Messages Routing to WhatsApp"
author: 0x-Professor
created: 2026-01-28T17:30:47Z
updated: 2026-01-28T17:30:47Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3487
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

Agent replies intended for webchat-only sessions are being incorrectly routed to the last active WhatsApp contact, causing private internal messages to leak to external contacts.

## Steps to reproduce

1. Have an active webchat session with the agent

2. Receive a message from WhatsApp contact (e.g., +91234567890)

3. Agent processes the WhatsApp message

4. User sends a message from their own WhatsApp number (+921234567890)

5. Agent replies in the webchat session (NOT using message tool)

Bug: The webchat reply appears on WhatsApp to the user's number

## Expected behavior

- Messages sent in webchat session should ONLY appear in webchat
- WhatsApp messages should only be sent when explicitly using the message tool with WhatsApp target
- Session isolation should prevent cross-channel message leaking

## Actual behavior

- Agent replies in webchat are being routed to WhatsApp
- Messages appear on WhatsApp with sender showing as "Owner's name" (the user's WhatsApp contact name)
- This includes internal commentary, debugging notes, and messages meant only for the user on webchat

## Environment

- Clawdbot Version: 2026.1.24-3
- OS: Windows 10.0.26200 (x64)
- Node: v22.14.0
- Model: github-copilot/claude-sonnet-4.5
- Active Channels: webchat, whatsapp

## Logs or screenshots
can not share because logs contains the personal numbers and if i redacts them then the logs would be of no use.

## Comments


## Links

- None detected yet
