---
number: 2385
title: "feat: per-group historyLimit configuration"
author: anotb
created: 2026-01-26T20:59:26Z
updated: 2026-01-28T06:02:07Z
labels: ["enhancement"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/2385
duplicate_of: null
related_issues: [2316]
blocks: []
blocked_by: []
---

## Description

## Summary
Add support for per-group `historyLimit` configuration, allowing different history context sizes for different groups.

## Use Case
User wants more context (e.g., 200 messages) in a specific high-value group chat, but wants to keep the default (50) for other groups to save tokens/context.

## Current Behavior
`historyLimit` can be set at:
- Global: `messages.groupChat.historyLimit`
- Per-channel: `channels.<channel>.historyLimit`

Per-group config (`channels.<channel>.groups.<groupId>`) only supports `requireMention` and `tools`.

## Proposed Behavior
Allow `historyLimit` in per-group config:

```json5
{
  channels: {
    whatsapp: {
      historyLimit: 50,  // channel default
      groups: {
        "*": { requireMention: true },
        "<specific-group-jid>": { 
          historyLimit: 200,  // override for this group
          requireMention: true 
        }
      }
    }
  }
}
```

## Resolution Order
1. Per-group: `channels.<channel>.groups.<groupId>.historyLimit`
2. Per-channel: `channels.<channel>.historyLimit`
3. Global: `messages.groupChat.historyLimit`
4. Default: 50

## Additional Context
This pairs well with #2316 (per-channel responsePrefix) for granular group chat configuration.

## Comments


## Links

- None detected yet
