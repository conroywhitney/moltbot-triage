---
number: 4409
title: "[Bug]: Telegram block reply fails with empty message text (400 Bad Request)"
author: lennox-saint
created: 2026-01-30T05:51:20Z
updated: 2026-01-30T05:51:20Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4409
duplicate_of: null
related_issues: [323]
blocks: []
blocked_by: []
---

## Description

## Description

Telegram replies occasionally fail with:

```
[telegram] block reply failed: GrammyError: Call to 'sendMessage' failed! (400: Bad Request: message text is empty)
```

## Root Cause

The Telegram Bot API rejects `sendMessage` calls when the `text` parameter is empty, null, or undefined. This happens when:
- LLM returns empty content
- Async race condition where response resolves empty
- Processing pipeline strips/fails to populate response text

## Suggested Fix

Add a null/empty guard before calling `ctx.reply()`:

```javascript
if (response && response.trim()) {
  await ctx.reply(response);
} else {
  console.warn('Empty response, skipping reply');
  // Or send a fallback / silently skip
}
```

## References

- Telegraf Issue #323 (same error): https://github.com/telegraf/telegraf/issues/323
- TelegramBotAPI Errors: https://github.com/TelegramBotAPI/errors
- Grammy Error Handling: https://grammy.dev/guide/errors

## Environment

- Clawdbot: latest (npm)
- Channel: Telegram
- OS: macOS (ARM64)

## Comments


## Links

- None detected yet
