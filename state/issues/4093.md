---
number: 4093
title: "Nostr Plugin - Private DMs and User Identity Support"
author: patrickulrich
created: 2026-01-29T17:26:45Z
updated: 2026-01-29T17:26:45Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4093
duplicate_of: null
related_issues: [3488]
blocks: []
blocked_by: []
---

## Description

Proposing an upgrade to bring the Nostr plugin up to modern protocol standards with private messaging and user identity support.

## Motivation

The current Nostr extension has two gaps that limit its usefulness:

**Privacy**: Moltbot's implementation of [NIP-04](https://github.com/nostr-protocol/nips/blob/master/04.md) DMs are deprecated in favor of [NIP-17](https://github.com/nostr-protocol/nips/blob/master/17.md). This is mainly due to the metadata leakage associated with NIP-04 messages. 

**Identity**: The agent can only operate under its own keypair. Users can't have it interact as *them* on Nostr. [NIP-46](https://github.com/nostr-protocol/nips/blob/master/46.md) remote signing solves this by allowing users to connect their true nostr identity via bunker apps (Amber, nsec.app) without worry of their private key needing to be exposed to outside applications.

**Agent Actions**: Currently the Nostr extension is receive-onlyâ€”users DM the agent and get responses. With user identity connected, the agent can take actions *on* Nostr: post notes, reply to threads, react to content, boost posts, search the network, and publish long-form articles. This transforms Nostr from just a communication channel into a platform the agent can actively participate in on the user's behalf.

## Goals

**DM Protocol**: Subscribe to both NIP-04 (kind:4) and NIP-17 (kind:1059) events. Use 48-hour lookback for NIP-17 due to randomized timestamps. New `dmProtocol` config controls behavior, allowing the user to still use NIP-04 if their chosen client has not upgraded.

**User Identity & Agent Actions**: Users provide a bunker URL [(NIP-46)](https://github.com/nostr-protocol/nips/blob/master/46.md) to connect. Session persistence saves the client key so reconnects maintain identity. Once linked, the agent gains tools for creating notes [(NIP-10)](https://github.com/nostr-protocol/nips/blob/master/10.md), reactions [(NIP-25)](https://github.com/nostr-protocol/nips/blob/master/25.md), reposts [(NIP-18)](https://github.com/nostr-protocol/nips/blob/master/18.md), search [(NIP-50)](https://github.com/nostr-protocol/nips/blob/master/50.md), and long-form articles [(NIP-23)](https://github.com/nostr-protocol/nips/blob/master/23.md). [NIP-65](https://github.com/nostr-protocol/nips/blob/master/65.md) relay discovery fetches the user's preferred relays while [NIP-19](https://github.com/nostr-protocol/nips/blob/master/19.md) allows the agent to understand common event identifiers.

## Prior Work

A PR for this enhancement (without NIP-19 support) was made on #3488 but closed due to its size.

## Comments


## Links

- None detected yet
