---
number: 5526
title: "[Bug]: write tool fails silently with \"missing tool result in session history\" error"
author: teedubyaw
created: 2026-01-31T16:03:20Z
updated: 2026-01-31T17:27:10Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/5526
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

What went wrong?


Version:
2026.1.29 (a5b4d22). macOS Tahoe

Channels affected:
Telegram
Dashboard (webchat)

Symptom:
When calling the write tool to create a new file, the tool returns:
[openclaw] missing tool result in session history; inserted synthetic error result for transcript repair.
The file is not created on disk, but no error is surfaced to the user or agent — it appears as a successful call in the flow.

Reproduction (100% consistent):

Start a brand new session (/new)

Call write with path ~/clawd/council/members/lennon/SOUL.md and content (any multi-KB payload)

Observe: "missing tool result" error in tool response
Verify: ls -lh ~/clawd/council/members/lennon/SOUL.md → file does not exist

Expected behavior:
File should be written to disk
Tool result should contain success confirmation
If error occurs, it should be a real error with actionable message

Actual behavior:
No file written
Synthetic error inserted into transcript
No indication of what failed or why
Telegram gives an error and then no longer responds
Dashboard responses stop and every message is blank.

Impact:
Agent believes write succeeded (no error thrown)
User must manually detect failure and retry
Multi-turn workflows silently break

Workaround:
Generate content as plain text output, user manually pastes into nano or text editor.

Context:
This occurred repeatedly across multiple fresh sessions when attempting to write large structured documents (~8KB markdown files). Smaller writes may also be affected but not tested.

## Comments

### @sfo2001 (2026-01-31)

## Reproduction attempt

**Environment:**
- Version: 2026.1.30 (9c29853) on Linux
- Test config: Ollama provider with cogito-64k model
- Tested via: CLI `openclaw agent` command (both `--local` and gateway modes)

**Result:** Could not reproduce. The write tool succeeded in both local and gateway modes:
- File created successfully at target path
- Tool result returned proper success message
- No "missing tool result" errors observed

**Observations:**
1. The original issue was on version 2026.1.29 (a5b4d22), tested on 2026.1.30
2. Original issue specified Telegram and Dashboard (webchat) channels
3. Recent commits on main address Telegram streaming:
   - `fix: restore telegram draft streaming partials`
   - `fix: stabilize partial streaming filters`
   - `fix: harden telegram streaming state`

**Suggestion:** Please test with the latest main branch to see if the issue persists. The Telegram streaming fixes may have resolved this.



## Links

- None detected yet
