---
number: 4547
title: "[Bug]: [Nostr Plugin] handleInboundMessage is not a function"
author: shanelau
created: 2026-01-30T09:27:30Z
updated: 2026-01-30T10:14:50Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4547
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

Nostr plugin receives DMs successfully but fails to process them. The API `runtime.channel.reply.handleInboundMessage` called in `channel.ts` does not exist.

## Steps to reproduce

1. Configure Nostr plugin with valid private key and relays
2. Start OpenClaw Gateway
3. Send a NIP-04 encrypted DM to the bot's pubkey from another Nostr client

## Expected behavior

Bot should receive the DM and trigger the agent to respond.

## Actual behavior

DM is received from relay, but processing fails with `error:runtime.channel.reply.handleInboundMessage` is not a function

Nostr channel shows `running: false` in control panel.

## Environment

- OpenClaw version: 2026.1.29
- Nostr plugin version: 2026.1.29
- OS: Alibaba Cloud Linux 3 (x64)
- Node.js: v22.22.0
- Install method: pnpm (from local path)

## Logs
```
17:14:38 debug gateway/channels/nostr [default] DM from 17b76993cdfc462c404286d2e79c795475dc27fdf33d63b10a6208f3af09d90a: test...
17:14:38 error gateway/channels/nostr [default] Nostr error (event 2af971190b10608ba5e7350892125d96d9a8692f23c3f403b8f1ab29a37f7e1d): runtime.channel.reply.handleInboundMessage is not a function
```

The error originates from `extensions/nostr/src/channel.ts` line 227.

## Comments

### @Glucksberg (2026-01-30)

ðŸ”— **Related:** PR #4562 may address this â€” it refactors Nostr to use `dispatchReplyFromConfig` for inbound message handling.


## Links

- None detected yet
