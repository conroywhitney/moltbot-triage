---
number: 2540
title: "Feature: Programmatic session reset + per-agent session config"
author: a99xdev
created: 2026-01-27T03:10:49Z
updated: 2026-01-28T06:00:27Z
labels: ["enhancement"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/2540
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Context

When running agents with external memory systems (e.g., a cognitive bridge that handles continuity), Clawdbot's session accumulation becomes redundant overhead. The agent's memory lives elsewhere, but Clawdbot still grows the session transcript, eventually hitting context limits or triggering compaction that duplicates what the external system already preserves.

## Feature Requests

### 1. `sessions_reset` tool action

Add a programmatic way to reset a session without going through the channel layer.

**Current behavior:** `/reset` is processed at the channel layer, so `sessions_send('/reset', sessionKey)` treats it as a regular message rather than a command.

**Requested:** A `sessions_reset` tool (or action on existing session tools) that:
- Clears the session transcript
- Resets token counters
- Preserves the session key and routing config
- Can target any session by `sessionKey`

### 2. Per-agent session config

Allow agents to configure session behavior individually:

```json5
{
  agents: {
    list: [{
      id: "my-agent",
      session: {
        compactAt: 0,        // disable compaction (or set threshold)
        maxTokens: 50000,    // auto-reset when exceeded
        // or: disabled: true  // no session history at all
      }
    }]
  }
}
```

This would let agents with external memory systems stay thin automatically, without manual intervention.

## Use Case

An agent with an external memory system (cognitive bridge providing continuity) had its Clawdbot session grow to 1.4MB / 100K tokens. The bridge already preserves everything that matters, so this accumulation is pure overhead. The agent wanted to self-manage resets but discovered there's no API path to do so.

## Workaround

Currently: manual `/reset` via the channel, or gateway restart with file deletion. Neither is suitable for automation.

## Comments


## Links

- None detected yet
