---
number: 4832
title: "[Bug]: openclaw node install fails because it tries to enable openclaw-gateway.service (Hardcoded Service Name)"
author: machineshake
created: 2026-01-30T18:41:14Z
updated: 2026-01-30T18:41:14Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4832
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

# `openclaw node install` fails because it tries to enable `openclaw-gateway.service` (Hardcoded Service Name)

## Summary
The command `openclaw node install` fails on Linux because it attempts to enable the wrong systemd service unit. Instead of enabling the node-specific service (`openclaw-node.service`), the installer logic incorrectly targets the gateway service (`openclaw-gateway.service`), causing a "Unit file does not exist" error if the gateway service is not present or enabled on that machine.

This appears to be caused by a shared `installSystemdService` function in `src/daemon/systemd.ts` that hardcodes the service name resolution to the Gateway profile, ignoring the context of a Node installation.

## Steps to reproduce
1. On a Linux machine (e.g., Zorin OS, Ubuntu) where the OpenClaw Gateway service is **not** installed (or simply to test the node install logic), install the OpenClaw CLI.
2. Run `openclaw node install` (optionally with flags like `--host` or `--token`).
3. Observe the command output during the service registration phase.

## Expected behavior
The command should generate, enable, and start a systemd user unit named `openclaw-node.service` (or `openclaw-node-<profile>.service`), allowing the node agent to run in the background.

## Actual behavior
The command successfully generates the correct unit file on disk (`~/.config/systemd/user/openclaw-node.service`), but immediately crashes during the `systemctl enable` step with the error:

`Error: systemctl enable failed: Failed to enable unit: Unit file openclaw-gateway.service does not exist.`

## Environment
- **OpenClaw version:** 2026.1.29 (a5b4d22)
- **OS:** Linux (Zorin OS / Ubuntu based)
- **Install method:** npm global (`npm install -g openclaw@latest` / install script)

## Logs
```text
$ openclaw node install
...
Node install failed: Error: systemctl enable failed: Failed to enable unit: Unit file openclaw-gateway.service does not exist.
Technical Context (Code Analysis): The issue is located in src/daemon/systemd.ts. The installSystemdService function unconditionally calls:

TypeScript
const serviceName = resolveGatewaySystemdServiceName(env.OPENCLAW_PROFILE);
It should instead accept the service name as an argument or dynamically resolve it based on the service type (Node vs. Gateway) passed from src/cli/node-cli/daemon.ts.

## Comments


## Links

- None detected yet
