---
number: 4038
title: "[Bug]: Telegram Proxy Configuration Not Working"
author: skylight-9
created: 2026-01-29T15:29:03Z
updated: 2026-01-29T15:29:03Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/4038
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

# Telegram Proxy Configuration Not Working

## Environment
- MOLTBOT Version: 2026.1.27-beta.1
- Node Version: v25.5.0
- OS: macOS (Darwin 24.6.0)
- Location: China (Telegram API blocked, requires proxy)

## Configuration
```json
{
  "channels": {
    "telegram": {
      "enabled": true,
      "proxy": "http://127.0.0.1:7890",
      "botToken": "..."
    }
  }
}
```

Also tried:
- `"proxy": "socks5://127.0.0.1:7890"`
- Environment variables: HTTP_PROXY, HTTPS_PROXY, ALL_PROXY
- launchd EnvironmentVariables configuration

## Problem
All Telegram API calls fail with:
```
TypeError: fetch failed
[telegram] setMyCommands failed: Network request for 'setMyCommands' failed!
```

## Verification
- Proxy works with curl: ✅
  ```bash
  curl -x http://127.0.0.1:7890 https://api.telegram.org/bot.../getMe
  # Returns: {"ok":true,"result":{"id":...}}
  ```
- Direct Node fetch (with env vars): ❌ Still fails
- Proxy port responds: ✅ (Clash Mixed port 7890)

## Expected Behavior
Telegram API calls should be routed through the configured proxy.

## Additional Notes
v2026.1.24 changelog mentions "Telegram: honor per-account proxy for outbound API calls" but proxy does not seem to work in v2026.1.27-beta.1.

## Comments


## Links

- None detected yet
