---
number: 3592
title: "TUI restart doesn't invalidate old session - stale responses delivered to new session"
author: EenvoudJasper
created: 2026-01-28T21:54:36Z
updated: 2026-01-28T21:54:36Z
labels: []
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/3592
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

When restarting the TUI (close + reopen), the gateway continues processing messages from the old session. Responses from the old session get interleaved with the new session, causing confusion and apparent "freezes" where the agent responds to old questions.

 Steps to Reproduce

 1. Start TUI, have a conversation
 2. Close TUI (Ctrl+C or close terminal)
 3. Restart TUI, start new conversation
 4. Old session responses appear interleaved with new conversation

 Expected Behavior

 When TUI creates a new session, pending runs from the old session should be aborted/invalidated. Responses should not cross session boundaries.

 Actual Behavior

 Two webchat sessions run concurrently. Old session continues processing, responses get delivered to wrong context.

 Log Evidence

 Around 21:48 UTC, two sessions were interleaved:

 ```
   21:47:08 - session b069fef6 (old TUI) - processing
   21:48:03 - session 9f2f6e43 (NEW session started)
   21:48:21 - session b069fef6 (old still running!)
   21:48:42 - session b069fef6 (old still running!)
   21:49:02 - session b069fef6 (old still running!)
   21:49:23 - session 9f2f6e43 (new session)
 ```

 Also observed:
 - lane wait exceeded warnings with 17+ second waits
 - messagesHandled=0 on web-heartbeat after reconnect
 - User saw (no output) from old exec calls appearing in new conversation

 Environment

 - Clawdbot version: 2026.1.24-3
 - Node: v24.13.0
 - OS: Linux (WSL2)
 - Channel: webchat (TUI)

## Comments


## Links

- None detected yet
