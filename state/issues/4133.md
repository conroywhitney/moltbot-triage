---
number: 4133
title: "Sub-agent spawn silently orphaned when agent.wait times out"
author: renvar
created: 2026-01-29T18:53:16Z
updated: 2026-01-29T18:53:16Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4133
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

When a sub-agent spawn is accepted but the child process never completes (or never starts), `waitForSubagentCompletion()` in `subagent-registry.js` silently abandons 
 the run. The parent session is never notified.**Root cause:** When `agent.wait` returns `status: "timeout"`, the function silently returns (`if (wait?.status !== "ok"  
 && wait?.status !== "error") return;`). No retry, no error, no announcement.**Impact:** Parent shows `status: accepted` forever, no transcript, no error. We lost 3.5   
 hours before noticing.**Suggested fix:** Retry `agent.wait` up to 3 times on timeout, then mark the run as failed and announce the failure back to the parent via       
 `runSubagentAnnounceFlow()`. We've applied this as a local patch â€” happy to PR if there's a contribution workflow.

## Comments


## Links

- None detected yet
