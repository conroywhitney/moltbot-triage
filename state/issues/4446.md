---
number: 4446
title: "[Bug]: Slash commands (/new, /reset, etc) not working in web UI"
author: jjboi8708
created: 2026-01-30T07:03:04Z
updated: 2026-02-01T14:42:01Z
labels: ["bug"]
assignees: []
comments_count: 3
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/4446
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
Openclaw is not creating new sessions when using the Web UI chat commands like "/new" but it works on other channels like whatsapp.

## Steps to reproduce
1. Go to web UI chat
2. Click "New session" or type "/new"
3. Press enter

## Expected behavior
Before it used to clear the chat and create a new session, but now it is not.

## Actual behavior
The chat did not clear the chat indicating that a new session was made. This works when using a different channel like Whatsapp but for some reason it is not working in the web UI.

## Environment
- Clawdbot version: 2026.1.29
- OS: MacOS Tahoe Version 26.2
- Install method (pnpm/npx/docker/etc): "curl -fsSL https://openclaw.bot/install.sh | bash"

Does anyone know why this is happening? And how can I fix it?

## Comments

### @jjboi8708 (2026-01-31)

How can I use this commit without uninstalling my openclaw?

### @MarceloVasquez (2026-02-01)

## Additional Technical Context

I can confirm this bug on **v2026.1.30** (macOS, installed via npm).

### Investigation Findings

I did a deep dive into the source code and logs. Here's what I found:

**1. Messages never reach the server**
- When sending `/status` from webchat → **nothing in server logs**
- When sending `/status` from WhatsApp → appears in logs and works correctly
- Sending `/statusx` or `/helpx` from webchat **does work** (arrives at server)

**2. Frontend interception analysis**
- Reviewed `ui/src/ui/app-chat.ts` — only `/stop`, `/new`, `/reset` are intentionally intercepted client-side
- `/status` and `/help` are NOT in the interception list
- The compiled JS (`index-CXUONUC9.js`) confirms only these commands are handled locally:
  ```javascript
  n==="/new"||n==="/reset"?!0:n.startsWith("/new ")||n.startsWith("/reset ")
  n==="/stop"||n==="stop"||n==="esc"||n==="abort"
  ```

**3. WebSocket connection issues**
- In my testing, the webchat connection appeared to "freeze" — messages were not being sent at all
- After sending a message via WhatsApp, the webchat connection "unblocked" and started working again
- This suggests a WebSocket state management issue beyond just slash commands

**4. Backend is correctly configured**
- `CommandAuthorized: true` is set for webchat in `server-methods/chat.ts`
- `commands.text` is not disabled in config
- `shouldHandleTextCommands()` returns `true` for webchat surface

### Environment
- OpenClaw: 2026.1.30
- OS: macOS Tahoe (Darwin 25.2.0 arm64)
- Node: v25.4.0
- Install: npm global

### Workaround
Adding a colon after the command (`/status:`) or prefixing with text (`hi /status`) seems to bypass whatever is intercepting exact matches but it is treated a regular text, not a command.

### @MarceloVasquez (2026-02-01)

## Update: Messages DO reach the backend

After more debugging with WebSocket monitoring, I can correct my earlier comment:

### Corrected Findings

**1. Messages ARE sent to the backend**
- Using `WebSocket.prototype.send` interception, confirmed `/status` IS sent via WebSocket
- Server logs show `chat.send ✓ 53ms` — the request completes successfully
- The issue is **not** that messages don't reach the server

**2. The command is silently ignored**
- The backend receives the command but returns no response
- Looking at `commands-status.ts`, there's a check:
  ```typescript
  if (!command.isAuthorizedSender) {
    logVerbose(`Ignoring /status from unauthorized sender...`);
    return undefined;  // Silent ignore!
  }
  ```
- The frontend then does a rollback because no response arrives

**3. Suspected root cause: Session/Channel configuration**
- This started happening after configuring `dmScope: "per-channel-peer"` for multi-channel support
- The webchat may not be recognized as an "authorized sender" for slash commands
- When sending from webchat to a session originally created by another channel (WhatsApp/Telegram), the sender identity doesn't match the channel's `allowFrom` list
- Even in "pure" webchat sessions, the authorization seems to fail

### Key observation
`CommandAuthorized: true` is hardcoded in `chat.ts` for webchat, but `isAuthorizedSender` is computed separately in `command-auth.ts` combining `commandAuthorized && isOwner`. The `isOwner` check may be failing for webchat because there's no explicit `allowFrom` configuration for the webchat channel.

### Workaround
Using the `session_status` tool via the AI works fine (the agent executes it, not the user).

### Environment
- OpenClaw: 2026.1.30
- Config: `session.dmScope: "per-channel-peer"`
- Multiple channels: WhatsApp, Telegram, Teams, Webchat


## Links

- None detected yet
