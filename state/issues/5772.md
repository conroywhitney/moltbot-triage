---
number: 5772
title: "[WebChat] System injection prompts visible in chat transcript after v2026.1.29"
author: skellam
created: 2026-01-31T23:38:28Z
updated: 2026-02-02T00:17:49Z
labels: ["bug"]
assignees: []
comments_count: 2
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/5772
duplicate_of: null
related_issues: [1977]
blocks: []
blocked_by: []
---

## Description

Describe the bug:
System-injected instruction prompts (e.g., session reset greeting instructions) are now visible to users in the WebChat UI. These should be filtered from the visible transcript.

To Reproduce:
Open WebChat (macOS app)
Run /new or /reset
Observe the chat transcript
Expected: Only the assistant's greeting appears.
Actual: The full system injection prompt is displayed as a visible message.
Environment: macOS, v2026.1.29, Node v22.22.0, WebChat native app
Suspected cause: PR #1977 ("keep sub-agent announce replies visible") may have removed filtering for system-role messages.

## Comments

### @sidmohan0 (2026-02-01)

I can give this a shot. 
The issue is in ui/src/ui/views/chat.ts  buildChatItems() iterates session history, but only filters toolresult messages, not system role messages. System-injected prompts (greeting instructions, reset prompts) pass straight through to rendering. 
Fix would be to add a one-line filter within the history loop. Will submit a PR 

### @sidmohan0 (2026-02-01)

PR up: #5847 


## Links

- None detected yet
