---
number: 2178
title: "[Feature]: improve Docker setup"
author: Niek
created: 2026-01-26T10:41:36Z
updated: 2026-01-29T13:26:28Z
labels: ["enhancement"]
assignees: []
comments_count: 6
reactions_total: 4
url: https://github.com/moltbot/moltbot/issues/2178
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
Right now the Docker setup requires building the image before deploying. This can be made a lot easier.

## Proposed solution
Use `image: ghcr.io/clawdbot/clawdbot:main` in the compose file, use a single service, do not require a git checkout. Ideally, add some tagging like `clawdbot:2026`, `clawdbot:latest`.

## Comments

### @TASMAYU (2026-01-26)

I can work on updating docker-compose to use GHCR image and simplify setup. Let me know if that works?

### @Niek (2026-01-26)

Yes, I think ideally the setup can be simplified to something like this:
```
printf "%s\n" SECRET1=asd SECRET2=qwe SECRET3=zxc > .env
curl -sSL https://raw.githubusercontent.com/clawdbot/clawdbot/main/docker-compose.yml | docker compose -f - up
```
That would make it super fast to bring up a new instance.

### @TASMAYU (2026-01-26)

Yep, my PR #2229 enables this exact setup you described by using the public GHCR image

### @nerdpudding (2026-01-27)

Just tried setting up Clawdbot with Docker and ran into multiple issues:

1. `.dockerignore` excludes `apps/` and `vendor/` needed for a2ui bundle (#2591)
2. `Dockerfile` doesn't copy `extensions/` before `pnpm install`, breaking workspace resolution
3. `pnpm-lock.yaml` is outdated (memory-core specifier mismatch), causing `--frozen-lockfile` to fail
4. Main package is named `moltbot` but extensions reference `clawdbot@workspace:*`

My workaround:
- Created `Dockerfile.local` that copies extensions before install
- Created `docker-build-local.sh` that temporarily fixes `.dockerignore` during build
- Fixed memory-core version: `sed -i 's/>=2026.1.26/>=2026.1.24-3/' extensions/memory-core/package.json`
- Ran `pnpm install --frozen-lockfile` via Docker container to set up `node_modules`

**Update (2026-01-27):** The rename also requires:
- Config file renamed to `moltbot.json`
- Docker compose service names are now `moltbot-*`

One concern: `moltbot.json` contains both settings and secrets (tokens). This makes it hard to backup or version control your config without exposing secrets. Hope this gets addressed when Docker support improves.

Waiting for #2229 to land.

### @momomobinx (2026-01-29)

插眼

### @TASMAYU (2026-01-29)

@nerdpudding 
Thanks for the detailed breakdown. 
Yes, this is exactly what #2229 aims to address by using the public GHCR image so users don’t need to build locally. The other issues likely need follow-up fixes, but this should at least unblock a much simpler Docker flow.


## Links

- None detected yet
