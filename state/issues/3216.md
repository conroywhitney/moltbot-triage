---
number: 3216
title: "[Feature]: I want to add openrouter and gemini cli auth in it and it will be available for all features which is available with claude code and codex"
author: Xenonesis
created: 2026-01-28T08:16:25Z
updated: 2026-01-28T08:19:42Z
labels: ["enhancement"]
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3216
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

Summary
Currently, OpenRouter is used in model scanning but lacks a dedicated provider extension with auth setup, making it less user-friendly for configuration. Additionally, the existing Google Gemini CLI auth extension performs its own OAuth flow but doesn't read existing credentials from the Gemini CLI's credential store, unlike how Codex and Claude Code CLIs are handled (where Moltbot reads their stored auth to avoid redundant logins).

Proposed solution
Create a new [extensions/openrouter/](vscode-file://vscode-app/usr/share/code/resources/app/out/vs/code/electron-browser/workbench/workbench.html) plugin that registers an OpenRouter provider with API key auth, allowing users to input their OpenRouter API key via the CLI and configure models dynamically.
Enhance Gemini CLI auth by adding readGeminiCliCredentials to [cli-credentials.ts](vscode-file://vscode-app/usr/share/code/resources/app/out/vs/code/electron-browser/workbench/workbench.html) (reading from [~/.config/gemini/auth.json](vscode-file://vscode-app/usr/share/code/resources/app/out/vs/code/electron-browser/workbench/workbench.html) or similar), and update [external-cli-sync.ts](vscode-file://vscode-app/usr/share/code/resources/app/out/vs/code/electron-browser/workbench/workbench.html) to sync these credentials into Moltbot's auth profiles, similar to existing Qwen CLI sync.
Update constants in [constants.ts](vscode-file://vscode-app/usr/share/code/resources/app/out/vs/code/electron-browser/workbench/workbench.html) for the new Gemini CLI profile ID.
Alternatives considered
For OpenRouter: Manually configure via config files or env vars without an extension, but this reduces discoverability and ease of setup.
For Gemini: Stick with OAuth-only auth in the extension, but this doesn't leverage existing CLI logins and creates inconsistency with other CLI integrations.
For credential paths: Could use environment variables or keychain (like Codex), but assuming file-based storage matches common CLI patterns; can adjust based on actual Gemini CLI implementation.

## Comments

### @Xenonesis (2026-01-28)

please assign this to me


## Links

- None detected yet
