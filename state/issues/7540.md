---
number: 7540
title: "Feature: Subscribe to WhatsApp call events (Baileys)"
author: andybergon
created: 2026-02-02T23:32:02Z
updated: 2026-02-02T23:32:02Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7540
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

Add support for detecting WhatsApp voice/video calls via Baileys' `call` event. Currently OpenClaw only subscribes to `messages.upsert`, missing call activity entirely.

## Use Case

Track whether a user contacted a specific person today — calls should count as contact, not just messages. Example: "Remind me to call mom if I haven't contacted her today" should detect both messages AND calls.

## Current Behavior

OpenClaw subscribes to these Baileys events only:
- `creds.update` (credential persistence)
- `connection.update` (connection state)
- `messages.upsert` (inbound messages)

Call events are ignored.

## Relevant Code Locations

**Event subscriptions:**
- `dist/web/session.js:77` — `makeWASocket()` creates the Baileys socket
- `dist/web/session.js:89-90` — subscribes to `creds.update` and `connection.update`
- `dist/web/inbound/monitor.js:294` — subscribes to `messages.upsert`

**Access control (for reference):**
- `dist/web/inbound/access-control.js:79` — filters `fromMe` messages for DMs

## Proposed Solution

1. Subscribe to Baileys `call` event in `monitor.js` or `session.js`:
   ```javascript
   sock.ev.on("call", (calls) => {
     for (const call of calls) {
       // call.from, call.status, call.isVideo, call.isGroup, etc.
     }
   });
   ```

2. Expose call events to agents via:
   - New session metadata (e.g., `lastCallWith`, `callsToday`)
   - Or a tool action like `message(action="calls", channel="whatsapp", target="+1234567890")`

3. Consider config option `channels.whatsapp.trackCalls: true` (default off for backward compat)

## Baileys Call Event Reference

```typescript
// From @whiskeysockets/baileys
interface WACallEvent {
  from: string;           // caller JID
  id: string;             // call ID
  status: 'offer' | 'ringing' | 'timeout' | 'reject' | 'accept' | ...
  isVideo: boolean;
  isGroup: boolean;
  // ...
}
```

## Additional Context

- Baileys docs: https://github.com/WhiskeySockets/Baileys
- This would complement the existing voice-call plugin (Telnyx) which handles VoIP, not WhatsApp calls

## Comments


## Links

- None detected yet
