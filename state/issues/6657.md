---
number: 6657
title: "Voice Call: STT defaults to wrong language, no config option"
author: ario
created: 2026-02-01T22:49:21Z
updated: 2026-02-02T00:16:12Z
labels: ["bug"]
assignees: []
comments_count: 3
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6657
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Problem

When using the voice-call plugin with OpenAI Realtime STT, speech is frequently misdetected as Arabic (or other languages) instead of English. This happens because the STT session config doesn't specify a language.

## Root Cause

In `stt-openai-realtime.ts` (around line 127-142), the session configuration for OpenAI Realtime API doesn't include a `language` field:

```typescript
session: {
  input_audio_format: "g711_ulaw",
  input_audio_transcription: {
    model: this.model,
    // NO language field - causes auto-detection issues
  },
}
```

## Suggested Fix

1. Add `language: "en"` (or configurable) to the transcription session config
2. Expose this via `streaming.language` in VoiceCallConfig:

```json
{
  "streaming": {
    "enabled": true,
    "language": "en"
  }
}
```

## Environment

- OpenClaw version: 2026.1.24-3
- STT: OpenAI Realtime API
- Platform: macOS (arm64)

## Related

Also experiencing choppy audio output - likely related to the 20ms setTimeout chunking in twilio.ts (imprecise timing causes audio underruns). Happy to file separately if preferred.

## Comments

### @sibblegp (2026-02-01)

I've built twillo integration with the OpenAI realtime before. Never had to do any manual timeouts.

### @ario (2026-02-01)

Thanks @sibblegp! Curious how you handled the audio timing for Twilio's media streams. The current implementation uses `setTimeout` with 20ms delays for chunking Î¼-law audio, which seems to cause timing drift and choppy playback.

Did you use a different approach for pacing the audio frames back to Twilio? (e.g., streams with backpressure, Web Audio API scheduling, or just letting Twilio handle buffering?)

### @sibblegp (2026-02-01)

My implementation was in Python and is open source. You can take a look at it here:

https://github.com/sibblegp/ODAI/blob/main/routers/twilio_old.py


## Links

- None detected yet
