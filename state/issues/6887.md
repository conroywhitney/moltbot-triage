---
number: 6887
title: "【BUG】Discord: Channel @mention responses not being sent despite run_completed"
author: Funcin
created: 2026-02-02T04:57:06Z
updated: 2026-02-02T07:46:57Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6887
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

### Description

When using the Discord channel integration, the bot receives @mention messages in a guild channel and the LLM processes them successfully (`run_completed` in logs), but **no response is ever sent to the channel**.

DMs work correctly - the issue is only with guild channel responses.

### Steps to Reproduce

1. Configure Discord bot token in Clawdbot
2. Add bot to a Discord server
3. @mention the bot in a channel (e.g., "@HiBot hello")
4. Bot shows "typing" indicator
5. LLM processes request (visible in logs as `run_completed`)
6. **No message is ever sent to the channel**

### Expected Behavior

Bot should reply to the @mention in the same channel.

### Actual Behavior

- Logs show `run_completed` with duration ~2-3 seconds
- No message send logs appear
- No response in Discord channel
- Sometimes bot incorrectly tries to use `sessions_send` tool

### Environment

- **Clawdbot version:** 2026.1.24-3
- **OS:** macOS
- **Node.js:** 24.2.0
- **Model:** openai/gpt-4o-mini
- **Discord Bot:** Custom bot with intents enabled

### Logs

```
2026-02-02T04:53:01.083Z debug embedded run start: runId=22719856 provider=openai model=gpt-4o-mini messageChannel=discord
2026-02-02T04:53:03.601Z debug embedded run agent end: runId=22719856
2026-02-02T04:53:03.611Z debug embedded run prompt end: runId=22719856 durationMs=2484
2026-02-02T04:53:03.618Z debug session state: prev=processing new=idle reason="run_completed"
# Note: NO message send logs appear after this
```

### What Works

- ✅ Direct API message send via curl
- ✅ CLI message send (`clawdbot message send --channel discord --target <channel_id>`)
- ✅ DM responses work correctly
- ✅ Bot has Read/Send Messages permissions

### Discord Config

```json
{
  "enabled": true,
  "groupPolicy": "open",
  "guilds": { "*": { "requireMention": false } },
  "accounts": { "default": { "enabled": true, "groupPolicy": "open" } }
}
```

### Additional Context

- Tried with fresh sessions (deleted sessions.json)
- Tried updating Clawdbot to latest version
- Modified IDENTITY.md and AGENTS.md with explicit reply instructions
- Issue persists across multiple gateway restarts

## Comments


## Links

- None detected yet
