---
number: 7655
title: "[Bug]: Control UI dashboard token auth broken in 2026.1.24-3 - token stripped on redirect"
author: sockcymbal
created: 2026-02-03T02:56:17Z
updated: 2026-02-03T02:56:17Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7655
duplicate_of: null
related_issues: [1795]
blocks: []
blocked_by: []
---

## Description

## Summary

Control UI dashboard token authentication broken after update to 2026.1.24-3. Token is stripped during redirect, causing persistent "unauthorized: gateway token missing" error.

## Steps to reproduce

1. Update to 2026.1.24-3 (`npm install -g clawdbot@2026.1.24-3`)
2. Set gateway auth token: `clawdbot config set gateway.auth.token "$(openssl rand -hex 16)"`
3. Restart gateway: `clawdbot gateway restart`
4. Open tokenized dashboard URL: `http://127.0.0.1:18789/?token=<your-token>`
5. Observe automatic redirect to `/chat?session=agent%3Amain%3Amain`

## Expected behavior

Token should persist through redirect and authenticate the dashboard session.

## Actual behavior

Token is stripped during redirect. Dashboard shows:
- "disconnected (1008): unauthorized: gateway token missing"
- "Disconnected from gateway"

Manually appending token to redirected URL (`/chat?session=...&token=...`) also fails.

## Environment

- Clawdbot version: 2026.1.24-3
- OS: macOS 26.2 (arm64)
- Install method: npm (global)

## Logs or screenshots

Error displayed in Control UI:
```
disconnected (1008): unauthorized: gateway token missing
(open a tokenized dashboard URL or paste token in Control UI settings)
```

Workaround: Rolling back to 2026.1.24-2 resolves the issue.

Possibly related to #1795 (gateway security hardening for reverse proxy handling).
```

## Comments


## Links

- None detected yet
