---
number: 3781
title: "[Bug]: OpenAI HTTP API: Image handling fails with media_type field required"
author: yakoob
created: 2026-01-29T05:32:20Z
updated: 2026-01-29T05:32:20Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3781
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

/v1/chat/completions doesn't convert OpenAI vision format to Anthropic format.

Error: "messages.0.content.1.image.source.base64.media_type: Field required"

The endpoint needs to extract media_type from the data URI 
(data:image/png;base64,...) and convert to Anthropic's expected format.

The limits are already generous:

Global: 600M
/v1/ location: 50M
1.1MB is well under that. Size isn't the problem.

The issue is format conversion â€” the Clawdbot endpoint receives the image fine but doesn't properly convert OpenAI's image_url format to Anthropic's format (which requires explicit media_type).

So the bug report stands as-is. It's a code fix needed in Clawdbot, not a config change. ðŸ˜’

## Comments


## Links

- None detected yet
