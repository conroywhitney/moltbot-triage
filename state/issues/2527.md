---
number: 2527
title: "[Bug]: tools.web.fetch.firecrawl config blocked by schema despite code support"
author: jrknox1977
created: 2026-01-27T02:58:52Z
updated: 2026-01-28T06:00:33Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/2527
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

The `tools.web.fetch.firecrawl` config keys are documented in `uiHints` and supported by the code in `web-fetch.js`, but the JSON schema for `tools.web.fetch` has `additionalProperties: false`, which blocks the firecrawl nested object from being set.

## Expected Behavior

Should be able to configure Firecrawl via config:

```json
{
  "tools": {
    "web": {
      "fetch": {
        "firecrawl": {
          "enabled": true,
          "baseUrl": "http://my-self-hosted-firecrawl:3002",
          "onlyMainContent": true,
          "maxAgeMs": 172800000
        }
      }
    }
  }
}
```

## Actual Behavior

```
Config validation failed: tools.web.fetch: Unrecognized key: "firecrawl"
```

## Evidence

**Code expects firecrawl config** (`dist/agents/tools/web-fetch.js`):
```js
function resolveFirecrawlConfig(fetch) {
    if (!fetch || typeof fetch !== "object")
        return undefined;
    const firecrawl = "firecrawl" in fetch ? fetch.firecrawl : undefined;
    if (!firecrawl || typeof firecrawl !== "object")
        return undefined;
    return firecrawl;
}
```

**uiHints document firecrawl keys** (`dist/config/schema.js`):
```
"tools.web.fetch.firecrawl.enabled": "Enable Firecrawl fallback for web_fetch (if configured)."
"tools.web.fetch.firecrawl.apiKey": "Firecrawl API key (fallback: FIRECRAWL_API_KEY env var)."
"tools.web.fetch.firecrawl.baseUrl": "Firecrawl base URL (e.g. https://api.firecrawl.dev or custom endpoint)."
```

**But schema blocks it**:
```js
// tools.web.fetch schema
{
  "properties": { "enabled", "maxChars", "timeoutSeconds", "cacheTtlMinutes", "maxRedirects", "userAgent" },
  "additionalProperties": false  // ‚Üê blocks firecrawl
}
```

## Impact

- Cannot configure self-hosted Firecrawl instances via config (no `baseUrl`)
- `FIRECRAWL_API_KEY` env var works, but `baseUrl` has no env var fallback
- Users with self-hosted Firecrawl have no way to set the endpoint

## Version

```
clawdbot --version
2026.1.24-3
```

## Suggested Fix

Add the firecrawl schema to `tools.web.fetch.properties` to match the existing code and uiHints.

## Comments


## Links

- None detected yet
