---
number: 7690
title: "Sub-agent announces can bypass queued user messages"
author: 1alyx
created: 2026-02-03T03:50:23Z
updated: 2026-02-03T03:50:23Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7690
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Problem
When user messages are queued while the agent is busy, sub-agent completion announces can be processed before earlier user messages. In some cases, queued user messages are never drained until another event occurs.

## Steps to reproduce
1. Trigger a long-running tool call so user messages queue.
2. Complete a sub-agent run while user messages are still queued.
3. Observe the order in which messages are processed.

## Expected behavior
Queued user messages should be processed before later sub-agent announcements, and queued messages should always drain even on error paths.

## Actual behavior
Sub-agent announcements can bypass the queue and be processed first, and some queued user messages get stuck.

## Comments


## Links

- None detected yet
