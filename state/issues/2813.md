---
number: 2813
title: "Cron job scheduled but never fired during event loop silence"
author: adamgoldyne
created: 2026-01-27T15:07:49Z
updated: 2026-01-28T05:58:37Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/2813
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

# Cron job scheduled but never fired during event loop silence

## Bug Description

A cron job was correctly scheduled (confirmed in logs) but never executed. The gateway was running but had zero log activity for 27 minutes during the window when the job should have fired.

## Environment
- **Clawdbot version:** 2026.1.24-3
- **Node.js:** v25.4.0
- **OS:** macOS Darwin 25.2.0 (arm64)
- **caffeinate:** Running (system did not fully sleep)

## Timeline (all times PST, Jan 27, 2026)

| Time | Event |
|------|-------|
| 6:05 AM | Gateway restart, cron started with `nextWakeAtMs: 1769524200000` (= 6:30 AM) |
| 6:22 AM | Last log entry: session completed normally, `totalActive=0`, `queued=0` |
| **6:30 AM** | **Cron should have fired ‚Äî NO LOG ENTRY** |
| 6:32 AM | Display turned off (macOS power management) |
| 6:49 AM | First new log entry (Telegram message arriving) |

## Key Observations

1. **Cron was scheduled correctly:** Multiple log entries show `cron: started` with `nextWakeAtMs: 1769524200000`
2. **Gateway was running:** No crash, no restart, process stayed alive
3. **27-minute log gap:** Zero activity between 6:22 and 6:49 AM
4. **No cron wake/fire event:** Expected a log entry at 6:30 AM but none exists
5. **System did not sleep:** `caffeinate` was active, only display turned off at 6:32

## Relevant Log Entries

**Last cron start before the gap (6:05 AM / 14:05 UTC):**
```json
{"module":"cron","storePath":"/Users/.../cron/jobs.json"}
{"enabled":true,"jobs":15,"nextWakeAtMs":1769524200000}
"cron: started"
```

**Last log before gap (6:22 AM / 14:22 UTC):**
```json
{"subsystem":"diagnostic"}
"session state: ... prev=processing new=idle reason=\"run_completed\" queueDepth=0"
```

**First log after gap (6:49 AM / 14:49 UTC):**
```json
{"subsystem":"diagnostic"}
"lane enqueue: lane=session:agent:main:main queueSize=1"
```

## Expected Behavior

At 6:30 AM, should have seen:
- Cron wake/fire log entry
- System event delivered to session
- Job execution started

## Actual Behavior

Complete silence in the event loop. No cron-related logs at the scheduled time despite the timer being set.

## Impact

Patient brief cron jobs are mission-critical for a healthcare workflow. The job had to be triggered manually.

## Possible Causes

1. Node.js event loop blocked/frozen
2. Cron timer not properly re-armed after gateway restarts
3. Internal state issue in cron module after earlier restarts (6 restarts occurred between 5:49-6:05 AM)

## Comments


## Links

- None detected yet
