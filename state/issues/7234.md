---
number: 7234
title: "Feature: Granular Discord action gates (split actions.messages into read/edit/delete)"
author: ryanmcgarvey
created: 2026-02-02T15:48:10Z
updated: 2026-02-02T15:48:10Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7234
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Problem

The `channels.discord.actions.messages` config toggle gates `read`, `edit`, `delete`, and `send` together as a single boolean. Setting it to `false` disables all four actions — there's no way to selectively disable just `delete` (or just `edit`, etc.) while keeping the others.

## Use Case

I want to prevent the agent from deleting messages or threads in Discord while still allowing it to:
- **send** messages (essential for briefings, responses)
- **read** message history (needed for context)
- **edit** its own messages (useful for corrections)

Currently the only option is `actions.messages: false`, which blocks everything including sends — effectively breaking the bot's ability to communicate.

## Current Behavior

In `discord.js` action gating:
```js
// Base set (always enabled):
actions.add("send");
actions.add("thread-create");
// ...

// Gated by actions.messages:
if (messages) {
  actions.add("read");
  actions.add("edit");
  actions.add("delete");
}
```

And in `discord-actions-messaging.js`, the `sendMessage` case also checks `isActionEnabled("messages")`, so even `send` is blocked when `messages: false`.

## Proposed Solution

Split `actions.messages` into granular sub-gates, e.g.:

```json
{
  "channels": {
    "discord": {
      "actions": {
        "messages": {
          "read": true,
          "edit": true,
          "delete": false,
          "send": true
        }
      }
    }
  }
}
```

For backward compatibility, `actions.messages: true/false` as a boolean could continue to toggle all sub-actions together.

## Additional Context

- The `send` action being gated by `messages` in the messaging handler contradicts it being in the "base set" in the action registration code
- This would be useful for any deployment where the agent should have limited destructive capabilities
- Similar granularity already exists for Slack actions (`reactions`, `pins`, `memberInfo`, `emojiList` are separate toggles)

## Comments


## Links

- None detected yet
