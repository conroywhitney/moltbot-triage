---
number: 7465
title: "Dashboard WebSocket goes stale silently — Queue button stuck, requires refresh"
author: everzocial
created: 2026-02-02T21:21:55Z
updated: 2026-02-02T21:21:55Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7465
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

# Dashboard WebSocket goes stale silently — "Queue" button stuck, requires refresh

## Summary

The Control UI dashboard WebSocket connection goes stale without the UI detecting it. The "Send" button stays stuck on "Queue" even when the agent is idle, and refreshing the browser fixes it. This has been happening frequently since ~Feb 1, 2026.

## Environment

- **Clawdbot version:** 2026.1.24-3 (npm install)
- **Host:** Cloudflare Cloud Chambers (container)
- **Gateway mode:** local (port 18789)
- **Access method:** Remote via Cloudflare (requires login/auth)
- **Browser:** (add your browser/version)

## Steps to Reproduce

1. Open the Clawdbot dashboard in browser
2. Leave it open for some time (minutes to hours)
3. Try to send a message — button shows "Queue" instead of "Send"
4. Messages from other channels (Signal, Slack) still work and agent responds
5. Hard refresh (Cmd+Shift+R) reconnects the WebSocket and restores normal behavior

## Expected Behavior

- Dashboard should detect stale/dropped WebSocket connection
- Auto-reconnect, or at minimum show a "Disconnected" warning
- "Send" button should reflect actual agent availability

## Actual Behavior

- WebSocket dies silently
- UI shows "Health OK" but "Queue" button (stale state)
- No visual indication of disconnection
- Refresh is required to restore functionality

## Screenshots

![Dashboard showing Queue button while agent is actually available](attached)

## Suspected Cause

Running on Cloudflare infrastructure — likely aggressive idle connection timeouts on their end. The gateway WebSocket may not be sending keepalive pings frequently enough to prevent Cloudflare from dropping the connection.

## Possible Fixes

1. Add WebSocket ping/pong keepalive at shorter intervals
2. Dashboard should detect missing heartbeats and show "Reconnecting..." state
3. Auto-reconnect logic in the Control UI
4. Expose `gateway.ws.pingIntervalMs` config option for tuning

## Workaround

Hard refresh the browser tab when "Queue" appears unexpectedly.

---

/cc @clawdbot/core

## Comments


## Links

- None detected yet
