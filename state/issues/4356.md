---
number: 4356
title: "Gateway crashes on transient network errors (unhandled promise rejections)"
author: WalterFooz
created: 2026-01-30T04:05:21Z
updated: 2026-01-30T04:05:21Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4356
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Description

Transient network failures to external APIs (especially Telegram) cause the gateway to crash instead of handling errors gracefully.

## Observed Behavior

When network requests fail (e.g., due to intermittent connectivity), unhandled promise rejections bubble up and crash the entire gateway process. Launchd then restarts it, creating a crash loop.

## Error Examples

```
[clawdbot] Unhandled promise rejection: TypeError: fetch failed
    at node:internal/deps/undici/undici:14902:13
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
```

```
MediaFetchError: Failed to fetch media from https://api.telegram.org/file/bot.../photos/file_64.jpg: TypeError: fetch failed
```

```
telegram setMyCommands failed: HttpError: Network request for 'setMyCommands' failed!
```

## Expected Behavior

- Network errors should be caught and logged, not crash the gateway
- Failed requests should be retried with exponential backoff
- Gateway should remain stable during temporary network issues

## Environment

- Clawdbot version: 2026.1.24-3
- Node.js: v22.22.0
- OS: macOS (Darwin 25.2.0 arm64)
- Channel: Telegram

## Impact

This affects gateway stability for all users. In my case, the gateway was restarting every 1-2 minutes during network instability, making it difficult to maintain sessions.

## Workarounds Attempted

- Disabled cron jobs that made external API calls
- Killed background daemons
- Network connectivity itself was fine (manual curl tests passed)

The issue appears to be in how fetch errors are handled in the Telegram provider and possibly other network-dependent code paths.

## Comments


## Links

- None detected yet
