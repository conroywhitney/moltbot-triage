---
number: 3520
title: "Cron delivery routing picks up wrong target from isolated session context"
author: Whisky-titan
created: 2026-01-28T18:25:56Z
updated: 2026-01-31T02:37:35Z
labels: ["bug"]
assignees: []
comments_count: 2
reactions_total: 2
url: https://github.com/openclaw/openclaw/issues/3520
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Description

Isolated cron sessions (`sessionTarget: "isolated"` with `agentTurn` kind) can pick up an incorrect delivery target from session context, causing messages to be routed to the wrong channel/chat.

## What Happened

1. Calendar reminder cron job configured with:
   - `channel: "telegram"`
   - `sessionTarget: "isolated"`
   - `deliver: true`

2. The isolated session picked up a WhatsApp phone number from recent main session context

3. Cron tried to deliver the calendar reminder to that WhatsApp number via Telegram

4. Telegram rejected it (invalid chat_id format), so no data leaked

## Error

```
Error: Telegram send failed: chat not found (chat_id=+XXXXXXXXXXX).
Likely: bot not started in DM, bot removed from group/channel, group migrated, or wrong bot token.
```

## Expected Behavior

Cron jobs should deliver to a stable, predictable target ‚Äî either:
1. The channel's owner/default chat (from config, e.g. `allowFrom`)
2. An explicit `target` field in the cron payload

## Proposed Fix

Add an optional `target` field to cron payload:

```json
{
  "kind": "agentTurn",
  "deliver": true,
  "channel": "telegram",
  "target": "CHAT_ID"
}
```

If not specified, fall back to the channel's configured owner or first allowlisted user.

## Impact

- **Privacy risk**: Sensitive calendar/meeting info (titles, participants, join links) could be routed to wrong recipients
- **Current mitigation**: Telegram rejects invalid chat_ids, so cross-channel routing fails safely
- **Potential issue**: If the wrong target is a valid Telegram chat, data would leak

## Environment

- Clawdbot version: 2026.1.24-3
- Multiple channels enabled: Telegram, WhatsApp, Slack
- Cron job: calendar-reminder (every 60s, agentTurn, isolated, deliver to telegram)

## Comments

### @ivystone99 (2026-01-29)

Can confirm this issue. My daily AI news digest cron job (isolated session, channel: telegram, postToMainMode: full) ran successfully at 9:30 AM, generated content, but never delivered to Telegram. The job shows status: ok with a summary in the runs log, but nothing arrived in the chat.

**Workaround:** Changed the job to explicitly instruct the agent to use the `message` tool with a hardcoded target ID instead of relying on automatic delivery routing.

**Environment:**
- Clawdbot 2026.1.24-3
- Channels: Telegram (primary), others configured
- Cron config: `sessionTarget: isolated`, `postToMainMode: full`

### @RayBB (2026-01-30)

I also experience this horrible issue often. Can't reliably fix it. I hope it can be fixed. This is on the Jan 29 update too...

Some possibly related issues:
https://github.com/openclaw/openclaw/issues/2813
https://github.com/openclaw/openclaw/issues/2937
https://github.com/openclaw/openclaw/issues/3850

If you're experiencing this issue please give a üëç to the main issue so it gets easier to see and be addressed.


## Links

- None detected yet
