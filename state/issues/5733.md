---
number: 5733
title: "Model-level authProfileId override not respected when switching models via /model command"
author: jaceyang2026-droid
created: 2026-01-31T22:24:08Z
updated: 2026-02-02T00:17:58Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/5733
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

When switching models using the `/model` command, the per-model `authProfileId` configuration is not being respected. Instead, the first profile in `auth.order` is always used.

## Configuration

```json
{
  "auth": {
    "order": {
      "google-antigravity": [
        "google-antigravity:profile-a@example.com",
        "google-antigravity:profile-b@example.com",
        "google-antigravity:manual"
      ]
    }
  },
  "agents": {
    "defaults": {
      "models": {
        "google-antigravity/gemini-3-flash": {
          "alias": "flash",
          "params": {
            "authProfileId": "google-antigravity:profile-b@example.com"
          }
        },
        "google-antigravity/claude-opus-4-5-thinking": {
          "alias": "opus",
          "params": {
            "authProfileId": "google-antigravity:profile-b@example.com"
          }
        }
      }
    }
  }
}
```

## Expected Behavior

When using `/model flash` or `/model opus`, the model should use `profile-b@example.com` as specified in the model's `params.authProfileId`.

## Actual Behavior

The model uses `profile-a@example.com` (the first profile in `auth.order`) instead of the explicitly configured `authProfileId`.

Verified via `/status`:
```
ðŸ§  Model: google-antigravity/claude-opus-4-5-thinking Â· ðŸ”‘ oauth (google-antigravity:profile-a@example.com)
```

## Environment

- OpenClaw: 2026.1.30 (76b5208)
- OS: macOS (Darwin 25.1.0, arm64)
- Node: v25.5.0

## Steps to Reproduce

1. Configure multiple auth profiles for google-antigravity
2. Set `auth.order` with profile A first
3. Configure a model with `params.authProfileId` pointing to profile B
4. Use `/model <alias>` to switch to that model
5. Check `/status` - it shows profile A instead of profile B

## Comments


## Links

- None detected yet
