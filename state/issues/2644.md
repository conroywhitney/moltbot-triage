---
number: 2644
title: "Add tools.exec.pty config option to enable PTY mode by default"
author: MChrys
created: 2026-01-27T07:47:25Z
updated: 2026-01-28T05:59:53Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/2644
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Problem

When running exec commands without PTY mode, commands hang indefinitely (appearing to take 2+ minutes for a simple `echo hello`). The process spawns but stdout is never captured, causing the tool to wait until `backgroundMs` timeout.

## Current Workaround

Passing `pty=true` on each exec call resolves the issue - commands complete instantly as expected.

## Proposed Solution

Add a configuration option to enable PTY mode by default:

```json
{
  "tools": {
    "exec": {
      "pty": true
    }
  }
}
```

Or alternatively via `/exec pty=true` as a session default.

## Environment

- **Clawdbot version:** 2026.1.24-3
- **OS:** Ubuntu Linux 6.8.0-60-generic (x64)
- **Node:** 24.13.0
- **Sandbox mode:** off
- **Runtime:** direct

## Relevant Config

```json
{
  "tools": {
    "exec": {
      "security": "full",
      "ask": "off",
      "backgroundMs": 120000,
      "timeoutSec": 3600
    }
  }
}
```

## Logs

```
07:40:25 debug embedded run tool start: tool=exec
// Command hangs for 2+ minutes without pty=true
// With pty=true, completes instantly
```

Thank you for the great tool! ðŸ¦ž

## Comments


## Links

- None detected yet
