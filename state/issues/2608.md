---
number: 2608
title: "[Slack] Thread context: auto-fetch thread history when replying in a thread"
author: naoto13
created: 2026-01-27T06:17:15Z
updated: 2026-01-28T06:00:07Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 1
url: https://github.com/moltbot/moltbot/issues/2608
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Feature Request

### Problem
When a user replies to a message in a Slack thread, Clawdbot currently does not receive the thread context. This means the agent cannot see the previous conversation in the thread and loses important context.

### Current Behavior
- User replies in a Slack thread
- Clawdbot only receives the single reply message
- No `thread_ts` or thread history is passed to the agent

### Expected Behavior
When a message comes from a Slack thread reply:
1. The Slack channel plugin should detect `thread_ts` in the incoming event
2. Automatically fetch thread history using `conversations.replies` API
3. Include the thread context in the agent's input (similar to how session history works)

### Proposed Solution
In the Slack channel plugin:
```javascript
// When processing incoming message
if (event.thread_ts) {
  const threadHistory = await slack.conversations.replies({
    channel: event.channel,
    ts: event.thread_ts,
    limit: 20  // configurable
  });
  // Inject thread context into agent input
}
```

### Configuration Options (optional)
- `slack.threadContext.enabled`: boolean (default: true)
- `slack.threadContext.maxMessages`: number (default: 20)

### Additional Context
- The `message action=read` tool already supports reading threads via `threadId` parameter
- Bot token permissions should already include `conversations.replies` scope
- This would significantly improve UX for threaded conversations

### Environment
- Clawdbot version: latest
- Channel: Slack

## Comments

### @jarredkenny (2026-01-27)

I've been trying to figure out a way to enforce that every slack thread be its own session in Clawdbot. That has tradeoffs but would also be a nice way to solve this. 


## Links

- None detected yet
