---
number: 2560
title: "Build fails after browser refactor (e7fdccce3): missing import and untyped results"
author: wes-davis
created: 2026-01-27T03:53:14Z
updated: 2026-01-28T06:00:15Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/2560
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

After commit `e7fdccce3` ("refactor: route browser control via gateway/node"), TypeScript build fails with 6 errors:

```
src/cli/browser-cli-actions-input/register.element.ts:46:24 - error TS18046: 'result' is of type 'unknown'.
src/cli/browser-cli-actions-input/register.files-downloads.ts:89:59 - error TS18046: 'result' is of type 'unknown'.
src/cli/browser-cli-actions-input/register.files-downloads.ts:130:59 - error TS18046: 'result' is of type 'unknown'.
src/cli/browser-cli-actions-input/register.form-wait-eval.ts:125:43 - error TS18046: 'result' is of type 'unknown'.
src/security/audit.ts:379:21 - error TS2304: Cannot find name 'resolveProfile'.
```

## Root Cause

1. **Missing import**: `src/security/audit.ts` uses `resolveProfile()` but doesn't import it from `../browser/config.js`
2. **Lost type information**: The refactor replaced direct `browserAct()` calls (which returned typed `BrowserActResponse`) with `callBrowserAct()` wrapper that defaults generic to `unknown`

## Impact

- **Blocks all CLI commands** â€” build must succeed before any command runs
- Affects fresh clones and anyone pulling latest main

## Fix

- Add missing import for `resolveProfile`
- Add type parameters to `callBrowserAct<BrowserActResponse>` and `callBrowserRequest<BrowserDownloadResponse>` calls

PR incoming.

## Comments


## Links

- None detected yet
