---
number: 6453
title: "Telegram mediaMaxMb config doesn't inherit from agents.defaults"
author: Klowalski
created: 2026-02-01T17:31:09Z
updated: 2026-02-01T21:03:53Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6453
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

When receiving files via Telegram that exceed the default 5MB media limit, the error message is unclear and the config hierarchy is confusing. Setting `agents.defaults.mediaMaxMb` does not affect Telegram's media handling â€” you must also set `channels.telegram.mediaMaxMb` separately.

## Steps to Reproduce

1. Configure OpenClaw with Telegram channel (default config, no `mediaMaxMb` set)
2. Send a file >5MB via Telegram (e.g., a 10MB zip split)
3. Observe error in logs: `media group handler failed: Error: Media exceeds 5MB limit`
4. Set `agents.defaults.mediaMaxMb: 20` via config.patch
5. Restart gateway
6. Send the same file again
7. **Still fails** with the same 5MB error
8. Must also set `channels.telegram.mediaMaxMb: 20` to actually fix it

## Expected Behavior

Either:
1. `agents.defaults.mediaMaxMb` should be inherited by channel configs (with channel-specific override capability), OR
2. The error message should specify which config key needs to be changed

## Actual Behavior

- `agents.defaults.mediaMaxMb` does not cascade to Telegram channel
- Error message doesn't indicate which config to change
- User must discover `channels.telegram.mediaMaxMb` exists separately

## Suggested Fix

**Option A (preferred):** Make channel configs inherit from `agents.defaults.mediaMaxMb` as a fallback, so users only need to set it once.

**Option B:** Improve the error message to include the relevant config path:
```
Media exceeds 5MB limit. Increase channels.telegram.mediaMaxMb in config.
```

## Environment

- OpenClaw version: 2026.1.29
- Channel: Telegram (webhook mode)
- OS: Ubuntu (arm64)

## Logs

```
{"subsystem":"gateway/channels/telegram","1":"media group handler failed: Error: Media exceeds 5MB limit",...}
```

## Comments


## Links

- None detected yet
