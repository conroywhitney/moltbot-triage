---
number: 3908
title: "[Feature]: Improved Narrative Memory and Graphiti Integration"
author: juliopx
created: 2026-01-29T10:10:32Z
updated: 2026-01-29T10:16:52Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/3908
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Overview
Migrate the Narrative Memory system from remote storage to a local STORY.md file backend for better transparency and persistence.

## Key Features
- Local Storage: Autobiography saved to STORY.md in the workspace root.
- Atomic Operations: Implemented STORY.md.lock using atomic file flags (wx) and atomic write-then-rename to prevent race conditions and read corruption.
- Robust Synchronization: Metadata anchors track narrated progress independently of file timestamps.
- Narrative Sophistication: Prompts refined to reflect time awareness (days/months) and agent identity (IDENTITY.md/SOUL.md).
- Consolidation Pipeline: Optimized batch threshold and integration with Graphiti episodes.

## Comments


## Links

- None detected yet
