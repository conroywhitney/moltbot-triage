---
number: 5339
title: "Telegram unable to receive cron message"
author: maksing02
created: 2026-01-31T11:00:21Z
updated: 2026-02-02T00:19:31Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 6
url: https://github.com/openclaw/openclaw/issues/5339
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

OpenClaw Incident Report

Issue Summary

Type: System message delivery bug
Severity: Medium — Workaround available (use webchat for system messages)
Status: Unable to resolve from AI session — requires platform fix


Problem Description

Issue: Telegram channel plugin not receiving system messages (cron wakes, alarm reminders)

Expected Behavior:

• System messages created via cron wake events should be delivered to ALL enabled channels (webchat ✅ + Telegram ✅)
Actual Behavior:

• Webchat: ✅ Receives system messages
• Telegram: ❌ Does NOT receive system messages (cron wakes, alarms, reminders)
• Regular chat messages: ✅ Work correctly in both channels

Steps to Reproduce

1. Create cron wake event  • Command: cron wake --text "Reminder (1 min): Your alarm is set." --mode now
  • Result: ✅ "ok": true" — Alarm successfully created

2. Verify webchat receipt  • Expected: Message appears in webchat
  • Actual: ✅ Message received: "Reminder (1 min): Alarm triggered."
  • Status: Working

3. Verify Telegram receipt  • Expected: Message appears in Telegram
  • Actual: ❌ Message NOT received
  • Status: Failing

4. Repeat test with multiple alarms  • Result: Same pattern across 4+ attempts
  • Webchat: Always receives
  • Telegram: Never receives cron/system messages
  • Regular chat: Always works in both channels

5. Test regular chat message delivery  • User types "Yo" → I receive and reply ✅
  • User types "no need" → I receive and reply ✅
  • Proves Telegram CAN receive messages (direct chat works)


Environment

| Component        | Detail                            |
| ---------------- | --------------------------------- |
| OpenClaw Version | 2026.1.29 (a5b4d22)               |
| Operating System | Windows_NT 10.0.19045 (x64)       |
| OpenClaw Mode    | direct                            |
| Session Type     | AI session (agent:main:main)      |
| Gateway          | Local (port 18789, loopback bind) |
| Model            | zai/glm-4.7 (048532…9HomMo)       |
| Node Manager     | npm                               |
| Runtime          | direct · Think: off · elevated    |
| Queue            | collect (depth 0)                 |


Current Configuration

Channel Settings

"channels": {
  "telegram": {
    "enabled": true,
    "dmPolicy": "pairing",
    "groupPolicy": "allowlist",
    "streamMode": "off"           // Changed from "partial" to "off"
  }
}

Gateway Settings

"gateway": {
  "port": 18789,
  "mode": "local",
  "bind": "loopback",
  "auth": {
    "mode": "token",
    "token": "token_hidden"
  },
  "tailscale": {
    "mode": "off",
    "resetOnExit": false
  }
}

Cluster Settings

"agents": {
  "defaults": {
    "model": {
      "primary": "zai/glm-4.7"
    },
    "maxConcurrent": 4,
    "subagents": {
      "maxConcurrent": 8
    },
    "workspace": "C:\\Users\\Myfolder\\clawd",
    "compaction": {
      "mode": "safeguard"
    }
  }
}


Troubleshooting Steps Taken

1. Investigated Stream Mode Impact

Action: Changed streamMode from "partial" to "off"
Result: Webchat message delivery unaffected (already working)
Telegram Delivery: No improvement — still not receiving system messages

2. Attempted Gateway Restart

Action: openclaw gateway restart (multiple attempts)
Error: Gateway restart is disabled (system restriction: Gateway restart is disabled. Set commands.restart=true to enable.)
Workaround: Cannot restart gateway from AI session — requires manual terminal restart

3. Applied Config Patch

Action: openclaw gateway config.patch with {"channels":{"telegram":{"streamMode":"off"}}
Result: ✅ Config successfully patched
Gateway Restart: Still blocked (restart required but unavailable from AI session)

4. Tested Multiple Alarms

Action: Created 4+ cron wake events at different intervals
Pattern:

• Cron wake ✅ → Webchat receives alarm message ✅
• Telegram ❌ Never receives alarm message
Conclusion: System message generation works, delivery to Telegram fails

## Comments

### @hartadiekop (2026-01-31)

Actually, the error message in the cron jobs history will look like this : 

FailoverError: No API key found for provider "anthropic". Auth store: /home/<userhome>/.openclaw/agents/main/agent/auth-profiles.json (agentDir: /home/osboxes/.openclaw/agents/main/agent). Configure auth for this agent (openclaw agents add <id>) or copy auth-profiles.json from the main agentDir.


## Links

- None detected yet
