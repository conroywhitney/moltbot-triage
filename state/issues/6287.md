---
number: 6287
title: "Telegram webhook returns 500 for group messages (DMs work fine)"
author: ssccio
created: 2026-02-01T13:48:21Z
updated: 2026-02-01T20:58:50Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6287
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Description

Telegram group messages cause webhook to return 500 Internal Server Error. DM messages work perfectly via webhooks.

## Environment
- OpenClaw version: 2026.1.30
- Platform: macOS (Darwin 25.2.0 arm64)
- Telegram: Webhook mode
- Channel config: `groupPolicy: "open"`, `dmPolicy: "pairing"`

## Symptoms
1. Direct messages (DMs) work perfectly via webhook
2. Group messages cause webhook to timeout (10s) and return 500 error
3. Telegram retries repeatedly, all fail with same error
4. No error logs or stack traces in gateway.log or gateway.err.log (silent crash)
5. No group session is created

## Telegram Webhook Status
```json
{
  "last_error_date": 1769953299,
  "last_error_message": "Wrong response from the webhook: 500 Internal Server Error",
  "pending_update_count": 1
}
```

## Gateway Logs
Only shows generic timeout, no details:
```
[telegram] webhook handler failed: Request timed out after 10000 ms
```

## Configuration Verified
- ✅ Privacy mode: DISABLED (bot sees all messages)
- ✅ Bot permissions: "has access to messages"
- ✅ Bot is member of group
- ✅ Config has `groupPolicy: "open"`
- ✅ Messages properly mention bot: `@sscc_clawdbot`

## Debugging Attempted
1. Updated from 2026.1.29 to 2026.1.30 (pairing store fix) - no change
2. Verified bot group permissions via `/setprivacy`
3. Checked config allowlists - configured correctly
4. No relevant errors in gateway.err.log

## Expected Behavior
Group messages should be processed like DM messages (which work perfectly).

## Actual Behavior
Webhook receives group message → crashes silently with 500 error → no session created → message never reaches agent.

## Additional Context
The crash happens before any session is created or agent processing begins. Suggests the failure is in the webhook handler's group message preprocessing/authorization layer.

The lack of error logging makes this very difficult to debug - there's no stack trace or error message indicating what's actually failing.

## Comments


## Links

- None detected yet
