---
number: 3702
title: "[Bug]: File ID Format Mismatch When Switching from Gemini to OpenAI"
author: malayvuong
created: 2026-01-29T02:38:39Z
updated: 2026-01-29T02:38:39Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/3702
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
400 Invalid 'input[146].id': 'fc_ErcHxUKBg2_y6pOFn_nAzVawtR4wAEAdEEhrjYsqbeV26lGsxyXrSVrwT4iZ_'.
Expected an ID that contains letters, numbers, underscores, or dashes, but this value contained additional characters.

## **Reproduction:**
1. Use Gemini API with file attachments (works fine)
2. Switch default model to OpenAI (`clawdbot models set openai/gpt-5-mini`)
3. Send message with same file attachments
4. Error occurs with `input[N].id` validation failure

## **Root Cause:**
File IDs created for Google APIs (Gemini format) are not being converted when switching to OpenAI's API. The gateway's file ID remapping layer should handle provider-specific ID format conversions.

## **Expected Behavior:**
- When provider switches, file IDs should be re-uploaded or re-mapped for the new provider
- OR file attachments should be purged when switching providers
- OR Clawdbot should store provider-agnostic file references and convert on use

**Status:** Cannot be fixed locally - requires Clawdbot gateway code changes

## Environment
- Clawdbot version: 2026.1.24-3
- OS: MacOs Tahoe 26.1
- Install method (pnpm/npx/docker/etc): pnpm

## Logs or screenshots
<img width="942" height="308" alt="Image" src="https://github.com/user-attachments/assets/d41e4c6d-eba3-4195-aae2-c4335f7be09f" />

## ðŸ”§ Workaround (Temporary)
Until this is fixed in Clawdbot, you can:

Use Claude/Anthropic (your previous default) instead of OpenAI for tasks with file attachments
Avoid switching models mid-session - restart the session when changing from Geminiâ†’OpenAI
Contact Clawdbot dev team to get this prioritized
Should I file this formally to the Clawdbot GitHub issues or dev channel?

## Comments


## Links

- None detected yet
