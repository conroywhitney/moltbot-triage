---
number: 7054
title: "[Bug]: `openclaw docs` fails on native Windows with spawn npx ENOENT"
author: DaiyamondoSei
created: 2026-02-02T10:22:55Z
updated: 2026-02-02T10:22:55Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7054
duplicate_of: null
related_issues: [6086]
blocks: []
blocked_by: []
---

## Description

## Summary

The `openclaw docs` command fails on native Windows with `Error: spawn npx ENOENT`. This occurs because Node.js `child_process.spawn()` cannot execute `.cmd` files (like `npx.cmd`) without `shell: true` or using a cross-platform spawn library.

## Environment

- **OS:** Windows 11 (native, not WSL2)
- **Node:** v22.14.0
- **npm:** 10.9.2
- **OpenClaw:** 2026.1.30

## Steps to Reproduce

1. Install OpenClaw on native Windows (not WSL2)
2. Run `openclaw gateway` (gateway starts successfully)
3. Run `openclaw docs heartbeat` (or any docs command)

## Expected Behavior

Documentation should be displayed.

## Actual Behavior

```
Error: spawn npx ENOENT
```

## Root Cause Analysis

On Windows, npm/npx are installed as `.cmd` batch files (e.g., `C:\Program Files\nodejs\npx.cmd`). Node.js `child_process.spawn()` cannot execute `.cmd` files directly without either:
- Setting `shell: true` in spawn options
- Using a cross-platform library like `cross-spawn`

I verified that `cross-spawn@7.0.6` is already in the project's `pnpm-lock.yaml`, so the fix should be straightforward.

## Suggested Fix

Replace the native `spawn('npx', ...)` call with `crossSpawn('npx', ...)` from the `cross-spawn` package (already a dependency).

Example change:
```javascript
// Before
const { spawn } = require('child_process');
spawn('npx', [...args]);

// After  
const spawn = require('cross-spawn');
spawn('npx', [...args]);
```

## Workaround

None currently. The official docs recommend WSL2, but native Windows support would benefit users who cannot use WSL2.

## Related Issues

- #6086 - Similar spawn ENOENT issue for npm

## Notes

- Core OpenClaw functionality (gateway, Discord, Gmail, etc.) works fine on native Windows
- Only the `openclaw docs` command is affected
- The fix is minimal since `cross-spawn` is already a dependency

## Comments


## Links

- None detected yet
