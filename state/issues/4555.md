---
number: 4555
title: "Discord bot cannot receive messages (MESSAGE_CREATE events not received)"
author: logicrw
created: 2026-01-30T09:42:08Z
updated: 2026-02-01T21:48:05Z
labels: ["bug"]
assignees: []
comments_count: 2
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4555
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Problem

Discord bot logs in successfully and can **send** messages, but **cannot receive** any messages. No MESSAGE_CREATE events are received.

## Environment

- **Clawdbot version**: 2026.1.24-3 (also tested with 2026.1.23-1)
- **Node.js version**: v25.4.0
- **OS**: macOS Darwin 25.2.0 (arm64)

## What works

- Bot logs in successfully
- Bot can send messages via API
- Bot appears online in Discord
- MESSAGE CONTENT INTENT is enabled
- All three Privileged Gateway Intents are enabled
- Bot has correct permissions
- **discord.js v14 can receive messages with the same token**

## What doesn't work

- Clawdbot never receives any Discord messages
- No messageCreate events in logs
- Both channel messages and DMs fail

## Logs

```
[discord] [default] Discord Message Content Intent is limited; bots under 100 servers can use it without verification.
[discord] [default] starting provider (@BotName)
[discord] logged in to discord as [BOT_ID]
```

No errors after login, but no message events either.

## Testing performed

1. Created multiple new Discord bots - same issue
2. Created new Discord server - same issue
3. Reinstalled Clawdbot - same issue
4. Downgraded to 2026.1.23-1 - same issue
5. **Tested with discord.js directly - works fine!**

### discord.js test (works):
```javascript
import { Client, GatewayIntentBits } from 'discord.js';
const client = new Client({
  intents: [
    GatewayIntentBits.Guilds,
    GatewayIntentBits.GuildMessages,
    GatewayIntentBits.MessageContent,
    GatewayIntentBits.DirectMessages
  ]
});
client.on('messageCreate', (m) => console.log(m.content));
client.login('TOKEN');
```

This script receives messages with the same bot token.

## Suspected cause

Issue appears to be in `@buape/carbon` library (v0.14.0). The intents in code look correct but messages are never received.

## Configuration

```json
{
  "channels": {
    "discord": {
      "enabled": true,
      "groupPolicy": "allowlist",
      "guilds": {
        "GUILD_ID": {
          "requireMention": false,
          "users": ["USER_ID"]
        }
      }
    }
  }
}
```

## Comments

### @LachlanStuart (2026-02-01)

I think this just happened to me. The only sign something was wrong in my case was when I used any discord command e.g. `/help` it would log an error message in `openclaw logs --follow` exactly 30 seconds later:

```
[EventQueue] Listener InteractionEventListener timed out after 30000ms for event INTERACTION_CREATE
```

But normal messages wouldn't make any logs at all. I had to talk the bot via the TUI through debugging it with "print debugging" (adding logs everywhere until we figure out what line it stops on).

The cause: Discord didn't like me restarting openclaw so many times. Every time openclaw restarts it re-sends the slash command definitions to Discord, and there's a rate limit of 200 command uploads per day. None of the errors were appearing in the logs, until the bot decided to add a log for that. Suddenly it was clear - the failing command upload was the first item in the incoming messages queue and it was stuck in a retry loop. All other messages were just queueing up after it.

My solution: told the bot to add a config to disable installing the bot commands in discord. The commands are broken, but that beats having broken discord.

### @LachlanStuart (2026-02-01)

Huh. Bot claimed it added an option but I don't see any new logic in the diff. Maybe this will work for you?

```bash
openclaw config set channels.discord.commands.native false
openclaw gateway restart
```


## Links

- None detected yet
