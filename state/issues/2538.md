---
number: 2538
title: "Feature Request: Real-time tool invocation hook events (tool:start, tool:end)"
author: gregtex99
created: 2026-01-27T03:07:52Z
updated: 2026-01-29T17:05:59Z
labels: ["enhancement"]
assignees: []
comments_count: 2
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/2538
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

Add hook events that fire when the agent invokes tools, enabling real-time UI feedback for tool usage.

## Motivation

I'm building a visual dashboard (Trinity UI) that shows agent state in real-time. I want to light up icons when the agent uses specific tools (web search, file operations, browser, etc.).

Currently, hooks only fire on high-level events like `agent:bootstrap`, `command:new`, `command:reset`. There's no way to know when a tool is being invoked.

## Proposed Events

- `tool:start` - fires when agent begins a tool call
  - Payload: `{ tool: string, parameters: object, timestamp: number }`
- `tool:end` - fires when tool call completes
  - Payload: `{ tool: string, result: object, duration: number, success: boolean }`

Optionally:
- `thinking:start` - when Claude begins generating a response
- `thinking:end` - when response generation completes
- `stream:chunk` - for real-time response streaming

## Use Case

With these events, a hook could push updates to an external dashboard:

```javascript
// In hook handler
export async function onToolStart({ tool, parameters }) {
  await fetch('https://my-dashboard/api/tool', {
    method: 'POST',
    body: JSON.stringify({ tool, active: true })
  });
}
```

## Current Workaround

The only alternative is having the agent manually self-report tool usage via API calls, which adds latency and is error-prone.

## Environment

- Clawdbot version: 2026.1.22
- Use case: Trinity UI dashboard for real-time agent monitoring

Thanks for considering!

## Comments

### @JustMaier (2026-01-28)

I have an implementation ready for this feature in PR #2908. 

The PR was closed because it was marked as WIP/Draft and I forgot to change the status. The implementation is complete and all CI checks passed.

**What's implemented:**
- `tool:start` - fires when agent begins a tool call (includes args)
- `tool:update` - fires during streaming output (hook handles throttling)
- `tool:result` - fires when tool call completes (includes result, isError)

The implementation adds a Tool Hook Bridge (`src/infra/agent-hook-bridge.ts`) that subscribes to agent events and translates them to internal hook events. Hook scripts can then react to tool execution for real-time UI updates.

Would appreciate if the PR could be reopened for review!

### @Vettic-Maker (2026-01-29)

lol I just want to know how I get my feature looked at, just posted it two days ago and it is Buried! lol


## Links

- None detected yet
