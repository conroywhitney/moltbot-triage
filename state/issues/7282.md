---
number: 7282
title: "Chrome extension relay not detected when using non-default gateway port"
author: Cloud-Ops-Dev
created: 2026-02-02T16:48:14Z
updated: 2026-02-02T16:48:14Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7282
duplicate_of: null
related_issues: [66]
blocks: []
blocked_by: []
---

## Description

## Description

When using a non-default gateway port (52789 instead of 18789), the Chrome extension relay connects successfully at the CDP level, but `openclaw browser` commands fail to detect the connected tab.

## Environment

- **OpenClaw version:** 2026.2.1
- **OS:** Arch Linux (6.18.6-arch1-1)
- **Browser:** Brave (Chromium-based)
- **Gateway port:** 52789 (non-default)
- **Extension relay port:** 52792

## Steps to Reproduce

1. Configure gateway with non-default port:
   ```json
   "gateway": {
     "port": 52789
   }
   ```

2. Install Chrome extension: `openclaw browser extension install`

3. In Brave, load unpacked extension from `~/.openclaw/browser/chrome-extension`

4. Update extension's relay port setting from 18792 to 52792

5. Extension shows "Relay reachable at http://127.0.0.1:52792/"

6. Click extension on a tab - badge shows "ON"

7. Verify CDP works directly:
   ```bash
   curl -s http://127.0.0.1:52792/json/list
   # Returns: [{"id":"...","type":"page","title":"Amazon.com...","url":"https://www.amazon.com/","webSocketDebuggerUrl":"ws://127.0.0.1:52792/cdp"...}]
   ```

8. Try openclaw commands:
   ```bash
   openclaw browser tabs --browser-profile brave
   # Returns: No tabs (browser closed or no targets)
   
   openclaw browser screenshot --browser-profile brave
   # Error: Chrome extension relay is running, but no tab is connected.
   ```

## Expected Behavior

`openclaw browser tabs` should show the connected Amazon tab since the CDP endpoint confirms the connection.

## Actual Behavior

- `curl http://127.0.0.1:52792/json/list` shows the tab ✓
- Extension shows "ON" ✓
- `openclaw browser tabs` shows "No tabs"
- `openclaw browser screenshot` errors with "no tab is connected"

## Profile Configuration

Created via CLI:
```bash
openclaw browser create-profile --name brave --driver extension --cdp-url http://127.0.0.1:52792
```

Profile shows correctly:
```
brave: stopped
  port: 52792, color: #0066CC
```

But status always shows "stopped" even when extension is connected and CDP endpoint is reachable.

## Additional Context

- Built-in `chrome` profile hardcoded to port 18792 cannot be overridden via config
- Adding browser config to openclaw.json doesn't affect the built-in chrome profile
- The disconnect appears to be between openclaw's browser service polling/detection and the actual CDP relay state

## Workaround Attempted

Tried adding to `~/.openclaw/openclaw.json`:
```json
"browser": {
  "defaultProfile": "brave",
  "profiles": {
    "brave": {
      "driver": "extension",
      "cdpUrl": "http://127.0.0.1:52792",
      "color": "#FF6600"
    }
  }
}
```

Config file changes were not reflected in `openclaw browser profiles` output.

## Comments


## Links

- None detected yet
