---
number: 173
title: "Error with \"redacted thinking\" after a while causing the need for a new session."
author: simonsickle
created: 2026-01-04T06:48:49Z
updated: 2026-01-27T15:14:16Z
labels: ["bug", "question"]
assignees: []
comments_count: 3
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/173
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

```
⚙️ Status
Web: not linked — run clawdis login to scan the QR.
Agent: embedded pi • anthropic/claude-opus-4-5
Workspace: ~/clawd
Context: 71k/200k (36%)
Session: main • scope per-sender • updated just now • store ~/.clawdis/sessions/sessions.json

Options: thinking=low | verbose=off (set with /think <level>, /verbose on|off, /model <id>)
Shortcuts: /new reset | /restart relink
```

After the agent runs for a while (and I suppose some heartbeats happen on haiku 4.5 for a few days) I get an error about thinking

```
LLM request rejected: messages.147.content.1: thinking or redacted_thinking blocks in the latest assistant message cannot be modified. These blocks must remain as they were in the original response.
```

The only workaround here for me is to reset the session. I believe this is related to the extended thinking feature in the anthropic API. 

Rata (my clawdis's chosen persona) said that (fwiw, take with a grain of salt)
> The real fix is in the conversation history handling - those thinking blocks shouldn't be getting modified between requests in the first place. Something's mangling them during storage/replay.

## Comments

### @sebslight (2026-01-19)

@simonsickle is this still happening?

### @simonsickle (2026-01-20)

I do still see this from time to time after a session has been running for a long time with lots of heartbeats. 

### @starksama (2026-01-27)

this is also happening to me. Restarting session solves it, but it's quite annoying cuz the bot will suddenly die


## Links

- None detected yet
