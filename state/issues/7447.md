---
number: 7447
title: "[Bug]: OpenClaw Gateway does not load local file changes from node_modules after restart"
author: coolishagent
created: 2026-02-02T21:06:00Z
updated: 2026-02-02T21:06:00Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7447
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
OpenClaw Gateway (running locally via `openclaw gateway` on macOS) does not load local file changes made directly to files within the `/opt/homebrew/lib/node_modules/openclaw/dist/telegram/` path, even after multiple `openclaw gateway restart` commands. This significantly hinders local development and debugging.

## Steps to reproduce
1.  Install OpenClaw globally (e.g., `npm i -g openclaw@latest`).
2.  Locate a file within the installed `node_modules/openclaw/dist/` directory (e.e.g., `/opt/homebrew/lib/node_modules/openclaw/dist/telegram/bot-message-context.js`).
3.  Add or modify a `console.log` statement in this file.
4.  Run `openclaw gateway restart`.
5.  Observe that the new `console.log` output does not appear in the gateway logs (`/Users/jarvis/.openclaw/logs/gateway.log`), even after triggering the relevant code path.
6.  Verify that the file on disk *does* contain the changes (e.g., `cat <file_path> | grep "your_log_string"`).

## Expected behavior
After a `openclaw gateway restart`, the Gateway should load the latest versions of all files from disk, including those within `node_modules`, and reflect local code changes in its runtime behavior and logs.

## Actual behavior
The Gateway continues to run with an older version of the modified file, ignoring local changes. New `console.log` statements do not appear in the logs.

## Environment
-   OpenClaw version: 2026.2.1
-   OS: macOS (Darwin 25.2.0 arm64)
-   Install method: `npm i -g openclaw@latest`
-   Gateway mode: `local`
-   `gateway.reload.mode`: `"hybrid"` (default) - observed via `openclaw gateway config.get`

## Logs or screenshots
-   **Confirmation of file change on disk:**
    ```
    cat /opt/homebrew/lib/node_modules/openclaw/dist/telegram/bot-message-context.js | grep "console.log" | tail -5
    # Expected output (example):
    # console.log("[DM-THREAD-INBOUND-V2] chatId:", chatId, "messageThreadId:", msg.message_thread_id, "directMessagesTopic:", msg.direct_messages_topic, "chatType:", msg.chat.type, "is_forum:", msg.chat.is_forum, "has_topics_enabled:", msg.from?.has_topics_enabled);
    ```
    (The actual output from `cat` command confirmed the file was changed on disk).

-   **Absence of new log in gateway logs (even after restart and triggering code path):**
    ```
    grep "DM-THREAD-INBOUND-V2" /Users/jarvis/.openclaw/logs/gateway.log | tail -5
    # Expected output: the new log line
    # Actual output: (no output or older log lines)
    ```
    (Actual output showed no `[DM-THREAD-INBOUND-V2]` lines, only older `[DM-THREAD-INBOUND]` lines from the previous code).

## Comments


## Links

- None detected yet
