---
number: 7500
title: "Infinite loop on repeated tool validation failures"
author: bluecanarybe
created: 2026-02-02T22:09:54Z
updated: 2026-02-02T22:09:54Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7500
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

When Claude Opus (or other models) malfunction, they sometimes emit tool calls with empty/missing required parameters in a loop. For example:

```
gateway({})  // fails: missing "action"
gateway({})  // fails again
gateway({})  // ... 100+ times
```

Each failure burns tokens because the error gets appended to context and the model retries. This can run up significant costs before the turn times out.

## Steps to reproduce

1. Use Claude Opus (anthropic/claude-opus-4-5) with extended thinking enabled
2. Ask a question that triggers tool use
3. Sometimes the model emits malformed tool calls with empty parameters
4. The validation error is returned to the model
5. Model emits the same broken call again, creating an infinite loop

## Expected behavior

After N consecutive tool validation failures (e.g., 3), OpenClaw should:
1. Abort the current turn
2. Inject an error message explaining what happened
3. Prevent further token burn

## Actual behavior

The loop continues until:
- Turn timeout is reached
- Context window fills up
- Model eventually recovers (rare)

## Environment

- OpenClaw version: latest (npm)
- OS: Ubuntu 22.04 (VPS)
- Install method: npm global install
- Model: anthropic/claude-opus-4-5

## Suggested fix location

Based on file names in the codebase, this logic could be added to:
- `dist/agents/session-tool-result-guard.js`
- `dist/agents/pi-tools.policy.js`

Track consecutive validation failures per turn and abort after threshold.

## Comments


## Links

- None detected yet
