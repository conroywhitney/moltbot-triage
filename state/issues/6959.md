---
number: 6959
title: "Fix \"disconnected (1008): pairing required\" Error in OpenClaw Docker"
author: CosmicWukong
created: 2026-02-02T07:21:15Z
updated: 2026-02-02T07:21:15Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/6959
duplicate_of: null
related_issues: [4531,4941]
blocks: []
blocked_by: []
---

## Description

<head></head><h1 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">OpenClaw Docker Installation Guide: Fixing "pairing required" / "token mismatch" Errors</h1><h2 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Problem Description</h2><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">After installing OpenClaw via Docker, when accessing<span class="Apple-converted-space"> </span><code>http://localhost:18789</code><span class="Apple-converted-space"> </span>to open the WebUI, you encounter the following errors:</p><ol style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><li><p><strong>Initial error</strong>:</p><pre><code>disconnected (1008): unauthorized: gateway token missing 
(open a tokenized dashboard URL or paste token in Control UI settings)
</code></pre></li><li><p><strong>After entering token, error changes to</strong>:</p><pre><code>disconnected (1008): pairing required
</code></pre></li><li><p><strong>Or displays</strong>:</p><pre><code>disconnected (1008): unauthorized: gateway token mismatch 
(open a tokenized dashboard URL or paste token in Control UI settings)
</code></pre></li></ol><h3 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Gateway Log Output</h3><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code>[ws] closed before connect conn=xxx remote=192.168.65.1 fwd=n/a 
origin=http://localhost:18789 host=localhost:18789 
code=1008 reason=pairing required
</code></pre><hr style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><h2 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Root Cause</h2><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">This is a known issue caused by<span class="Apple-converted-space"> </span><strong>Docker's NAT networking</strong>:</p><ol style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><li>Browser connects to<span class="Apple-converted-space"> </span><code>localhost:18789</code></li><li>Docker forwards the request to the container via NAT</li><li>Gateway sees the source IP as<span class="Apple-converted-space"> </span><code>192.168.65.1</code><span class="Apple-converted-space"> </span>(Docker's internal network address), not<span class="Apple-converted-space"> </span><code>127.0.0.1</code></li><li>Gateway identifies<span class="Apple-converted-space"> </span><code>192.168.65.1</code><span class="Apple-converted-space"> </span>as an<span class="Apple-converted-space"> </span><strong>external connection</strong>, not a local one</li><li>External connections require device pairing, which browsers cannot complete</li></ol><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">This issue is particularly common on Docker Desktop for macOS and Windows.</p><hr style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><h2 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Solution</h2><h3 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Option 1: Manually Create Configuration File (Recommended)</h3><h4 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Step 1: Enter the container</h4><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code class="language-bash">docker exec -it openclaw-openclaw-gateway-1 /bin/bash
</code></pre><blockquote style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><p><strong>Note</strong>: Container name may vary. Use<span class="Apple-converted-space"> </span><code>docker ps</code><span class="Apple-converted-space"> </span>to check the actual name.</p></blockquote><h4 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Step 2: Create the configuration file</h4><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Run inside the container:</p><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code class="language-bash">mkdir -p /home/node/.openclaw
cat &gt; /home/node/.openclaw/openclaw.json &lt;&lt; 'EOF'
{
  "gateway": {
    "mode": "local",
    "bind": "lan",
    "port": 18789,
    "controlUi": {
      "enabled": true,
      "allowInsecureAuth": true
    },
    "auth": {
      "mode": "token",
      "token": "your-secure-token-here"
    },
    "trustedProxies": ["192.168.65.0/24", "172.17.0.0/16"]
  }
}
EOF
</code></pre><blockquote style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><p><strong>Important</strong>: Replace<span class="Apple-converted-space"> </span><code>your-secure-token-here</code><span class="Apple-converted-space"> </span>with your own secure token.</p></blockquote><h4 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Step 3: Exit container and restart</h4><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code class="language-bash">exit
docker-compose restart
</code></pre><h4 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Step 4: Access with tokenized URL</h4><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Open in your browser:</p><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code>http://localhost:18789/?token=your-secure-token-here
</code></pre><hr style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><h3 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Option 2: Configure via Onboard Wizard</h3><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code class="language-bash">docker-compose run -it --rm openclaw-cli onboard
</code></pre><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Follow the wizard prompts to complete configuration. The tokenized access URL will be displayed at the end.</p><blockquote style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><p><strong>Note</strong>: If the wizard exits immediately after selecting "Yes", there may be terminal interaction issues. Use Option 1 instead.</p></blockquote><hr style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><h2 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Configuration Parameters Explained</h2>
Parameter | Description
-- | --
allowInsecureAuth: true | Allows HTTP + token authentication, bypassing device pairing requirement
trustedProxies | Trusted proxy IP ranges. 192.168.65.0/24 is Docker Desktop's NAT network
token | Authentication token required to access WebUI

<hr style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><h2 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Verify Configuration</h2><h3 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Check configuration file inside container</h3><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code class="language-bash">docker exec openclaw-openclaw-gateway-1 cat /home/node/.openclaw/openclaw.json
</code></pre><h3 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">View container logs</h3><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code class="language-bash">docker logs openclaw-openclaw-gateway-1
</code></pre><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">If configured correctly, the<span class="Apple-converted-space"> </span><code>pairing required</code><span class="Apple-converted-space"> </span>error should no longer appear after accessing the tokenized URL.</p><hr style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><h2 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">FAQ</h2><h3 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Q: Configuration file created but still not working?</h3><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Make sure you restarted the container:</p><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code class="language-bash">docker-compose restart
</code></pre><h3 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Q: Modified<span class="Apple-converted-space"> </span><code>~/.openclaw/openclaw.json</code><span class="Apple-converted-space"> </span>on host machine but no effect?</h3><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">The host configuration file must be properly mounted into the container to take effect. If the mount configuration is incorrect, create the configuration file directly inside the container.</p><h3 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Q: How to change the token?</h3><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code class="language-bash">docker exec -it openclaw-openclaw-gateway-1 /bin/bash
# Edit configuration file
vi /home/node/.openclaw/openclaw.json
# Or use sed to replace
sed -i 's/old-token/new-token/g' /home/node/.openclaw/openclaw.json
exit
docker-compose restart
</code></pre><h3 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Q: Container name is not<span class="Apple-converted-space"> </span><code>openclaw-openclaw-gateway-1</code>?</h3><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Use the following command to check actual container names:</p><pre style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><code class="language-bash">docker ps --format "table {{.Names}}\t{{.Image}}"
</code></pre><hr style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><h2 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Related Resources</h2><ul style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><li><a href="https://docs.openclaw.ai/install/docker">OpenClaw Docker Installation Docs</a></li><li><a href="https://github.com/openclaw/openclaw/issues/4941">GitHub Issue #4941 - Dashboard "pairing required" when running gateway in Docker Desktop</a></li><li><a href="https://github.com/openclaw/openclaw/issues/4531">GitHub Issue #4531 - Bug: disconnected (1008): pairing required</a></li></ul><hr style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><h2 style="font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">Environment Information</h2><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);">This guide was verified on:</p><ul style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><li>macOS (Docker Desktop)</li><li>OpenClaw 2026.1.30</li><li>Docker Compose v2</li></ul><hr style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><p style="font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);"><em>Last updated: 2026-02-02</em></p># OpenClaw Docker Installation Guide: Fixing "pairing required" / "token mismatch" Errors

## Problem Description

After installing OpenClaw via Docker, when accessing `http://localhost:18789` to open the WebUI, you encounter the following errors:

1. **Initial error**:
   ```
   disconnected (1008): unauthorized: gateway token missing 
   (open a tokenized dashboard URL or paste token in Control UI settings)
   ```

2. **After entering token, error changes to**:
   ```
   disconnected (1008): pairing required
   ```

3. **Or displays**:
   ```
   disconnected (1008): unauthorized: gateway token mismatch 
   (open a tokenized dashboard URL or paste token in Control UI settings)
   ```

### Gateway Log Output

```
[ws] closed before connect conn=xxx remote=192.168.65.1 fwd=n/a 
origin=http://localhost:18789 host=localhost:18789 
code=1008 reason=pairing required
```

---

## Root Cause

This is a known issue caused by **Docker's NAT networking**:

1. Browser connects to `localhost:18789`
2. Docker forwards the request to the container via NAT
3. Gateway sees the source IP as `192.168.65.1` (Docker's internal network address), not `127.0.0.1`
4. Gateway identifies `192.168.65.1` as an **external connection**, not a local one
5. External connections require device pairing, which browsers cannot complete

This issue is particularly common on Docker Desktop for macOS and Windows.

---

## Solution

### Option 1: Manually Create Configuration File (Recommended)

#### Step 1: Enter the container

```bash
docker exec -it openclaw-openclaw-gateway-1 /bin/bash
```

> **Note**: Container name may vary. Use `docker ps` to check the actual name.

#### Step 2: Create the configuration file

Run inside the container:

```bash
mkdir -p /home/node/.openclaw
cat > /home/node/.openclaw/openclaw.json << 'EOF'
{
  "gateway": {
    "mode": "local",
    "bind": "lan",
    "port": 18789,
    "controlUi": {
      "enabled": true,
      "allowInsecureAuth": true
    },
    "auth": {
      "mode": "token",
      "token": "your-secure-token-here"
    },
    "trustedProxies": ["192.168.65.0/24", "172.17.0.0/16"]
  }
}
EOF
```

> **Important**: Replace `your-secure-token-here` with your own secure token.

#### Step 3: Exit container and restart

```bash
exit
docker-compose restart
```

#### Step 4: Access with tokenized URL

Open in your browser:

```
http://localhost:18789/?token=your-secure-token-here
```

---

### Option 2: Configure via Onboard Wizard

```bash
docker-compose run -it --rm openclaw-cli onboard
```

Follow the wizard prompts to complete configuration. The tokenized access URL will be displayed at the end.

> **Note**: If the wizard exits immediately after selecting "Yes", there may be terminal interaction issues. Use Option 1 instead.

---

## Configuration Parameters Explained

| Parameter | Description |
|-----------|-------------|
| `allowInsecureAuth: true` | Allows HTTP + token authentication, bypassing device pairing requirement |
| `trustedProxies` | Trusted proxy IP ranges. `192.168.65.0/24` is Docker Desktop's NAT network |
| `token` | Authentication token required to access WebUI |

---

## Verify Configuration

### Check configuration file inside container

```bash
docker exec openclaw-openclaw-gateway-1 cat /home/node/.openclaw/openclaw.json
```

### View container logs

```bash
docker logs openclaw-openclaw-gateway-1
```

If configured correctly, the `pairing required` error should no longer appear after accessing the tokenized URL.

---

## FAQ

### Q: Configuration file created but still not working?

Make sure you restarted the container:
```bash
docker-compose restart
```

### Q: Modified `~/.openclaw/openclaw.json` on host machine but no effect?

The host configuration file must be properly mounted into the container to take effect. If the mount configuration is incorrect, create the configuration file directly inside the container.

### Q: How to change the token?

```bash
docker exec -it openclaw-openclaw-gateway-1 /bin/bash
# Edit configuration file
vi /home/node/.openclaw/openclaw.json
# Or use sed to replace
sed -i 's/old-token/new-token/g' /home/node/.openclaw/openclaw.json
exit
docker-compose restart
```

### Q: Container name is not `openclaw-openclaw-gateway-1`?

Use the following command to check actual container names:
```bash
docker ps --format "table {{.Names}}\t{{.Image}}"
```

---

## Related Resources

- [[OpenClaw Docker Installation Docs](https://docs.openclaw.ai/install/docker)](https://docs.openclaw.ai/install/docker)
- [[GitHub Issue #4941 - Dashboard "pairing required" when running gateway in Docker Desktop](https://github.com/openclaw/openclaw/issues/4941)](https://github.com/openclaw/openclaw/issues/4941)
- [[GitHub Issue #4531 - Bug: disconnected (1008): pairing required](https://github.com/openclaw/openclaw/issues/4531)](https://github.com/openclaw/openclaw/issues/4531)

---

## Environment Information

This guide was verified on:

- macOS (Docker Desktop)
- OpenClaw 2026.1.30
- Docker Compose v2

---

*Last updated: 2026-02-02*

## Comments


## Links

- None detected yet
