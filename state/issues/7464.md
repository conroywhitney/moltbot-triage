---
number: 7464
title: "[BUG] Memory sync fails with database is not open after successful search (Node 24 + SQLite experimental)"
author: henrybottter
created: 2026-02-02T21:20:28Z
updated: 2026-02-02T21:20:28Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7464
duplicate_of: null
related_issues: [5332]
blocks: []
blocked_by: []
---

## Description

## Bug Description

After a successful `memory search`, the SQLite sync step fails with `Error: database is not open`. Search results return correctly (5 results with scores 0.50-0.79), but the subsequent sync operation cannot access the database.

## Steps to Reproduce

1. Install `openclaw@2026.2.1` on Node.js v24.13.0
2. Run `openclaw memory search "any term"`
3. Observe: search results returned successfully
4. Observe: sync errors in stderr

## Observed Behavior

```
[memory] sync failed (session-start): Error: database is not open
[memory] sync failed (search): Error: database is not open
```

Search works correctly (L2-normalize fix #5332 confirmed working). Sync fails after search completes.

## Expected Behavior

Memory sync should complete without errors after search.

## Environment

- OpenClaw: v2026.2.1 (ed4529e)
- Node.js: v24.13.0
- OS: Windows 10 (10.0.19045)
- SQLite: Node built-in (experimental)

## Possible Cause

Node 24.13.0 logs `ExperimentalWarning: SQLite is an experimental feature and might change at any time` at gateway startup. The SQLite connection may be garbage-collected or closed prematurely before the sync step completes. This was not observed on v2026.1.30.

## Related

- Gateway also logs the SQLite experimental warning at boot
- #5332 (L2-normalize) works correctly â€” this is a separate sync issue
- Not observed on v2026.1.30 (regression in v2026.2.1 or Node 24 interaction)

## Comments


## Links

- None detected yet
