---
number: 3220
title: "Cron job with 'at' schedule fires immediately instead of waiting for scheduled time"
author: dweddepohl
created: 2026-01-28T08:17:57Z
updated: 2026-01-28T15:08:16Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3220
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Description

When creating a cron job with an `at` schedule (one-time reminder), the job fires immediately upon creation instead of waiting for the scheduled time.

## Steps to Reproduce

1. Create a cron job with:
   - `schedule: { kind: 'at', atMs: <future_timestamp> }`
   - `sessionTarget: 'main'`
   - `wakeMode: 'next-heartbeat'`
   - `payload: { kind: 'systemEvent', text: '...' }`

2. The job should wait until the specified `atMs` timestamp before firing

## Actual Behavior

The job fires immediately (within milliseconds of creation):

```
createdAtMs:  1769429034364
lastRunAtMs:  1769429034370  (6ms later!)
scheduled atMs: 1769450400000  (should have been ~6 hours later)
```

The `runs` log confirms it ran immediately:
```json
{
  "ts": 1769429034371,
  "action": "finished",
  "status": "ok",
  "runAtMs": 1769429034370,
  "durationMs": 0
}
```

## Expected Behavior

The job should wait until the `atMs` timestamp before firing.

## Environment

- Clawdbot Gateway
- Schedule type: `at` (one-time)
- Payload type: `systemEvent`
- wakeMode: `next-heartbeat`
- sessionTarget: `main`

## Comments


## Links

- None detected yet
