---
number: 2503
title: "[Feature]: Support http proxy setting in Discord channel"
author: SWQXDBA
created: 2026-01-27T01:59:33Z
updated: 2026-01-30T09:14:28Z
labels: ["enhancement"]
assignees: []
comments_count: 4
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/2503
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
Currently I can't access discord api from local network.
Hope to support configuring proxies for individual channels to connect to instant messaging software, without requiring global solutions such as TUN.

## Proposed solution

Support read and http proxy setting in Discord channel

## Comments

### @fy975713384 (2026-01-30)

你是不是也遇到了 Failed to resolve Discord application id 错误，我本地开启 TUN 也没解决

### @SWQXDBA (2026-01-30)

> 你是不是也遇到了 Failed to resolve Discord application id 错误，我本地开启 TUN 也没解决

是的，说明你tun没生效/仍然有网络问题。解决了网络问题就行。

### @SWQXDBA (2026-01-30)

可以试试本地配置一个代理规则解决。

### @SWQXDBA (2026-01-30)

可行方案（本地 workaround）：把 gateway 拆成两个实例，仅 Discord 走代理，QQ/其它直连。

步骤概要：
1) 复制配置成两份：`clawdbot-qq.json` 与 `clawdbot-discord.json`，分别禁用对方通道，并设置不同 `gateway.port`。
2) systemd 拆两个服务：
   - QQ 服务：不加 proxychains，不设置 HTTP(S)_PROXY；`CLAWDBOT_CONFIG_PATH` 指向 `clawdbot-qq.json`；`ExecStart` 直接 node entry.js。
   - Discord 服务：用 `proxychains4` 包住 `node ... entry.js gateway`；设置 `HTTP_PROXY/HTTPS_PROXY/ALL_PROXY` 指向本地代理（如 127.0.0.1:2080）；`CLAWDBOT_CONFIG_PATH` 指向 `clawdbot-discord.json`。
3) `systemctl daemon-reload` 后分别 restart 两个服务。
4) 验证：Discord 日志出现 logged in / gateway connected；QQ 日志恢复 Ready。

补充：若出现浏览器控制端口冲突，可在 Discord 实例的 config 里设置 `browser.enabled=false` 或调整端口。
该方案无需修改上游代码，能稳定实现‘只让 Discord 走代理’。


## Links

- None detected yet
