---
number: 4117
title: "feat(whatsapp): Support `message read` for WhatsApp channel"
author: zote
created: 2026-01-29T18:12:05Z
updated: 2026-01-29T18:12:05Z
labels: []
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/4117
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

Add support for `message read --channel whatsapp` to fetch chat history from WhatsApp conversations.

## Motivation

When context compaction occurs (especially with fallback/retry scenarios), the agent loses conversation history. Currently, there's no way to proactively fetch WhatsApp message history to recover context or verify what was discussed.

**Use cases:**
- Recovering context after compaction failures
- Verifying messages that may have been missed
- Auditing conversation history for quality assurance
- Agent self-correction when context is lost

## Current State

- `message read` works for Discord and other channels
- WhatsApp returns: `Error: Message action read not supported for channel whatsapp`
- Baileys library already has `loadMessages(jid, count)` function that could power this
- `dmHistoryLimit` / `historyLimit` config options inject history automatically on new messages, but there's no way to fetch history on-demand

## Proposed Solution

Implement the `read` action for the WhatsApp channel using Baileys' `loadMessages()` method.

**CLI usage:**
```bash
clawdbot message read --channel whatsapp --target +1234567890 --limit 20
```

**Expected behavior:**
- Fetch the last N messages from a WhatsApp chat (DM or group)
- Return messages in the same format as other channels
- Support `--before`, `--after`, `--around` options if feasible

## Additional Context

This would significantly improve agent reliability by allowing proactive context recovery instead of relying solely on automatic history injection.

---

*I'm happy to contribute a PR for this feature if the approach is approved.*

## Comments


## Links

- None detected yet
