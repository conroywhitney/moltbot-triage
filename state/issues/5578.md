---
number: 5578
title: "Signal group IDs lowercased during target normalization, breaking group allowlist matching"
author: odonald
created: 2026-01-31T17:37:23Z
updated: 2026-02-02T00:18:38Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/5578
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

Signal group IDs are Base64-encoded and case-sensitive (e.g., `aBcDeFgHiJkLmNoPqRsTuVwXyZ1234567890abcdefg=`).

The default fallback in target normalization lowercases all targets when no plugin-specific normalizer exists:

**`dist/infra/outbound/target-normalization.js:8`**
```javascript
const normalized = plugin?.messaging?.normalizeTarget?.(raw) ?? (raw.trim().toLowerCase() || undefined);
```

**`dist/infra/outbound/outbound-policy.js:35`**
```javascript
return normalizeTargetForProvider(channel, raw) ?? raw.trim().toLowerCase();
```

This breaks group allowlist matching for Signal — the config stores the proper-cased Base64 ID, but runtime comparison uses the lowercased version, so they never match.

### Suggested Fix

Remove `.toLowerCase()` from both fallbacks — just use `.trim()`. 

Channels that genuinely need case-insensitive matching (email addresses, etc.) can implement their own `messaging.normalizeTarget` function in their plugin.

### Workaround

Manually patch both files to remove `.toLowerCase()` and restart the gateway.

## Comments


## Links

- None detected yet
