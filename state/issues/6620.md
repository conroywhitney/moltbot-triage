---
number: 6620
title: "ClawdHub skill installer fails with EACCES in official Docker container"
author: tjetzinger
created: 2026-02-01T21:49:13Z
updated: 2026-02-02T00:16:29Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6620
duplicate_of: null
related_issues: [4130,4485]
blocks: []
blocked_by: []
---

## Description

## Bug

The ClawdHub skill installer (triggered from the OpenClaw control UX skills page) runs `npm install --global clawdhub`, which fails with `EACCES: permission denied` when using the official Dockerfile.

This is the same root cause as #4130, which was fixed in #4485 by configuring npm to use `/home/node/.npm-global`. It appears the fix has either regressed or the ClawdHub installer code path was not covered by that fix.

## Root Cause

The official Dockerfile runs as the `node` user, but `npm install -g` tries to write to `/usr/local/lib/node_modules/` which is owned by root.

## Error

```
Error: EACCES: permission denied, mkdir /usr/local/lib/node_modules/clawdhub
```

Full log: `npm install --global clawdhub` → exit code -13

## Environment

- Official OpenClaw Docker image
- Node v22.22.0
- npm 10.9.4
- OS: Linux 6.8.12-17-pve (x64)
- User: `node` (non-root)

## Workaround

Install locally instead:
```bash
cd /home/node/.openclaw/workspace
npm install clawdhub undici
npx clawdhub --help
```

Note: `undici` is also missing as a dependency — `clawdhub` imports it but does not list it in its package.json dependencies.

## Suggested Fix

Ensure the npm global prefix fix from #4485 applies to the ClawdHub installer path as well. Additionally, `clawdhub` should list `undici` as a dependency in its package.json.

## Comments

### @tjetzinger (2026-02-01)

Correction: PR #4485 was **closed without merging** (closed 2026-02-01). So this bug was never actually fixed — the original issue #4130 remains unresolved.

This affects any npm-based skill installation via the ClawdHub installer in the official Docker image.


## Links

- None detected yet
