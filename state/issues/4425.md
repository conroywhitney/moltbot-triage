---
number: 4425
title: "Gateway crashes on unhandled fetch rejection"
author: acastellana
created: 2026-01-30T06:28:05Z
updated: 2026-01-30T06:28:05Z
labels: []
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/4425
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

The gateway process crashes when a `fetch()` call fails with an unhandled promise rejection.

## Error log

```
[clawdbot] Unhandled promise rejection: TypeError: fetch failed
    at node:internal/deps/undici/undici:14902:13
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
```

## Impact

- Gateway process exits
- All connected clients get disconnected
- ~3-5 second downtime until systemd restarts the service
- Any proxied services (like Sharp dashboard) return 502 during this window

## Expected behavior

Fetch errors should be caught and handled gracefully without crashing the process. The operation can fail/retry, but the gateway should remain running.

## Environment

- Clawdbot version: 2026.1.24-3
- Node.js: v22.22.0
- OS: Linux 6.14.0-37-generic (Ubuntu)

## Suggested fix

Add try/catch around fetch calls or add a global unhandled rejection handler that logs but doesn't crash:

```js
process.on('unhandledRejection', (reason, promise) => {
  console.error('Unhandled Rejection:', reason);
  // Don't exit - just log
});
```

## Comments


## Links

- None detected yet
