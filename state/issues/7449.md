---
number: 7449
title: "Nostr plugin: runtime.channel.reply.handleInboundMessage is not a function"
author: al-munazzim
created: 2026-02-02T21:06:15Z
updated: 2026-02-02T21:06:15Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7449
duplicate_of: null
related_issues: [7448]
blocks: []
blocked_by: []
---

## Description

## Summary

After fixing the subscription filter issue (#7448), the `@openclaw/nostr` plugin successfully receives and decrypts Nostr DMs, but crashes when trying to forward them to the gateway:

```
[nostr] [default] Nostr error (event 883c5152...): runtime.channel.reply.handleInboundMessage is not a function
```

## Root Cause

In `channel.ts` line 230, the plugin calls:
```ts
await runtime.channel.reply.handleInboundMessage({
    channel: "nostr",
    accountId: account.accountId,
    senderId: senderPubkey,
    chatType: "direct",
    chatId: senderPubkey,
    text,
    reply: async (responseText: string) => {
        await reply(responseText);
    },
});
```

But `handleInboundMessage` does not exist in the `PluginRuntime.channel.reply` namespace (checked `dist/plugins/runtime/types.d.ts`). The available methods are:
- `dispatchReplyWithBufferedBlockDispatcher`
- `createReplyDispatcherWithTyping`
- `resolveEffectiveMessagesConfig`
- `resolveHumanDelayConfig`
- `dispatchReplyFromConfig`
- `finalizeInboundContext`
- `formatAgentEnvelope`
- `formatInboundEnvelope`
- `resolveEnvelopeFormatOptions`

The plugin appears to reference an API that was planned but not yet shipped in the runtime.

## Impact

The Nostr DM channel is completely non-functional â€” DMs are received and decrypted but cannot be processed by the agent.

## Environment

- OpenClaw: 2026.2.1 (latest)
- @openclaw/nostr: 2026.2.1 (bundled)
- OS: Ubuntu 24.04

## Comments


## Links

- None detected yet
