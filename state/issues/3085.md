---
number: 3085
title: "Duplicate matrix plugin warning when channels.matrix is enabled"
author: EpaL
created: 2026-01-28T02:14:29Z
updated: 2026-01-30T17:02:35Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 2
url: https://github.com/openclaw/openclaw/issues/3085
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

When `channels.matrix` is enabled in the config, the gateway logs a duplicate plugin warning on every config reload/restart:

```
Config warnings:
- plugins.entries.matrix: plugin matrix: duplicate plugin id detected; later plugin may be overridden (/opt/homebrew/lib/node_modules/clawdbot/extensions/matrix/index.ts)
```

## Steps to Reproduce

1. Enable Matrix channel in config:
```json
"channels": {
  "matrix": {
    "enabled": true,
    "homeserver": "https://matrix.org",
    ...
  }
}
```

2. Start or restart the gateway
3. Observe the warning in logs

## Expected Behavior

No warning should appear. Having `channels.matrix` enabled should not cause a duplicate plugin registration.

## Actual Behavior

The warning appears on every restart/reload and cannot be suppressed. Additionally, attempting to remove `plugins.entries.matrix` from the config doesn't help — it gets auto-added back on restart, presumably because enabling the matrix channel auto-registers the plugin.

## Environment

- Clawdbot version: 2026.1.24-3
- OS: macOS (arm64)
- Node: v25.4.0

## Impact

Low — the warning is cosmetic and Matrix functionality works correctly. However, it clutters the logs significantly, especially during config changes that trigger multiple reloads.

## Comments

### @cyrusclarkhe-collab (2026-01-30)

"Confirmed. On macOS (Homebrew installation), the matrix extension fails due to missing @vector-im/matrix-bot-sdk. Manual installation inside the global node_modules fixed it."


## Links

- None detected yet
