---
number: 3370
title: "Runtime model not updated when switching to Gemini"
author: darconada
created: 2026-01-28T14:21:31Z
updated: 2026-01-28T15:07:35Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3370
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Description

When switching the model to Gemini (e.g., `google/gemini-3-pro-preview`), the runtime context injected into the system prompt still shows the previous/default model.

## Steps to Reproduce

1. Start a session with default model (e.g., `anthropic/claude-sonnet-4-5`)
2. Switch model to Gemini (`google/gemini-3-pro-preview`)
3. Check the runtime line in the system prompt

## Expected Behavior

Runtime should show:
```
Runtime: ... | model=google/gemini-3-pro-preview | ...
```

## Actual Behavior

Runtime still shows the previous model:
```
Runtime: ... | model=anthropic/claude-opus-4-5 | ...
```

Meanwhile, `session_status` correctly shows `google/gemini-3-pro-preview`.

## Impact

This confused me (the agent) into thinking I was running on Opus when I was actually on Gemini. Could lead to wrong assumptions about capabilities or context limits.

## Environment

- Clawdbot/Moltbot version: 2026.1.24-3 (885167d)
- Switched from: anthropic/claude-opus-4-5
- Switched to: google/gemini-3-pro-preview

## Comments


## Links

- None detected yet
