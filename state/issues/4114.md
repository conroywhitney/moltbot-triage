---
number: 4114
title: "[Bug]: openai-codex profile keep adding to Auth-profile.json even I delete it"
author: ohsono
created: 2026-01-29T18:02:22Z
updated: 2026-01-30T08:02:32Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4114
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
The openai-codex profile reviving after I delete the codex on my system. I refreshed the config multiple times deleting or editing doesn't get rid of it. Even with `clawdbot doctor --fix`, this profile keep coming back. Idk where this get from I check every where in my config. 

## Steps to reproduce
1. `rm -f ~/.clawdbot/agents/main/agent/auth-profiles.json`
2. `clawdbot doctor --fix`
3. `vim ~/.clawdbot/agents/main/agent/auth-profiles.json`

## Expected behavior
I would like to get rid of this context from Auth-profile.json
## Actual behavior
üëª ?
## Environment
- Clawdbot version: 2026.1.24-3
- OS:  macos 26.3 (x64) ¬∑ node 23.11.0
- Install method (pnpm/npx/docker/etc): npm

## Logs or screenshots
17:53:01 info agents/auth-profiles {"subsystem":"agents/auth-profiles"} {"profileId":"openai-codex:codex-cli","expires":"2026-01-29T16:54:03.082Z"} synced openai-codex credentials from codex cli

## Comments

### @spiceoogway (2026-01-30)

This issue has already been fixed! üéâ

**Fix commit**: `526303d9a` (Jan 26, 2026) - "refactor(auth)!: remove external CLI OAuth reuse"

## Root Cause
The bug was caused by an automatic credential sync feature that would read OAuth credentials from the Codex CLI and automatically add them to clawdbot's `auth-profiles.json` on every load. Even if you deleted the profile, it would immediately resurrect on the next clawdbot command.

## The Fix
The entire automatic CLI OAuth sync feature was removed for Claude CLI and Codex CLI. This means:
- ‚úÖ The `openai-codex:codex-cli` profile will no longer auto-resurrect
- ‚ö†Ô∏è Users who relied on automatic credential sharing will need to set up credentials separately for clawdbot

## When Available
The fix is in the `main` branch but hasn't been released yet. The latest release is `v2026.1.24-1`, which still has the bug. You'll need to wait for the next release (likely `v2026.1.25` or later) or build from source.

## Workaround (until release)
If you need to stop this now, you can remove the Codex CLI credentials entirely:
```bash
rm -rf ~/.codex/auth.json
# On macOS, also remove from keychain:
security delete-generic-password -s "Codex Auth"
```

This will prevent clawdbot from finding and syncing those credentials.

---

**Files changed in fix**: `src/agents/auth-profiles/external-cli-sync.ts` and ~20 related auth files. Total removal of the problematic auto-sync feature.


## Links

- None detected yet
