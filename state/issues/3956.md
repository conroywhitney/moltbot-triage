---
number: 3956
title: "Feature Request: Add agent_progress hook for long-running task notifications"
author: Ramsbaby
created: 2026-01-29T12:14:27Z
updated: 2026-01-29T12:14:27Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/3956
duplicate_of: null
related_issues: [3945]
blocks: []
blocked_by: []
---

## Description

## Summary

When AI agent runs for extended periods (10+ seconds), users have no feedback that the system is working. A progress hook would enable plugins to send intermediate "still working" messages.

## Use Case

Implementing a "Jarvis-style" status protocol:
- 10s: "Just a moment..."
- 20s: "Organizing thoughts..."
- 30s: "This is a bit complex. Checking..."
- 60s: "Taking longer than expected."
- 120s: "Almost there..."
- 180s+: "Hmm... this is taking a while."

## Proposed Hook

```typescript
// Hook: agent_progress
// Fires periodically during agent execution

interface AgentProgressEvent {
  elapsedMs: number;        // Time since agent start
  sessionKey: string;
  isToolRunning: boolean;   // Currently executing a tool?
  currentTool?: string;     // Tool name if running
}

// Plugin usage
api.on("agent_progress", async (event, ctx) => {
  if (event.elapsedMs > 10000 && event.elapsedMs < 15000) {
    await sendIntermediateMessage("Just a moment...");
  }
}, { priority: 100 });
```

## Configuration

```yaml
agent:
  progressHookIntervalMs: 5000  # Fire every 5 seconds during execution
```

## Alternatives Considered

1. **External timer process** - Too complex, race conditions
2. **Streaming partial responses** - Different purpose, doesn't cover tool execution time
3. **Client-side timeout** - No access to agent state

## Related

This complements #3945 (message_sending hook) for comprehensive response lifecycle control.

## Comments


## Links

- None detected yet
