---
number: 7586
title: "Gateway crashes with uncaught Docker ENOENT when sandbox enabled"
author: mattzirkelbach-pixel
created: 2026-02-03T00:43:22Z
updated: 2026-02-03T00:43:22Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7586
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

Bug Report: Gateway crashes with uncaught Docker ENOENT when sandbox enabled
Version: OpenClaw 2026.2.1 (ed4529e)
Platform: macOS 26.2 (arm64)
Date: February 2, 2026

Summary
When agents.defaults.sandbox.mode is set to "all", the gateway crashes with an uncaught exception if Docker is not installed, requiring manual config reset to recover.

Steps to Reproduce
Set agents.defaults.sandbox.mode: "all" in config
Restart gateway on a machine without Docker installed
Gateway attempts to spawn Docker and crashes
Expected Behavior
Gateway should check for Docker availability before attempting to spawn it
Should fail gracefully with a warning: "Docker not found, disabling sandbox mode"
Should continue running with sandbox disabled, not crash
Actual Behavior
Gateway crashes immediately with uncaught exception:

[openclaw] Uncaught exception: Error: spawn docker ENOENT
    at Process.ChildProcess._handle.onexit (node:internal/child_process:285:19)
    at onErrorNT (node:internal/child_process:483:16)
    at processTicksAndRejections (node:internal/process/task_queues:90:21)
Impact
High severity: Complete service outage
Requires manual config reset (openclaw reset) to recover
User lost configuration multiple times
LaunchAgent auto-restart creates crash loop (15+ crashes observed)
Log Evidence
User experienced multiple crashes in single day:

11:27:11, 23:26:45, 23:27:16, 23:27:45, 23:27:59, 23:28:31, 23:28:43, etc.
Each crash triggered service restart, which immediately crashed again
Only resolved by wiping config with openclaw reset
Suggested Fix
Add Docker availability check before enabling sandbox mode:

if (sandboxMode === 'all') {
  try {
    execSync('docker --version');
  } catch (error) {
    console.warn('Docker not found, disabling sandbox mode');
    sandboxMode = 'off';
  }
}
Workaround
Set agents.defaults.sandbox.mode: "off" explicitly in config to prevent Docker spawn attempts.

Environment
No Docker installation
macOS LaunchAgent service management
Anthropic API key auth

## Comments


## Links

- None detected yet
