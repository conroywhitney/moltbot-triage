---
number: 7354
title: "Signal: normalizeSignalMessagingTarget lowercases base64 group IDs, breaking group targeting"
author: satbot-mdk
created: 2026-02-02T18:43:05Z
updated: 2026-02-02T20:14:13Z
labels: []
assignees: []
comments_count: 1
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/7354
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug

`normalizeSignalMessagingTarget` in `channels/plugins/normalize/signal.js` lowercases Signal group IDs, which are base64-encoded and **case-sensitive**.

### Location

`dist/channels/plugins/normalize/signal.js` → `normalizeSignalMessagingTarget()`

### Code

```javascript
if (lower.startsWith("group:")) {
    const id = normalized.slice("group:".length).trim();
    return id ? \`group:\${id}\`.toLowerCase() : undefined;  // ← BUG: lowercases base64 ID
}
// ...
return normalized.toLowerCase();  // ← also affects bare group IDs
```

### Impact

- Signal group IDs are base64 (e.g. `mJ6qA3MrX09n1PzxIhv1u3KWKd/eDiNoWY0Hy1z2jas=`)
- After normalization: `mj6qa3mrx09n1pzxihv1u3kwkd/edinowy0hy1z2jas=`
- Signal API returns "Group not found" for the lowercased ID
- **Blocks**: `message()` tool sends to groups, reactions via message tool, any proactive sends to Signal groups

### Suggested Fix

Preserve case for group IDs:

```javascript
if (lower.startsWith("group:")) {
    const id = normalized.slice("group:".length).trim();
    return id ? \`group:\${id}\` : undefined;  // preserve base64 case
}
```

The final fallback `return normalized.toLowerCase()` should also check whether the value looks like a base64 group ID before lowercasing.

### Workaround

Inline session replies still work (session already knows the correct group ID). `MEDIA:` tag also works. Only the `message` tool targeting is broken.

### Version

openclaw installed via npm (homebrew), dist compiled JS.

## Comments

### @lailoo (2026-02-02)

I addressed this issue in PR #7425

If you have some time, I'd really appreciate it if you could take a look.

---

**Fix:** Remove `.toLowerCase()` from group ID normalization - base64 is case-sensitive.


## Links

- None detected yet
