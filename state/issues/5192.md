---
number: 5192
title: "Signal channel not receiving messages (SSE subscription fails silently)"
author: AndlerRL
created: 2026-01-31T05:22:24Z
updated: 2026-02-02T00:20:00Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 2
url: https://github.com/openclaw/openclaw/issues/5192
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Report: Signal Channel Not Receiving Messages (SSE Subscription Fails Silently)

### Environment
- **OpenClaw Version:** Latest (installed via npm)
- **Node Version:** v25.2.1
- **OS:** Linux (Arch) 6.17.9-arch1-1
- **signal-cli:** Working correctly in daemon mode

### Issue Description
The Signal channel plugin can **send messages successfully** but **does not receive any messages** (neither DMs nor group messages). The root cause appears to be a silent failure in the SSE (Server-Sent Events) subscription after the signal-cli daemon starts.

### Expected Behavior
After gateway startup, `monitorSignalProvider` should:
1. Start signal-cli daemon with `--receive-mode on-start`
2. Wait for daemon health check (`/api/v1/check`)
3. Connect to SSE endpoint (`/api/v1/events`)
4. Log SSE connection and start receiving events
5. Process incoming Signal messages

### Actual Behavior
1. ✅ signal-cli daemon starts successfully
2. ✅ Health check passes (HTTP 200 on `/api/v1/check`)
3. ❌ **No SSE connection is established**
4. ❌ **No error logs appear** (silent failure)
5. ❌ Messages sent to Signal number/groups are never received by OpenClaw

### Configuration

```json
{
  "channels": {
    "signal": {
      "enabled": true,
      "account": "+123456789",
      "httpUrl": "http://127.0.0.1:8080",
      "receiveMode": "on-start",
      "dmPolicy": "allowlist",
      "allowFrom": ["+123456789"],
      "groupPolicy": "allowlist",
      "groupAllowFrom": ["group:DXdK..."]
    }
  }
}
```

### Debugging Evidence

#### 1. Gateway Logs Show Daemon Startup Only
```
Jan 30 23:13:18 node[26188]: [signal] [default] starting provider (http://127.0.0.1:8080)
Jan 30 23:13:19 node[26188]: [signal] signal-cli: INFO  DaemonCommand - Starting daemon in single-account mode for +123456789
Jan 30 23:13:19 node[26188]: [signal] signal-cli: INFO  HttpServerHandler - Started HTTP server on /127.0.0.1:8080
```

**Missing:** No subsequent logs about SSE connection, reconnection attempts, or errors.

#### 2. Daemon Process Running Correctly
```bash
$ ps aux | grep signal-cli
signal-cli -a +123456789 daemon --http 127.0.0.1:8080 --no-receive-stdout --receive-mode on-start --send-read-receipts
```

#### 3. Health Check Works
```bash
$ curl -v http://127.0.0.1:8080/api/v1/check
< HTTP/1.1 200 OK
```

#### 4. SSE Endpoint Exists But OpenClaw Never Connects
```bash
$ curl -N http://127.0.0.1:8080/api/v1/events?account=+123456789
# (connection established, waiting for events - but OpenClaw never connects)
```

#### 5. Sending Works, Receiving Doesn't
```javascript
// This works ✅
await message({ action: "send", channel: "signal", target: "+50662163355", message: "Test" });
// Result: { channel: "signal", messageId: "1769836024764", timestamp: 1769836024764 }

// But replies to this message never arrive in OpenClaw ❌
```

### Code Paths Analyzed
- **Plugin entry:** `/dist/channels/plugins/signal.js` → `gateway.startAccount`
- **Monitor:** `/dist/signal/monitor.js` → `monitorSignalProvider` (line ~210)
- **SSE loop:** `/dist/signal/sse-reconnect.js` → `runSignalSseLoop`
- **SSE client:** `/dist/signal/client.js` → `streamSignalEvents`

The function `monitorSignalProvider` calls `runSignalSseLoop` at the end, which should establish the SSE connection. However, **no logs appear** after "starting provider", suggesting either:
1. An unhandled promise rejection in `monitorSignalProvider`
2. Error handling that doesn't log
3. Silent hang in `waitForSignalDaemonReady` or `runSignalSseLoop`

### Reproduction Steps
1. Configure Signal channel with valid account and `receiveMode: "on-start"`
2. Start OpenClaw gateway
3. Observe "starting provider" log
4. Send a Signal message to the configured number/group
5. Check logs: no receipt, no SSE connection logs, no errors

### Expected Fix
- Add verbose logging in `monitorSignalProvider` before/after SSE connection
- Ensure promise rejections in `runSignalSseLoop` are properly logged
- Add error handling that surfaces connection failures to journalctl/log file

### Workaround
Currently using WhatsApp channel as alternative. Signal send-only works but is not viable for interactive bot usage.

### Additional Context
- WhatsApp and Discord channels work correctly (receiving messages)
- This suggests the issue is specific to Signal's SSE implementation
- Multiple gateway restarts don't fix the issue
- No errors in `/tmp/openclaw/openclaw-*.log` either

Let me know if you need any additional debugging info!

## Comments

### @JackThursby252 (2026-01-31)

Just ran into the same issue


## Links

- None detected yet
