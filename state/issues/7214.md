---
number: 7214
title: "exec tool: spawn EBADF errno=-9 on macOS arm64 (Node 22.22)"
author: willdoyle22
created: 2026-02-02T15:29:36Z
updated: 2026-02-02T15:57:43Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7214
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

@steipete 
## Environment
- macOS 26.2 (arm64), Mac mini
- Node 22.22.0
- OpenClaw 2026.2.1 (ed4529e)

## Problem
Every exec tool call fails with `spawn EBADF syscall=spawn errno=-9`. 
Gateway retries with no-detach, still fails.
## Key findings
- `node -e "require('child_process').execSync('echo hello', {stdio:'inherit'})"` works fine
- Fails in both LaunchAgent and foreground (gateway run) mode
- Persists after gateway restart, session reset, ulimit -n 10240
- read/write/browser tools work â€” only exec is broken
- Log: `spawn failed (spawn EBADF syscall=spawn errno=-9); retrying with no-detach`

## Likely cause
Something in the exec tool's child_process.spawn configuration 
is passing an invalid file descriptor. Node spawning works outside OpenClaw.

## Comments


## Links

- None detected yet
