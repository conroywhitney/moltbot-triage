---
number: 3777
title: "Add \\"field required\\" to failover error patterns for Google Antigravity"
author: smallzero888
created: 2026-01-29T05:24:28Z
updated: 2026-01-29T05:24:28Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3777
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Problem

When using the Google Antigravity provider, the API occasionally returns a `Field required` validation error. Currently, this error type does not trigger auth profile rotation or model failover, causing the request to fail without attempting other available profiles.

## Suggested Fix

Add `"field required"` to the `ERROR_PATTERNS.format` array in `src/agents/pi-embedded-helpers/errors.ts`:

```typescript
format: [
    "string should match pattern",
    "tool_use.id",
    "tool_use_id",
    "messages.1.content.1.tool_use.id",
    "invalid request format",
    "field required",  // <-- add this
],
Expected Behavior

When a Field required error is received from the provider, Clawdbot should:

1. Mark the current auth profile in cooldown
2. Rotate to the next available auth profile
3. If all profiles are exhausted, fall back to the next model in agents.defaults.model.fallbacks
Context

This error occurs with Google Antigravity (Cloud Code Assist) and should be treated as a failover-worthy format error to improve reliability for users with multiple auth profiles configured.

## Comments


## Links

- None detected yet
