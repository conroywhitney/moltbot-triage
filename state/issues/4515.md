---
number: 4515
title: "[Bug]: OpenClaw (formerly Clawdbot) Telegram: inbound DMs never arrive (getUpdates empty); intermittent 403 “bot was blocked by  the user”"
author: hellosimplerick
created: 2026-01-30T08:43:36Z
updated: 2026-01-30T08:43:36Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4515
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

Summary

 Telegram is configured and reports OK in clawdbot status --deep, but inbound DMs sent to the bot never reach OpenClaw (no
 session created / no inbound logs). Additionally, when OpenClaw attempts to send a Telegram message, Telegram sometimes returns
 403: Forbidden: bot was blocked by the user even though the user reports it is not blocked and the chat has been started
 previously.

 This makes Telegram unusable: messages are sent to the bot in Telegram, but OpenClaw doesn’t see them and/or can’t reliably
 reply.

 ────────────────────────────────────────────────────────────────────────────────

 Environment

 - Product: OpenClaw (formerly Clawdbot)
 - Version: 2026.1.24-3 (commit 885167d)
 - Node: v22.22.0
 - OS: Linux 6.14.0-37-generic (x64)
 - Gateway mode: local loopback
     - bind: 127.0.0.1
     - port: 18789
     - RPC probe: OK
     - Dashboard: http://127.0.0.1:18789/

 ────────────────────────────────────────────────────────────────────────────────

 Telegram configuration (relevant)

 From ~/.clawdbot/clawdbot.json:

 ```jsonc
   {
     "channels": {
       "telegram": {
         "enabled": true,
         "dmPolicy": "open",
         "allowFrom": ["*"],
         "groupPolicy": "allowlist",
         "streamMode": "partial"
         // botToken configured (redacted)
       }
     },
     "bindings": [
       {
         "agentId": "telegram",
         "match": { "channel": "telegram" }
       }
     ]
   }
 ```

 Note: We explicitly tried the “open/unpaired” approach already; it’s already set to open (dmPolicy: "open", allowFrom: ["*"]).

 ────────────────────────────────────────────────────────────────────────────────

 Steps to reproduce

 1. Start OpenClaw gateway (systemd service is running).
 2. In Telegram:
     - Open the bot chat
     - Send /start
     - Send “pong” (and also “what time is it?”)
 3. Observe OpenClaw:
     - No inbound telegram session created
     - No inbound logs indicating the message was received
 4. Sometimes when OpenClaw tries to reply, it errors with 403 “blocked by the user”.

 ────────────────────────────────────────────────────────────────────────────────

 Expected behavior

 - Inbound Telegram DM (“pong”) is received by OpenClaw.
 - A Telegram DM session is created/updated.
 - Agent replies to the message.

 ────────────────────────────────────────────────────────────────────────────────

 Actual behavior

 - Telegram shows OK in clawdbot status --deep, but inbound messages appear to never reach OpenClaw (no updates / no sessions /
 no inbound logs).
 - When a send is attempted, sometimes receive:
     - GrammyError: Call to 'sendMessage' failed! (403: Forbidden: bot was blocked by the user)

 ────────────────────────────────────────────────────────────────────────────────

 Evidence / Diagnostics

 ### clawdbot status --deep (relevant excerpts)

 - Channel health shows:
     - Telegram OK (ok (@chuck2024bot:default:314ms))
 - Telegram configured and enabled.

 ### Telegram bot identity check (direct Telegram API call)

 Calling getMe on the configured token returns:
 - username: @chuck2024bot
 - first_name: chucky

 So the token is valid and the bot exists.

 ### Telegram webhook state

 Calling getWebhookInfo returns:
 - url is empty (no webhook)
 - pending_update_count: 0

 ### Telegram updates are always empty

 Calling getUpdates returns:
 - {"ok": true, "result": []}

 This is true even immediately after sending messages to the bot in Telegram.

 ### Gateway logs

 From /tmp/clawdbot/clawdbot-2026-01-30.log:

 ```text
   2026-01-30T08:07:33.196Z error GrammyError: Call to 'sendMessage' failed! (403: Forbidden: bot was blocked by the user)
   2026-01-30T08:07:33.284Z error [tools] exec failed: GrammyError: Call to 'sendMessage' failed! (403: Forbidden: bot was
 blocked by the user)
   2026-01-30T08:11:38.741Z info ✅ Sent via Telegram. Message ID: 23
 ```

 So:
 - At least one send succeeded (“Message ID: 23”).
 - Another send failed with 403 “blocked”.

 But independently, inbound still isn’t arriving (getUpdates empty).

 ────────────────────────────────────────────────────────────────────────────────

 What we tried already

 - Verified Telegram bot username and token validity via getMe.
 - Verified there is no webhook configured via getWebhookInfo (it’s empty).
 - Confirmed channels.telegram.dmPolicy = "open" and allowFrom=["*"].
 - Sent /start and repeated test messages multiple times in Telegram.
 - Confirmed OpenClaw gateway is up and reachable (RPC probe OK).
 - Confirmed Telegram shows “OK” in OpenClaw status output.
 - Considered “blocked” state in Telegram UI; user reports no unblock option and bot is not blocked.

 ────────────────────────────────────────────────────────────────────────────────

 Hypotheses / Questions

 1. Competing poller: Is it possible another process is polling Telegram updates with the same token (consuming updates), leaving
 OpenClaw seeing getUpdates = []?
     - If yes: is there any OpenClaw-side detection for this (e.g., warning if updates never arrive)?
 2. Polling not running / failing silently: Telegram “OK” health check seems to only validate API access, not actual inbound
 delivery. Is there a debug mode to confirm the long-poll loop is active and fetching updates?
 3. 403 “blocked by the user” may be overloaded: Are there known Telegram states where sendMessage returns 403 “blocked” even if
 the user didn’t block (e.g., chat not initiated, permissions, privacy settings, etc.)? If so, could OpenClaw surface a more
 specific explanation?

 ────────────────────────────────────────────────────────────────────────────────

 Requested guidance

 - What’s the recommended way to capture verbose Telegram plugin logs / enable debugging for inbound update polling?
 - Any CLI commands or config flags to confirm:
     - last successful Telegram getUpdates poll
     - last update_id seen
     - last inbound message timestamp
 - If there’s a known “token being used elsewhere” failure mode, what’s the recommended troubleshooting / mitigation?

 ────────────────────────────────────────────────────────────────────────────────

 Redaction note

 Happy to provide the full log file and full clawdbot status --deep output. Please specify what fields are safe to include (bot
 token is obviously redacted).

## Comments


## Links

- None detected yet
