---
number: 7314
title: "Sub-agent announce injects raw system prompt into channel as user message"
author: tapnl
created: 2026-02-02T17:49:53Z
updated: 2026-02-02T17:49:53Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7314
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

When a sub-agent spawned via `sessions_spawn` completes, the announce step injects the full announce payload (including summarization instructions and stats) into the parent session as a user-role message. On Matrix (and likely other channels), this message is echoed to the room as if the human user sent it.

The user sees the raw internal text including:
- The full sub-agent findings/output
- Token stats, session keys, transcript paths
- The literal instruction: *"Summarize this naturally for the user. Keep it brief (1-2 sentences)..."*

## Expected behavior

The announce payload should be treated as a **system event** or internal-only injection â€” not mirrored to the external channel as a user message. Only the parent agent's response (the natural summary) should be delivered to the channel.

## Reproduction

1. Configure OpenClaw with Matrix channel
2. In a conversation, call `sessions_spawn` with a task
3. Wait for sub-agent to complete
4. Observe: the raw announce payload appears in the Matrix room as a message from the human user
5. Then the agent's natural summary appears as an assistant message

## Environment

- OpenClaw `2026.1.29`
- Channel: Matrix (encrypted room, DM)
- Parent agent model: Opus
- Sub-agent model: Sonnet (via `model` param on `sessions_spawn`)

## Workaround

Agent can reply `ANNOUNCE_SKIP` in the announce step and manually fetch results via `sessions_history`, but this defeats the purpose of the built-in announce flow.

## Comments


## Links

- None detected yet
