---
number: 6880
title: "[Bug]: No graceful degradation when OpenAI billing is locked—user left stranded with no fallback"
author: EmpireCreator
created: 2026-02-02T04:39:57Z
updated: 2026-02-02T04:39:57Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6880
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
When the configured OpenAI API key hit a negative balance (billing lock), the Gateway degraded ungracefully: repeated "agent failed before reply" errors, provider cooldown loops, and no usable fallback path—leaving the user stranded mid-conversation.

## Steps to reproduce
1. Configure OpenClaw with an OpenAI model as primary (e.g., `openai/gpt-5.2`) and/or OpenAI embeddings for memory search.
2. Allow the OpenAI project billing balance to reach $0 or negative (billing lock state).
3. Send messages requiring model calls and/or memory search.
4. Observe repeated failures without graceful degradation.

## Expected behavior
- Clear, stable user-facing error: "OpenAI billing issue detected; I can't call OpenAI right now."
- Automatic failover to a configured fallback provider (e.g., Anthropic).
- If memory search embeddings fail, continue operating without memory search rather than failing repeatedly.
- Avoid spamming "failed before reply" messages; provide one actionable message and retry silently in the background.

## Actual behavior
- Repeated failures with messages like:
  - `⚠️ Agent failed before reply: You exceeded your current quota, please check your plan and billing details.`
  - `⚠️ Agent failed before reply: All models failed (1): openai/gpt-5.2: Provider openai is in cooldown (all profiles unavailable) (rate_limit).`
- User experienced a prolonged non-functional state requiring manual intervention.
- Separate issue encountered during troubleshooting: `HTTP 401 authentication_error: invalid x-api-key` (likely due to key rotation mid-debug—may be unrelated).

## Environment
- **OpenClaw version:** 2026.1.30
- **OS:** macOS 26.2 (arm64)
- **Install method:** OpenClaw macOS app + CLI/LaunchAgent (launchd)
- **Note:** `openclaw doctor` reported a mismatch between app entrypoint and CLI entrypoint

## Logs
*(Redacted excerpts—see above)*

## Comments


## Links

- None detected yet
