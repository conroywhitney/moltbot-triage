---
number: 5763
title: "Fallback models not attempted when primary provider is in cooldown"
author: zote
created: 2026-01-31T23:19:55Z
updated: 2026-02-02T00:17:51Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/5763
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

When the primary model's provider (Anthropic) is in cooldown due to rate limits, the fallback models are not being attempted. The error message shows "All models failed (1)" indicating only the primary model was tried.

## Config

```json
{
  "agents": {
    "defaults": {
      "model": {
        "primary": "anthropic/claude-sonnet-4-20250514",
        "fallbacks": ["openai/gpt-4o", "ollama/glm-4.7:cloud"]
      }
    }
  },
  "models": {
    "providers": {
      "openai": { "baseUrl": "https://api.openai.com/v1", "apiKey": "sk-...", "models": [...] },
      "ollama": { "baseUrl": "http://x.x.x.x:11434/v1", "models": [...] }
    }
  }
}
```

## Expected behavior

When Anthropic is in cooldown, should attempt openai/gpt-4o, then ollama/glm-4.7:cloud

## Actual behavior

Error shows:
```
All models failed (1): anthropic/claude-sonnet-4-20250514: Provider anthropic is in cooldown (all profiles unavailable) (rate_limit)
```

Only 1 model attempted, fallbacks ignored.

## Version

2026.1.30

## Comments

### @zote (2026-02-01)

Working on a PR for this. Will submit shortly.


## Links

- None detected yet
