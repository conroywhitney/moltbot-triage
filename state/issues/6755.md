---
number: 6755
title: "[Bug]: macOS app shutdown Docker Desktop even gateway runs in container or remove"
author: teslamint
created: 2026-02-02T01:25:06Z
updated: 2026-02-02T01:50:31Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6755
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

When launching OpenClaw macOS app, Docker Desktop shutdown without noticing.

## Steps to reproduce

1. Setup gateway within Docker container with Docker Desktop on local Mac machine
2. Start OpenClaw macOS app 

## Expected behavior

Docker Desktop should be running.

## Actual behavior

Docker Desktop shutdown just after launch macOS app.

## Environment

- Clawdbot version: 2026.01.30
- OS: macOS 26.2
- Install method (pnpm/npx/docker/etc): npm (in docker container)

## Logs or screenshots

## Comments

### @teslamint (2026-02-02)

## Additional findings from console logs

### macOS app `portguard` feature detected Docker

```
2026-02-02 10:42:31.672 I  OpenClaw[44147:42f761d] [ai.openclaw:portguard] port sweep starting (mode=remote)
2026-02-02 10:42:31.742 E  OpenClaw[44147:42f7603] [ai.openclaw:portguard] port 18789 was held by com.docker.backend
2026-02-02 10:42:31.743 I  OpenClaw[44147:42f7603] [ai.openclaw:portguard] port sweep done
```

```
2026-02-02 10:43:26.224 I  OpenClaw[44444:42f8b7c] [ai.openclaw:portguard] port sweep starting (mode=remote)
2026-02-02 10:43:26.418 E  OpenClaw[44444:42f8b9d] [ai.openclaw:portguard] port 18789 was held by com.docker.backend
2026-02-02 10:43:26.418 I  OpenClaw[44444:42f8b9d] [ai.openclaw:portguard] port sweep done
```

### Docker Desktop shutdown logs

```
[2026-02-02T00:47:20.218694000Z][com.docker.backend.state] sending desktop state:ExitHealthyState
[2026-02-02T00:47:20.232079000Z][com.docker.backend.electron] shutting down electron processes
[2026-02-02T00:47:20.232014000Z][com.docker.backend.engines] engine linux/libkrun shutdown requested
```

No explicit `POST /app/quit` API call was found in Docker logs at this time.

### Conclusion

The macOS app's `portguard` feature detects when port 18789 is held by `com.docker.backend`. When switching to "This Mac" mode (or possibly on app launch), the portguard appears to terminate Docker Desktop to free up the port, even when the app is configured to use remote gateway mode.

**Expected behavior:** When `gateway.mode` is set to `remote`, the portguard should not attempt to take over port 18789 or terminate processes holding that port.


## Links

- None detected yet
