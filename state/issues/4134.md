---
number: 4134
title: "Feature Request: Configurable Startup Messages and Initialization Hooks"
author: smist37
created: 2026-01-29T18:59:39Z
updated: 2026-01-29T18:59:39Z
labels: []
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/4134
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
Allow users to customize startup greetings and run initialization scripts when a new session begins (`/new` or `/reset`). Currently, the startup message is hardcoded in the system prompt and cannot be modified via workspace configuration files.

## Problem Statement
Users cannot customize:
- The greeting message when a session starts
- Behavior triggered on session initialization (running scripts, etc.)
- Time-based greetings (morning vs. afternoon vs. evening)
- Generic motivational content on startup

This limits personalization and workflow flexibility.

## Proposed Solution

Add a new optional config section to `clawdbot.json` under `agents.defaults`:

```json
{
  "agents": {
    "defaults": {
      "startup": {
        "greeting": "custom",
        "greetingMode": "time-aware",
        "greetingTemplate": {
          "morning": "Good morning! â˜• Time to make it count.",
          "afternoon": "Afternoon push. Let's go. ðŸ’ª",
          "evening": "Evening grind. What's next?"
        },
        "hooks": [
          {
            "event": "session-new",
            "script": "scripts/motivational-quote.sh",
            "showOutput": true,
            "stopOnError": false
          }
        ]
      }
    }
  }
}
```

Additionally, support workspace-level overrides via:
- `STARTUP.md` (workspace file for custom greeting metadata)
- `startup-hooks/` (directory with optional scripts)

## Configuration Options

**`startup.greeting`** (enum: `"default"` | `"custom"` | `"silent"`)
- `"default"`: Use the current hardcoded greeting
- `"custom"`: Use `greetingTemplate` and variables
- `"silent"`: No greeting (useful for automated workflows)

**`startup.greetingMode`** (enum: `"static"` | `"time-aware"`)
- `"static"`: Single template string
- `"time-aware"`: Select template based on time of day (morning, afternoon, evening, night)

**`startup.greetingTemplate`** (string or object)

For static mode:
```json
"greetingTemplate": "Let's build something. What's the task?"
```

For time-aware mode:
```json
"greetingTemplate": {
  "morning": "Good morning. â˜•",
  "afternoon": "Afternoon grind. ðŸ’ª",
  "evening": "Evening hustle. ðŸŒ™",
  "night": "Night owl mode activated. ðŸ¦‰"
}
```

Time zones:
- **Morning**: 05:00 - 11:59
- **Afternoon**: 12:00 - 17:59
- **Evening**: 18:00 - 22:59
- **Night**: 23:00 - 04:59

**`startup.hooks`** (array of objects)
- `event`: Session lifecycle hook (`"session-new"`, `"session-resume"`, etc.)
- `script`: Path to executable script
- `showOutput`: Whether to include output in the greeting
- `stopOnError`: Halt startup if this hook fails

## Workspace Overrides

**`STARTUP.md`** (optional, workspace root)
```markdown
# Session Startup

greetingMode: time-aware
showMotivation: true
timeZone: America/Denver
```

**`startup-hooks/`** (optional directory)
```
startup-hooks/
  â”œâ”€â”€ motivational-quote.sh
  â”œâ”€â”€ daily-inspiration.py
  â””â”€â”€ focus-setter.js
```

Scripts run in order, output captured and optionally displayed. No personal information is exposedâ€”scripts should generate generic, non-personalized output.

## Benefits

1. **Personalization**: Users can craft greetings that match their workflow
2. **Time Awareness**: Different greetings based on time of day (no hardcoded "morning")
3. **Generic Hooks**: Motivational quotes, weather-agnostic tips, etc.â€”no personal data leak
4. **Flexibility**: Support multiple session types (new vs. resume)
5. **Non-Breaking**: Default to current behavior if not configured
6. **Privacy**: No workspace/personal information exposed

## Implementation Notes

- Startup message generation happens *before* system prompt injection
- Time resolved at runtime based on configured timezone
- Hooks execute in sequence; failures logged but don't block (unless `stopOnError: true`)
- Output from hooks formatted consistently (plain text, no code blocks)
- Works with existing session types (main, subagent, etc.)
- Hooks intentionally genericâ€”no access to USER.md or MEMORY.md

## Examples

### Example 1: Time-Aware Generic Greeting
```json
{
  "startup": {
    "greeting": "custom",
    "greetingMode": "time-aware",
    "greetingTemplate": {
      "morning": "Good morning. Let's go. â˜•",
      "afternoon": "Afternoon grind. ðŸ’ª",
      "evening": "Evening mode. Focus up. ðŸŒ™",
      "night": "Night owl shift. âœ¨"
    }
  }
}
```

### Example 2: Static Greeting with Motivational Hook
```json
{
  "startup": {
    "greeting": "custom",
    "greetingTemplate": "Let's ship it.",
    "hooks": [
      {"event": "session-new", "script": "startup-hooks/motivational-quote.sh", "showOutput": true}
    ]
  }
}
```

### Example 3: Silent Mode (No Greeting)
```json
{
  "startup": {
    "greeting": "silent"
  }
}
```

### Example 4: Evening Check-In
```json
{
  "startup": {
    "greeting": "custom",
    "greetingMode": "time-aware",
    "greetingTemplate": {
      "evening": "Evening review. What got done today?"
    }
  }
}
```

## Backward Compatibility

- Default config maintains current behavior (hardcoded greeting)
- Existing workspaces unaffected
- Optional feature, fully opt-in

## Security & Privacy

- Startup hooks have **no access** to personal context files (USER.md, SOUL.md, MEMORY.md, etc.)
- Templates must be genericâ€”no user data embedded
- Scripts should generate non-personalized output only (quotes, tips, etc.)
- All startup data is stateless and non-tracking

## Related Issues
- Users cannot customize startup behavior
- No way to run generic initialization logic on session start
- Cannot use time-of-day for different greetings

## Comments


## Links

- None detected yet
