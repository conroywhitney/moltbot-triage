---
number: 4322
title: "Sub-agent announces don't wake idle sessions immediately"
author: kikilex
created: 2026-01-30T02:35:49Z
updated: 2026-01-30T02:35:49Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4322
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
Sub-agent completion announces are queued and don't trigger an immediate response when the main session is idle. The announce only gets delivered when the next user message arrives, causing a perceived delay in sub-agent completion notifications.

## Expected Behavior
When a sub-agent completes and runs its announce step, the main agent should be woken up immediately to deliver the announcement to the user, even if the session is idle.

## Actual Behavior
- Sub-agent finishes and runs announce step
- Announce goes through the main queue system with debounce
- If main session is idle, the announce waits until the next user message arrives
- User perceives this as "sub-agent finished but I wasn't notified"

## Reproduction
1. Spawn a sub-agent with `sessions_spawn`
2. Wait for sub-agent to complete (while not sending any messages)
3. Notice the announce doesn't appear until you send another message

## Suggested Solutions
1. Sub-agent announces could use a dedicated fast-path that bypasses debounce
2. Announces could wake the session directly instead of going through the queue
3. A config option like `subagents.announceMode: "immediate" | "queued"`

## Environment
- Clawdbot version: 2026.1.24-3
- OS: macOS (Darwin 24.5.0 arm64)
- Channel: Telegram

## Additional Context
From the docs, announces should post "via a follow-up `agent` call (`deliver=true`)" but this follow-up call appears to be subject to queue debouncing rather than triggering immediately.

## Comments


## Links

- None detected yet
