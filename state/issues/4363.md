---
number: 4363
title: "memorySearch.sources does not accept custom paths despite documentation and bot suggestions"
author: CamelSprout
created: 2026-01-30T04:22:25Z
updated: 2026-01-30T04:22:25Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4363
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

There is a mismatch between ClawdBot's documentation, the bot's own suggestions, and the actual implementation regarding adding external directories to memory search.

## Expected Behavior

According to the documentation at https://docs.molt.bot/concepts/memory, it should be possible to add external directories using `extraPaths`:

```json
"memorySearch": {
  "extraPaths": ["../team-docs", "/srv/shared-notes/overview.md"]
}
```

Additionally, when asking ClawdBot itself about adding external sources, it suggests adding paths directly to `sources`:

```json
"sources": [
  "memory",
  "sessions",
  "/mnt/maindisk/Dropbox/Obsidian/Second Brain"
]
```

## Actual Behavior

1. **`extraPaths` is not recognized** - Adding it to config results in:
   ```
   agents.defaults.memorySearch: Unrecognized key: "extraPaths"
   ```

2. **Custom paths in `sources` are rejected** - Adding a path results in:
   ```
   agents.defaults.memorySearch.sources.2: Invalid input
   ```

3. **Symlinks in memory folder are ignored** - Creating a symlink like `~/clawd/memory/obsidian -> /external/path` does not get indexed.

## Root Cause

Looking at the source code in `memory-search.js`, the `normalizeSources()` function only accepts `"memory"` and `"sessions"`:

```javascript
function normalizeSources(sources, sessionMemoryEnabled) {
    const normalized = new Set();
    const input = sources?.length ? sources : DEFAULT_SOURCES;
    for (const source of input) {
        if (source === "memory")
            normalized.add("memory");
        if (source === "sessions" && sessionMemoryEnabled)
            normalized.add("sessions");
    }
    // ...
}
```

Any other value is silently ignored, and the schema validation rejects non-keyword values.

## Environment

- ClawdBot version: 2026.1.24-3
- OS: Arch Linux

## Suggested Fix

Either:
1. Implement `extraPaths` as documented
2. Extend `sources` to accept absolute paths
3. Make symlinks within the memory folder indexable
4. Update documentation to reflect current limitations

## Workaround Attempted

- Symlink in memory folder: Does not work (not indexed)
- Adding path to sources: Validation error
- Using extraPaths: Unrecognized key

## Comments


## Links

- None detected yet
