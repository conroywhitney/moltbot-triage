---
number: 4461
title: "Feature Request: Azure OpenAI Embedding Support"
author: AI-M01
created: 2026-01-30T07:32:21Z
updated: 2026-01-30T09:34:16Z
labels: []
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4461
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
Request to add Azure OpenAI support for the memory search embedding provider.

## Problem
Currently, the OpenAI embedding provider appends `/embeddings` to the baseUrl:
```javascript
const url = \`\${client.baseUrl.replace(/\/$/, "")}/embeddings\`;
```

However, Azure OpenAI uses a different URL format:
```
https://{resource}.openai.azure.com/openai/deployments/{deployment}/embeddings?api-version={version}
```

This makes it impossible to use Azure OpenAI for memory search embeddings, as the path gets malformed.

## Proposed Solutions

### Option 1: Add a dedicated Azure provider
Add `provider: "azure"` with Azure-specific URL construction.

### Option 2: Add a custom path template
Allow users to specify a custom URL template, e.g.:
```json
{
  "memorySearch": {
    "provider": "openai",
    "remote": {
      "urlTemplate": "https://{resource}.openai.azure.com/openai/deployments/{deployment}/embeddings?api-version=2023-05-15"
    }
  }
}
```

### Option 3: Skip /embeddings append when baseUrl already contains it
If the baseUrl already ends with `/embeddings` or contains it in the path, don't append it again.

## Environment
- Clawdbot version: 2026.1.24-3
- Azure OpenAI region: Japan East

## Additional Context
The Azure OpenAI API is OpenAI-compatible for the request/response format, just the URL structure differs. The `api-key` header is already supported via `remote.headers`.

Thanks for considering this! üôè

## Comments

### @davidglassborow (2026-01-30)

https://github.com/openclaw/openclaw/pull/3675


## Links

- None detected yet
