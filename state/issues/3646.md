---
number: 3646
title: "Multiple Critical Channel Bugs in v2026.1.24-3 (Telegram, Nostr, AbortError)"
author: no-data-no-plan
created: 2026-01-29T00:02:24Z
updated: 2026-01-31T23:34:17Z
labels: ["bug"]
assignees: []
comments_count: 2
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/3646
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

# Bug Report: Multiple Critical Issues in v2026.1.24-3

## Environment
- **Version**: 2026.1.24-3
- **OS**: Linux 6.14.0-37-generic (Ubuntu 24.04.3 LTS)
- **Node**: v22.22.0
- **Install method**: npm global

---

## Bug 1: Telegram Channel - Polling Not Processing Messages ðŸ”´ CRITICAL

### Description
Telegram channel is configured and polling is active, but incoming messages are never processed by the gateway.

### Expected Behavior
Messages sent to the bot via Telegram should be received and processed.

### Actual Behavior
- Bot token is valid (API `getMe` works)
- Gateway shows `[telegram] [default] starting provider (@bot_username)`
- `getUpdates` returns messages when manually queried
- But gateway **never processes** incoming messages (no logs, no response)

### Reproduction
1. Configure Telegram channel with valid bot token
2. Start gateway
3. Send message to bot via Telegram
4. Gateway shows no incoming message logs
5. Bot doesn't respond

### Logs
```
[telegram] [default] starting provider (@Aion_moltbot)
# No further logs about incoming messages
```

### Investigation
- Manual `curl` to `getUpdates` shows messages ARE arriving
- Gateway polls successfully (no errors)
- Messages seem to be consumed but silently dropped

---

## Bug 2: Nostr Channel - Invalid Subscription Filter ðŸ”´ CRITICAL

### Description
Nostr channel connects to relays but sends malformed subscription filters, preventing DM reception.

### Expected Behavior
Nostr provider should send valid subscription filters to relays.

### Actual Behavior
All relays reject the subscription with:
```
NOTICE from wss://relay.damus.io/: ERROR: bad req: provided filter is not an object
NOTICE from wss://nos.lol/: ERROR: bad req: provided filter is not an object
NOTICE from wss://relay.primal.net/: ERROR: bad req: provided filter is not an object
```

### Reproduction
1. Configure Nostr channel with valid nsec
2. Start gateway
3. Check logs - all relays report filter error

### Logs
```
[nostr] [default] starting Nostr provider (pubkey: 15175fb816688a941fd9eea62eda1c657cac9b4061fb1068c449ddcd8fc77923)
[nostr] [default] Nostr provider started, connected to 3 relay(s)
NOTICE from wss://relay.damus.io/: ERROR: bad req: provided filter is not an object
```

---

## Bug 3: Unhandled AbortError Crashes ðŸ”´ CRITICAL

### Description
Gateway crashes frequently (~every 7 minutes) with unhandled promise rejection.

### Expected Behavior
Aborted operations should be handled gracefully without crashing.

### Actual Behavior
```
[clawdbot] Unhandled promise rejection: AbortError: This operation was aborted
clawdbot-gateway.service: Failed with result 'exit-code'
```

### Impact
- **218 crashes in 24 hours** before mitigation
- Gateway restarts automatically but loses state
- Affects stability of all channels

### Logs
```
2026-01-28T23:45:38.638Z [clawdbot] Unhandled promise rejection: AbortError: This operation was aborted
```

---

## Bug 4: Missing Dependencies for Plugins ðŸŸ¡ MEDIUM

### Description
Two plugins fail to load due to missing npm dependencies.

### Affected Plugins
- `diagnostics-otel`: Missing `@opentelemetry/api`
- `memory-lancedb`: Missing `@lancedb/lancedb`

### Logs
```
[gateway] [plugins] diagnostics-otel failed to load: Error: Cannot find module '@opentelemetry/api'
[gateway] [plugins] memory-lancedb failed to load: Error: Cannot find module '@lancedb/lancedb'
```

### Workaround
Disable plugins in config:
```json
"diagnostics-otel": { "enabled": false },
"memory-lancedb": { "enabled": false }
```

---

## System Info
```
Clawdbot 2026.1.24-3 (885167d)
Node: v22.22.0
npm: 10.9.4
OS: Linux 6.14.0-37-generic x64
```

---

## Temporary Mitigations Applied
1. Disabled broken plugins
2. Added systemd resilience config:
   - `RestartSec=2`
   - `MemoryMax=1G`
   - `StartLimitIntervalSec=0`
3. Using TUI as workaround (works perfectly)

---

**Impact**: Telegram and Nostr channels are completely non-functional for receiving messages. Only TUI channel works bidirectionally.

## Comments

### @eleaner (2026-01-31)

same here, nostr does not work

### @industriousparadigm (2026-01-31)

Confirming this on v2026.1.30 running on Railway. Same `bad req: provided filter is not an object` from relay.damus.io and nos.lol. Provider starts and connects fine, but subscriptions fail so no DMs are received.


## Links

- None detected yet
