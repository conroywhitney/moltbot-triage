---
number: 7257
title: "Discord: thread-create action always returns 'Unknown Channel' error"
author: leido
created: 2026-02-02T16:18:04Z
updated: 2026-02-02T16:18:04Z
labels: []
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/7257
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Description

The `message` tool's `thread-create` action fails when attempting to create a thread in Discord channels, always returning the error: `Unknown Channel`.

## Steps to Reproduce

1. Configure Discord channel in openclaw.json with correct channel ID
2. Have the bot with proper permissions (including Create Public Threads and Create Private Threads)
3. Attempt to create a thread using the message tool:
   ```json
   {
     "action": "thread-create",
     "channel": "discord",
     "target": "<message_id>",
     "threadName": "Test"
   }
   ```

## Expected Behavior

A new thread should be created from the specified message in the Discord channel.

## Actual Behavior

Returns error: `Unknown Channel`

The thread is not created.

## Additional Context

### Configuration
- Discord channel ID in config: `1465584191084433462`
- Bot permissions include: Create Public Threads, Create Private Threads, Send Messages, Manage Messages
- Channel is in allowlist

### Investigation Findings

1. The underlying Discord plugin has the correct implementation:
   - Function `createThreadDiscord` exists in `dist/discord/send.messages.js`
   - Uses `@buape/carbon` HTTP client
   - Uses `discord-api-types/v10` for API routes

2. The Discord tool schema in `dist/agents/tools/discord-schema.js` defines:
   ```javascript
   {
     action: Type.Literal("threadCreate"),
     channelId: Type.String(),
     name: Type.String(),
     messageId: Type.Optional(Type.String()),
     autoArchiveMinutes: Type.Optional(Type.Number())
   }
   ```

3. The action handler exists in `dist/agents/tools/discord-actions-messaging.js`:
   ```javascript
   case "threadCreate": {
     const channelId = resolveChannelId();
     const name = readStringParam(params, "name", { required: true });
     const messageId = readStringParam(params, "messageId");
     const thread = await createThreadDiscord(channelId, { name, messageId, autoArchiveMinutes }, { accountId });
     return jsonResult({ ok: true, thread });
   }
   ```

4. The `message` tool's `thread-create` action does not appear to correctly map to the underlying Discord plugin's `createThreadDiscord` function.

## Environment

- OpenClaw version: 2026.1.30
- Channel: Discord
- OS: Linux 6.8.0-71-generic (x64)
- Node: v22.22.0

## Comments


## Links

- None detected yet
