---
number: 3486
title: "Cron jobs fire repeatedly instead of once"
author: carl-ai-collab
created: 2026-01-28T17:28:46Z
updated: 2026-01-28T20:55:19Z
labels: []
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3486
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description
Cron jobs configured with `wakeMode: "now"` fire multiple times simultaneously instead of once at the scheduled time.

## Environment
- Clawdbot version: 2026.1.23-1
- macOS 24.6.0 (arm64)
- Node v22.22.0

## Steps to Reproduce
1. Create a one-shot cron job:
```json
{
  "name": "test-reminder",
  "enabled": true,
  "deleteAfterRun": true,
  "schedule": {"kind": "at", "atMs": <future_timestamp>},
  "sessionTarget": "main",
  "wakeMode": "now",
  "payload": {"kind": "systemEvent", "text": "Test reminder"}
}
```
2. Wait for the scheduled time

## Expected Behavior
Job fires once, delivers the systemEvent, and deletes itself (`deleteAfterRun: true`).

## Actual Behavior
- Job fires 10-20+ times simultaneously at the scheduled time
- Each firing delivers a duplicate systemEvent
- `deleteAfterRun` never triggers (job keeps firing)
- Gateway becomes unresponsive after repeated firings
- Disabling the job in jobs.json has no effect until gateway restart (jobs cached in memory)

## Additional Issues Observed
- Jobs that error (e.g., `lastError: "empty-heartbeat-file"`) retry indefinitely instead of respecting `deleteAfterRun`
- Gateway times out on cron API calls when jobs are rapidly firing

## Workaround
Delete problematic jobs and restart gateway. Cron is currently unusable for reliable one-shot reminders.

## Comments

### @Glucksberg (2026-01-28)

Linking related cron scheduling issues:

**Related Issues:**
- #3220 - Cron job with 'at' schedule fires immediately instead of waiting
- #2813 - Cron job scheduled but never fired during event loop silence
- #3520 - Cron delivery routing picks up wrong target
- #3535 - Cron systemEvent runs can spam last active chat channel

**PRs that may address cron timing:**
- #3335 - Fixes cron jobs
- #2990 - fix: Re-arm cron service timer with a delay if already running
- #2183 - fix(cron): anchor 'every' jobs to lastRunAtMs instead of now

The timing/scheduling issues seem to have multiple root causes that different PRs are addressing.


## Links

- None detected yet
