---
number: 7330
title: "sessions_spawn model parameter not applied to subagent"
author: ekinsolbot
created: 2026-02-02T18:05:04Z
updated: 2026-02-02T18:05:04Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7330
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

The `model` parameter in `sessions_spawn` returns `modelApplied: true` but the spawned subagent still runs on the parent agent's default model instead of the requested model.

## Steps to Reproduce

1. Configure main agent with `model.primary: anthropic/claude-sonnet-4-5`
2. Spawn a subagent with `model: "anthropic/claude-opus-4-5"` (or alias `opus`)
3. Subagent reports running on Sonnet, not Opus

## Expected Behavior

Subagent should run on the model specified in the `model` parameter.

## Actual Behavior

- `sessions_spawn` returns `{ status: "accepted", modelApplied: true }`
- But the subagent's runtime header shows `model=anthropic/claude-sonnet-4-5`
- Session list shows the subagent session with `model: "claude-sonnet-4-5"`

## Investigation

Looking at `sessions-spawn-tool.js`, the flow is:
1. Call `sessions.patch(childSessionKey, model)` to set the model
2. Call `agent(childSessionKey, message)` to start the run

The `sessions.patch` appears to succeed, but the `agent` call seems to use the agent-level default model instead of the session-level override.

**Evidence:** `sessions.patch` works on existing sessions (tested by patching main session to Opus successfully), but for newly created subagent sessions the model override is not applied.

## Environment

- OpenClaw version: 2026.2.1
- OS: macOS (Darwin 25.2.0 arm64)
- Node: v22.22.0

## Config (relevant parts)

```json
{
  "agents": {
    "defaults": {
      "model": { "primary": "anthropic/claude-opus-4-5" },
      "subagents": { "maxConcurrent": 8 }
    },
    "list": [
      {
        "id": "main",
        "model": { "primary": "anthropic/claude-sonnet-4-5" }
      }
    ]
  }
}
```

## Comments


## Links

- None detected yet
