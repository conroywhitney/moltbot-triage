---
number: 6328
title: "[Bug]: Gemini model leaks <think>/<final> tags to user output"
author: Aloira-ai
created: 2026-02-01T14:55:54Z
updated: 2026-02-01T20:58:43Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/6328
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
When using Gemini models (e.g., `gemini-3-pro-high`), the `<think>...</think>` and `<final>...</final>` tags are sent directly to the user instead of being filtered out. Claude models do not have this issue.

## Expected Behavior
Only the content inside `<final>` should be visible to the user. The `<think>` block should be hidden/stripped by the Gateway before sending to the channel.

## Actual Behavior
The entire response including `<think>` and `<final>` tags is sent to the user via Telegram.

## Environment
- OpenClaw version: 2026.1.30
- Channel: Telegram
- Model: `google-antigravity/gemini-3-pro-high`
- Provider: google-antigravity (OAuth)

## Additional Context
Claude models (e.g., `claude-opus-4-5-thinking`) correctly hide the `<think>` block and only output `<final>` content. This suggests the Gateway may need model-specific post-processing for Gemini.

## Comments


## Links

- None detected yet
