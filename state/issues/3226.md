---
number: 3226
title: "[Bug] session_status tool fails validation when called with no arguments"
author: lava-clawman
created: 2026-01-28T08:30:57Z
updated: 2026-01-30T20:02:43Z
labels: ["bug"]
assignees: []
comments_count: 2
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/3226
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

When the LLM calls `session_status` with no arguments (as documented - all parameters are optional), validation fails with:

```
Validation failed for tool "session_status":
  - root: must be object

Received arguments:
undefined
```

## Expected Behavior

The `session_status` tool should accept calls with no arguments, as all parameters are documented as optional.

## Actual Behavior

The tool returns a validation error. After this error, the session becomes unresponsive - no further messages from the user receive replies. The session had to be manually cleared via the web interface to recover.

## Steps to Reproduce

1. In a conversation, have the LLM call `session_status` without any arguments
2. Tool returns validation error
3. Session becomes stuck - subsequent user messages are not processed

## Session Log Evidence

```json
{
  "timestamp": "2026-01-27T20:20:49.797Z",
  "message": {
    "role": "toolResult",
    "toolName": "session_status",
    "content": [{
      "type": "text",
      "text": "Validation failed for tool \"session_status\":\n  - root: must be object\n\nReceived arguments:\nundefined"
    }],
    "isError": true
  }
}
```

## Environment

- Provider: google-antigravity
- Model: claude-opus-4-5-thinking
- Session became completely unresponsive after this error

## Impact

- **Severity**: High - causes complete session failure
- **Workaround**: Clear session via web interface and start fresh (loses all context)

## Comments

### @anapivirtua (2026-01-30)

Confirming this issue — hit the exact same behavior today.

**Environment:**
- Provider: google-antigravity
- Model: claude-opus-4-5-thinking
- Channel: webchat

**Reproduction:**
Asked the agent about quota/usage → it called `session_status` with no arguments → validation failed → session completely hung until `/new`.

The error message matches exactly:
```
Validation failed for tool "session_status": root: must be object
Received arguments: undefined
```

This is a pretty rough UX since the only recovery is nuking the session and losing all context. Would love to see this prioritized.

### @web3flashme (2026-01-30)

## Related: Corrupted Tool Call Poisons Session Context

Encountered a related but broader manifestation of this issue today.

**Scenario:**
After a version support fix, a malformed tool call was persisted to session history with missing `input` field:

```
Cloud Code Assist API error (400): 
{"type":"error","error":{"type":"invalid_request_error",
"message":"messages.51.content.1.tool_use.input: Field required"}}
```

**Impact:**
- Every subsequent message replays this corrupted context to the API
- API rejects the request (Claude 400, Gemini 429 from retries)
- Session is completely stuck — switching models doesn't help because the poison is in the persisted history
- Only fix: delete the session file manually or reset via web UI

**Root Cause (both issues):**
1. A tool call with invalid/missing parameters gets written to session history
2. Session replay includes this malformed message on every turn
3. API validation fails repeatedly → session becomes unusable

**Suggested Fix:**
- Sanitize tool calls before persisting (strip or repair malformed entries)
- Or: provide a way to manually prune specific messages from session history without full reset
- Or: auto-detect repeated API validation failures and offer to truncate context

This seems like a class of bugs rather than a single edge case. The `session_status` no-args issue is one trigger, but any malformed tool call that gets persisted will cause the same cascade failure.


## Links

- None detected yet
