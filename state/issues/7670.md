---
number: 7670
title: "TUI renders raw binary WebSocket/protocol frames as garbled Unicode in scroll buffer"
author: RichClarkeAI
created: 2026-02-03T03:19:18Z
updated: 2026-02-03T03:19:18Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7670
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Environment
- OpenClaw version: 2026.2.1 (also reproduced on 2026.1.30)
- Platform: Ubuntu Linux (systemd user service)
- Gateway port: 18789

## Description
Raw binary protocol frames are being rendered as garbled Unicode characters in the TUI scroll buffer. The data is visible when scrolling back in the TUI. It appears as large blocks of random CJK, Korean, and symbol characters interspersed with terminal BEL characters (which produce audible "dong" sounds from the system speaker).

## Trigger
- Occurs when the gateway is processing ("thinking") - i.e., during model inference/streaming
- Also triggered when loading chat history on TUI startup
- Reproduces consistently on every TUI session

## Analysis
The data is clearly structured binary protocol frames, not random noise:
- **`杏卧`** repeats at regular intervals as a fixed frame header/delimiter
- **`鸩班`** appears immediately after each `杏卧` as a secondary header
- The byte following `鸩班` increments sequentially (˗, ˘, ˙, ˚, ˛, ˜, ˝, ˞, ˟, ˠ, ˡ... then ̀, ́, ̂... then ͂, ̓, ̈́... etc.) — this is a **frame sequence counter**
- **`＂`** appears in every frame block as another fixed header byte
- Terminal BEL (0x07) bytes embedded in the data cause audible bell sounds

This pattern strongly suggests WebSocket frames or internal RPC protocol data is being written directly to the TUI's text buffer instead of being parsed/consumed by the transport layer.

## Impact
- Visual glitch: screen fills with garbled characters momentarily during model inference
- Audible annoyance: terminal bell sounds repeatedly during processing  
- Scroll buffer pollution: hundreds of lines of binary data persist in the scroll buffer

## Sample Data
```
杏卧윀                                                             
鸩班̥ⳉ㬈＂쓪踿ጿ忈恟沧뇟陋穀黺멄릦돣ᡇ마꽩똷ꭧ꿟퓮諭Ო倡誵擠ṧ䵫茰썦迧磁澎㭎⣼Ǐꅪ 
㔳ꔖﰝ鱶罤ਔ䦂樮⑱悭᳽뎪Ⲿ㱷缦鍕ꃓ勜鬩웉ㄯ䥥앩涰ֽ峖쁮ꍒ킗䥞惡ܰ襾㝖ਬ୦᧵籃ྐྵ殝ᅚ  
...
杏卧캀                                                        
鸩班̧鑾＂歁⋿⽮Ủ혂掤贛톉첆䊴䗶颙⽡ᛖ齮쩀蚏꣍掺盕ᷴϻ큞㐨렷돇췚먫켃ݾ⅖핻㡠渌붒츳᤾ﺤ  
...
```

Note the incrementing sequence bytes after `鸩班`: `̥`, `̦`, `̧`, `̨`, `̩`, `̪`... confirming this is sequenced protocol data.

## Expected Behavior
Binary protocol/transport frames should be consumed by the transport layer and never rendered in the TUI text buffer.

## Workaround
None known. The visual glitch is brief but the scroll buffer pollution persists for the session.

## Comments


## Links

- None detected yet
