---
number: 4658
title: "Feature: Intelligent model routing based on query complexity"
author: kasperbjerby
created: 2026-01-30T13:39:08Z
updated: 2026-01-30T13:39:08Z
labels: []
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/4658
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

Add intelligent model routing that uses a cheap/fast model to evaluate query complexity and route to the appropriate model based on task requirements and cost.

## Current Behavior

- Primary model receives all requests
- Fallbacks only trigger on primary model failure
- No automatic selection based on query type or complexity

## Proposed Behavior

```
User message → Cheap router model (scores complexity 1-10) → Routes to appropriate model
```

**Simple queries** (smart home commands, weather, simple lookups) → Free/cheap model  
**Complex queries** (code debugging, analysis, creative writing) → Premium model (e.g., Opus)

## Why This Matters

- **Token economy**: Premium models like Claude Opus are expensive. Many queries don't need that horsepower.
- **Speed**: Simpler models respond faster for trivial tasks.
- **User experience**: Automatic optimization without manual `/model` switching.

## Possible Implementation

1. Configurable router model (default to cheapest available)
2. Complexity scoring prompt (task type + estimated difficulty)
3. Model selection rules based on score thresholds
4. Optional: Let users define routing rules per task category

## Example Config (hypothetical)

```json
{
  "agents": {
    "defaults": {
      "routing": {
        "enabled": true,
        "routerModel": "openrouter/qwen/qwen3-4b:free",
        "thresholds": {
          "simple": { "maxScore": 3, "model": "openrouter/llama-3.3-70b:free" },
          "medium": { "maxScore": 6, "model": "anthropic/claude-sonnet-4-5" },
          "complex": { "minScore": 7, "model": "anthropic/claude-opus-4-5" }
        }
      }
    }
  }
}
```

Would love to see this as a native feature! Happy to discuss implementation details.

## Comments


## Links

- None detected yet
