---
number: 4753
title: "Feature: Optional context status footer in channel replies"
author: CREWorx
created: 2026-01-30T16:17:36Z
updated: 2026-01-30T16:17:36Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4753
duplicate_of: null
related_issues: [4747]
blocks: []
blocked_by: []
---

## Description

## Summary

Add an optional config to append context window usage to outbound messages on messaging channels (Telegram, Discord, etc.).

Example footer:
```
ðŸ“Š 45k/200k (22%)
```

## Motivation

- TUI shows context status in the interface chrome, but messaging channels have no equivalent
- Users often hit context limits unexpectedly because there is no visibility into usage
- Manual compaction is the recommended approach, but users need to know *when* to compact
- Related to compaction issues where auto-compaction fails silently (#4747)

## Proposed Config

```json
{
  "messages": {
    "contextFooter": {
      "enabled": true,
      "format": "minimal",
      "channels": ["telegram", "discord"],
      "threshold": 0
    }
  }
}
```

Options:
- `enabled`: Toggle the feature
- `format`: `"minimal"` (just `ðŸ“Š 45k/200k (22%)`) or `"verbose"` (include model name, etc.)
- `channels`: Which channels to apply this to (default: all)
- `threshold`: Only show when context exceeds X% (e.g., `50` = show only when >50% full)

## Implementation Notes

- Session token info is already available via `params.mirror?.sessionKey` in `sendMessage`
- Could reuse logic from `commands/status.summary.js` which already calculates `percentUsed`
- Append to message content before `deliverOutboundPayloads` is called

## Alternatives Considered

- **Agent self-appending**: Works but adds overhead (extra API call per response)
- **Periodic alerts only**: Less useful than continuous visibility
- **Channel-specific UI**: Not feasible for most messaging platforms

## Comments


## Links

- None detected yet
