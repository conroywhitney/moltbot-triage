---
number: 6424
title: "[Bug]: Telegram & WhatsApp DMs received but no replies sent (Windows, 2026.1.24-3)"
author: RaSDrEaDAI
created: 2026-02-01T17:00:20Z
updated: 2026-02-01T17:00:20Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6424
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

Environment

Clawdbot version: 2026.1.24-3 (build 885167d)
​

OS: Windows 10.0.26200 x64
​

Node: v22.18.0
​

Install type: global npm + gateway running as Windows Scheduled Task (now also tested via clawdbot gateway --verbose)
​
​

Channels enabled:

Telegram (bot: @rasdreadai_bot) – ON / OK in clawdbot status --all
​

WhatsApp – configured, but same behavior (inbound only, no outbound)

channels.telegram config

json
"channels": {
  "telegram": {
    "dmPolicy": "open",
    "botToken": "REDACTED",
    "allowFrom": ["*"],
    "groupPolicy": "open",
    "streamMode": "partial"
  }
}
Matches Telegram channel docs for open DMs.

Bridge / model setup

Gateway agent model: openrouter/moonshotai/kimi-k2.5 (via custom bridge).
​

Bridge exposes /v1/chat/completions and returns a standard OpenAI ChatCompletion object (id, model, choices[n].message, usage). Example tail of bridge code:

ts
// After LLM processing (with or without tool calls)
console.log('[DEBUG] Orchestration complete');

return {
  id: llmResponse.id || `chat-${Date.now()}`,
  model: chatBody.model || MODEL_ID,
  choices: [choice],
  usage: llmResponse.usage || {
    prompt_tokens: 0,
    completion_tokens: 0,
    total_tokens: 0,
  },
};

app.post("/v1/chat/completions", async (req, res) => {
  const { messages, model, temperature, max_tokens } = req.body;
  const chatBody = { model: model || MODEL_ID, messages, temperature: temperature ?? 0.1, max_tokens: max_tokens || 2048 };
  const chatRes = await runChatOrchestration(chatBody);
  res.json({
    id: chatRes.id,
    object: "chat.completion",
    created: Math.floor(Date.now() / 1000),
    model: chatRes.model,
    choices: chatRes.choices.map((choice, index) => ({
      index,
      message: choice.message,
      finish_reason: "stop",
    })),
    usage: chatRes.usage,
  });
});
What works

Gateway & dashboard:

clawdbot gateway status shows Runtime: running, RPC probe: ok, dashboard at http://127.0.0.1:18789/ loads fine.
​
​

Chat in the dashboard (agent:main:main) works end‑to‑end; Kimi responds, history updates, and I see full assistant messages in the UI.
​

Telegram inbound:

Token is valid (getMe, getWebhookInfo, getUpdates all OK).
​
​

Gateway log shows updates being received whenever I DM the bot:

text
[telegram] [default] starting provider (@rasdreadai_bot)

16:29:37 [telegram] update: {"update_id":168333092,"message":{"message_id":359,"from":{"id":1296282811,...},"text":"yo"}}
16:30:56 [telegram] update: {"update_id":168333093,"message":{"message_id":360,"from":{"id":1296282811,...},"text":"messaging from telegram. can you respond?"}}
16:35:31 [telegram] update: {"update_id":168333094,"message":{"message_id":361,...,"text":"testing"}}
16:36:42 [telegram] update: {"update_id":168333095,"message":{"message_id":362,...,"text":"hey"}}
​

Agent runs after Telegram messages:

Right after chatting in the dashboard (and sometimes after Telegram DMs), I see embedded agent runs tied to the main session:

text
[ws] ⇄ res ✓ chat.send ... messageChannel=webchat
[agent/embedded] embedded run start: runId=..., sessionId=8c6de07d-...
[agent/embedded] embedded run agent end: runId=...
[ws] → event chat seq=...
[ws] ⇄ res ✓ chat.history ...
​

Bridge logs show:

text
DEBUG LLM response received: Hey! Chat's working fine. What's on your mind?...
DEBUG No tool calls requested, returning direct response
DEBUG Orchestration complete
​

WhatsApp inbound:

Similar behavior to Telegram (messages reach the gateway, but no reply is sent back over WhatsApp).

What does not work

Telegram:

DMs to the bot never receive a reply in Telegram, despite:

channels.telegram config being valid.

dmPolicy: "open" and allowFrom: ["*"].

Updates being logged as shown above.

Agent runs and chat.history refreshes in the dashboard.

No log line ever indicates a Telegram send/dispatch; replies only appear in the dashboard webchat for agent:main:main.

WhatsApp:

Same pattern: inbound message reaches gateway/agent, but no reply appears back on WhatsApp.

Manual HTTP send:

Attempting to POST to http://127.0.0.1:18789/api/message (from docs/blog examples) returns Method Not Allowed; that endpoint is not exposed in this gateway build, so I cannot manually force a Telegram send for debugging.

Repro steps

Start gateway on Windows:

text
clawdbot gateway --verbose
Verify status:

text
clawdbot gateway status
clawdbot status --all
→ Gateway running, Telegram channel ON / OK, local dashboard reachable.
​
​

DM the Telegram bot (@rasdreadai_bot) “testing” from account id=1296282811.

Observe in \\tmp\\clawdbot\\clawdbot-2026-02-01.log:

update: {... "text":"testing"} (Telegram inbound).

Embedded agent run with Kimi (provider=openrouter model=moonshotai/kimi-k2.5).

event chat and chat.history updates for webchat.

No Telegram send / dispatch logged.

Telegram client never shows a reply.

Repeat the same flow via WhatsApp channel → same result (inbound only, no outbound).

Expected behavior (per docs)

For DMs with dmPolicy: "open" and allowFrom: ["*"], Clawdbot should treat the conversation as a channel‑bound session:

Telegram/WhatsApp message → normalized into the main agent session.

Agent reply → routed back to the originating channel (Telegram or WhatsApp), not only to webchat.

Actual behavior

Telegram and WhatsApp DMs are received and processed, but the agent’s reply is only rendered in the webchat UI, never sent back over those channels. There is no documented way (and no working /api/message endpoint) to manually push a message out for further debugging.

Questions / help needed

Is this a known limitation or bug for Telegram/WhatsApp channel routing on Windows in 2026.1.24-3?

Is there a config flag or mapping I should set so that Telegram/WhatsApp DMs use a session whose replies are routed back over those channels instead of messageChannel=webchat?

If /api/message is not the right internal API for manual sends in this build, is there another supported way to trigger a Telegram send for testing?

Happy to provide the full (redacted) clawdbot.json and the complete log file if that helps.

## Comments


## Links

- None detected yet
