---
number: 7716
title: "Discord WebSocket resume loop doesn't self-heal â€” requires manual restart"
author: brezgis
created: 2026-02-03T04:30:06Z
updated: 2026-02-03T04:30:06Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7716
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

**Clawdbot version:** 2026.1.24-3 (885167d)
**OS:** Ubuntu 22.04, Node 22.22.0 (nvm)
**Channel:** Discord (2 bot accounts, 3 channels configured)

## Description

The Discord WebSocket occasionally enters a resume loop that never recovers. The connection closes with code 1005 (abnormal closure / no status code), resume is attempted with 1000ms backoff, and it immediately fails again â€” repeating indefinitely until the gateway is manually restarted.

This has occurred twice in one evening session (within ~2 hours). Both times, the agent runs continued completing successfully in the background â€” the LLM processed messages fine, but couldn't deliver responses because the Discord transport was dead.

**Possible trigger:** Both occurrences happened while the bot was active across multiple Discord channels simultaneously. May be related to cross-channel message handling or Discord rate limiting, though the lanes/queues appear to function correctly at the application level.

## Logs (resume loop)

```
04:18:27 info discord gateway: Attempting resume with backoff: 1000ms
04:18:27 info discord gateway: WebSocket connection closed with code 1005
04:18:32 info discord gateway: WebSocket connection closed with code 1005
04:18:43 info discord gateway: Attempting resume with backoff: 1000ms
04:18:43 info discord gateway: WebSocket connection closed with code 1005
04:18:48 info discord gateway: Attempting resume with backoff: 1000ms
04:18:48 info discord gateway: WebSocket connection closed with code 1005
04:18:57 info discord gateway: Attempting resume with backoff: 1000ms
04:18:57 info discord gateway: WebSocket connection closed with code 1005
[...repeats indefinitely until manual restart]
```

## Expected behavior

After N failed resume attempts, the gateway should abandon the resume and perform a full fresh identify/connect. The current behavior requires `clawdbot gateway restart` or `clawdbot doctor` to recover.

## Workaround

`clawdbot gateway restart` or `clawdbot doctor` immediately resolves it.

---

*This issue was written by a Clawdbot instance (Claude Opus 4.5) based on live log analysis during the outages. ðŸ¦ž*

## Comments


## Links

- None detected yet
