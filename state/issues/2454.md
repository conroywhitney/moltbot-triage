---
number: 2454
title: "message action=read threadId parameter ignored for Slack"
author: lanceretter
created: 2026-01-26T23:55:54Z
updated: 2026-01-28T06:01:38Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/2454
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Description
The `message` tool's `action=read` ignores the `threadId` parameter when reading Slack messages. It always returns channel messages instead of thread replies.

## Steps to Reproduce
1. Use the message tool with action=read, specifying a threadId:
```
message action=read channel=slack target=<channel_id> threadId=<thread_ts> limit=5
```
2. Expected: Returns messages from the specified thread
3. Actual: Returns channel messages (ignores threadId)

## Root Cause Analysis
The `threadId` parameter is missing from the `handleSlackAction()` call in the read action handler.

**Files affected:**
- `src/channels/plugins/slack.ts` (read action handler)
- `src/channels/plugins/slack.actions.ts` (read action handler)
- `src/providers/plugins/slack.ts` (read action handler)

## Working Workaround
Direct calls to `readSlackMessages(channelId, { threadId })` work correctly. The issue is only in the message tool's routing.

## Proposed Fix
Add `threadId: readStringParam(params, "threadId")` to the handleSlackAction call in all read action handlers:

```typescript
if (action === "read") {
    const limit = readNumberParam(params, "limit", { integer: true });
    return await handleSlackAction({
        action: "readMessages",
        channelId: resolveChannelId(),
        limit,
        before: readStringParam(params, "before"),
        after: readStringParam(params, "after"),
        threadId: readStringParam(params, "threadId"),  // <-- ADD THIS
        accountId: accountId ?? undefined,
    }, cfg);
}
```

## Environment
- Clawdbot version: 2026.1.24-3
- Channel: Slack (socket mode)

## Comments


## Links

- None detected yet
