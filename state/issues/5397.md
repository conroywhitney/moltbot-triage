---
number: 5397
title: "Cron scheduler infinite loop when nextRunAtMs is in the past"
author: r0yb0ymana
created: 2026-01-31T12:47:47Z
updated: 2026-02-02T00:19:14Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/5397
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Description
When a cron job has `nextRunAtMs` set to a time in the past, the scheduler fires repeatedly trying to "catch up", causing an infinite loop (hundreds of fires per second).

## Steps to Reproduce
1. Add a cron job with a schedule that resolves to a past time
2. Or: manually edit `jobs.json` to set `nextRunAtMs` to a past timestamp
3. Observe the job firing in a rapid loop

## Observed Behavior
- Job fires hundreds of times per second
- Each fire triggers session messages
- Gateway becomes unresponsive
- Only fix is manually cleaning `jobs.json` and restarting

## Expected Behavior
If `nextRunAtMs < now`:
- Fire once (or skip)
- Reschedule to next valid future time
- Do not loop

## Suggested Fixes
1. Scheduler guard — fire once max, then reschedule
2. Rate limiting — no job fires more than 1x/min
3. Auto-disable — if >10 fires in 60s, disable + warn
4. Validation on add — reject past-dated jobs

## Comments


## Links

- None detected yet
