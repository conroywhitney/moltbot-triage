---
number: 2835
title: "[Feature]: Prefill"
author: minho3141
created: 2026-01-27T15:45:21Z
updated: 2026-01-27T15:46:38Z
labels: ["enhancement"]
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/2835
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

Clawdbot currently supports customizing the system prompt via workspace files (`SOUL.md`, `AGENTS.md`, etc.), but there's no way to use Claude API's "prefill" feature — pre-populating the beginning of the assistant's response.

Prefill is useful for:
- Enforcing consistent response formatting
- Stronger persona/character adherence than system prompts alone
- Controlling output format (JSON, specific language, etc.)
- Guiding the model past initial hedging or refusal patterns

## Proposed solution

Add support for a `PREFILL.md` (or `PREFILL.txt`) workspace file that gets injected as a partial assistant message before each API call.

Example:
```markdown
# ~/clawd/PREFILL.md
Understood. I'll respond as Root:

```

This would translate to:
```python
messages = [
    {"role": "user", "content": "..."},
    {"role": "assistant", "content": "Understood. I'll respond as Root:\n\n"}
]
```

Optionally, also support config-based prefill:
```json5
{
  agents: {
    defaults: {
      prefill: "Understood.\n\n"
    }
  }
}
```

## Alternatives considered

1. **Stronger system prompts** — Works but less effective than prefill for format enforcement
2. **External scripts** — Loses Clawdbot's session management, tools, and integrations
3. **Source code modification** — Not maintainable across updates

## Additional context

- [Anthropic Prefill Documentation](https://docs.anthropic.com/en/docs/build-with-claude/prompt-caching#prefilling-claudes-response)
- Prefill is a well-documented Claude API feature that's currently inaccessible through Clawdbot
- Similar to how `SOUL.md` customizes system prompt, `PREFILL.md` would customize response initiation

## Comments

### @minho3141 (2026-01-27)

My clawd said this is good idea idk


## Links

- None detected yet
