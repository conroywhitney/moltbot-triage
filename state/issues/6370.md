---
number: 6370
title: "[Windows] openclaw gateway stop exits with code 1 and no output - gateway does not stop"
author: henrybottter
created: 2026-02-01T15:50:32Z
updated: 2026-02-01T21:04:05Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6370
duplicate_of: null
related_issues: [6318]
blocks: []
blocked_by: []
---

## Description

## Summary

`openclaw gateway stop` via CLI exits with code 1 and produces no output â€” the gateway does not stop. This makes it impossible for agents or scripts to programmatically stop the gateway before maintenance operations (e.g., npm upgrades).

## Steps to Reproduce

```powershell
openclaw gateway stop
# Exit code: 1
# stdout: (empty)
# stderr: (empty)
```

The gateway continues running. Port 18789 remains in use.

## Expected Behavior

The command should:
1. Send a stop signal to the running gateway process
2. Wait for graceful shutdown (with timeout)
3. Confirm the gateway has stopped
4. Exit with code 0

## Actual Behavior

- Exit code 1
- No output at all (no error message, no status)
- Gateway continues running unchanged

## Impact

- **Agents cannot safely stop the gateway** before npm upgrades (which require file locks to be released)
- **Scripts and automation** that depend on `gateway stop` silently fail
- Users must manually kill the process or find the PID
- Combined with the EBUSY npm upgrade bug (#6318), this creates a dangerous upgrade path where the agent can't prepare the system

## Workaround

```powershell
# Find and kill gateway process manually
Get-Process -Name node | Where-Object {
    (Get-CimInstance Win32_Process -Filter "ProcessId = $($_.Id)").CommandLine -match 'openclaw.*gateway'
} | Stop-Process -Force
```

## Environment

- OpenClaw 2026.1.30, Windows 10
- Gateway started via Scheduled Task (OpenClaw Gateway)
- Node.js v24.13.0

## Comments


## Links

- None detected yet
