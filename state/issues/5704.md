---
number: 5704
title: "DeepSeek API compatibility: 'developer' role not supported"
author: gamerapper
created: 2026-01-31T21:29:35Z
updated: 2026-02-02T00:18:08Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/5704
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Problem

When using DeepSeek models (e.g., `deepseek/deepseek-chat`) through Clawdbot's `sessions_spawn` or model switching, the API returns an error:

```
400 Failed to deserialize the JSON body into the target type: messages[0].role: unknown variant `developer`, expected one of `system`, `user`, `assistant`, `tool`
```

## Cause

Clawdbot sends messages with the `developer` role (a newer OpenAI API feature), but DeepSeek's OpenAI-compatible API only supports the standard roles: `system`, `user`, `assistant`, `tool`.

## Expected Behavior

When calling DeepSeek (or other OpenAI-compatible APIs that don't support the `developer` role), Clawdbot should automatically convert `developer` role messages to `system` role.

## Reproduction Steps

1. Configure DeepSeek provider in clawdbot.json
2. Try to spawn a sub-agent with DeepSeek: `sessions_spawn` with `model: deepseek/deepseek-chat`
3. Observe the 400 error about unsupported `developer` role

## Workaround

Direct API calls via curl work fine - the issue is only when Clawdbot constructs the messages.

## Suggested Fix

In the OpenAI-completions adapter, add an option or auto-detection to convert `developer` role to `system` for providers that don't support it:
- A provider-level config option like `convertDeveloperToSystem: true`
- Or automatic fallback when receiving a 400 error about the role

## Environment

- Clawdbot version: 2026.1.24-2
- DeepSeek API: https://api.deepseek.com/v1
- Models affected: deepseek-chat, deepseek-coder

## Comments


## Links

- None detected yet
