---
number: 6028
title: "[Bug]: Modifying /.openclaw/openclaw.json always ends up in a crashed gateway"
author: NotMainstream
created: 2026-02-01T06:31:52Z
updated: 2026-02-01T09:27:12Z
labels: ["bug"]
assignees: []
comments_count: 3
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6028
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

We need an easier way to be able to do the setup. The wizard is not asking all the questions needed and if you miss something is hard to go back. I used Gemeni to guide me with CLI instructions to add settings to OpenClaw but most of them end up outputting an error and when I try to modify the openclaw.json file the system stopped working because it considers the file corrupt.
I spent over 12 hours of tries for 2 days by now guided by Gemeni, reinstalled the whole VPS 5 times and I still cannot achieve some basic tasks like do a basic setup in which I have a functional bot able to use a few skills and do something actually useful online. I see people on X.com showing that they managed to do crazy advanced tasks and I cannot manage to finish a basic initial setup. 
The most advanced step I got until now is to setup the API key for a model and for the Brave search and Telegram but as soon as i ask it to do anything useful it starts outputting errors after errors and nothing ever works past that. The whole thing is completely crashed now because of the corrupted openclaw.json file and doing the "openclaw doctor --fix" or restarting the wizard do not fix it successful.

## Environment

- Clawdbot version:  openclaw 2026.1.30
- OS: Ubuntu 24.04 VPS

## Comments

### @celestialgeeks (2026-02-01)

Same is happening with me, never felt this left behind in my life.
The transition from clawdbot to Moltbot to Openclaw has left root files clashing into each other , there is a scope for contribution on this , but out of my expertise . 

### @NotMainstream (2026-02-01)

So I`m not the only one felling left behind. I truly appreciate what Peter gifted the world with and it clearly the future of AI, but I really need to get on this train and for now all the doors seem locked and the train is catching fast speed.

Here is a summary of the configuration attempts and the specific problems I encountered just today:

1. The "Schema Wall" (CLI Validation Errors)
Attempt: Using openclaw config set to configure provider keys, session settings, and slugs.

Problem: The CLI consistently rejected commands with "Unrecognized key" errors (e.g., providers, session, compaction).

Description: This version of OpenClaw introduced a flattened schema and renamed internal keys (e.g., session.generateSlug became compaction.slugs). The CLI and the Engine appeared to be out of sync, causing the CLI to block valid configuration attempts because they didn't match its rigid, updated validation rules.

2. Manual JSON Configuration (Syntax Errors)
Attempt: Manually editing or using cat to write the openclaw.json file to bypass CLI validation.

Problem: SyntaxError: JSON5: invalid character '\"' at specific line/column numbers.

Description: JSON5 is extremely sensitive to formatting. Small errors—like a missing comma between blocks, a trailing comma in a list, or mismatched brackets—caused the entire bot engine to crash. The parser was unable to "read its own brain," resulting in a total paralysis of the gateway.

3. Web Search Integration (Argument & Path Errors)
Attempt: Running openclaw skills add web-search to enable Brave Search.

Problem: error: too many arguments for 'skills'.

Description: The CLI command for managing skills was changed to be strictly interactive. It no longer accepted sub-commands like add. Additionally, even when the Brave token was present in the JSON, the bot failed to search because the model wasn't explicitly linked to the tool in the configuration.

4. Brave Search API Rate Limiting
Attempt: Using the Free Tier of the Brave Search API.

Problem: Potential 429 Too Many Requests errors.

Description: The Free Tier is limited to 1 request per second. Without specific "throttling" settings in the JSON (delayBetweenRequests), OpenClaw’s agentic nature would trigger multiple searches simultaneously, causing the API to block the bot.

5. Authentication Conflicts (The "401" & "Anthropic" Errors)
Attempt: Setting up "Paid" models (OpenRouter Kimi) while the bot still had "ghost" session data.

Problem: Persistent 401 Unauthorized errors and prompts for Anthropic keys.

Description: The bot was trying to use background "worker" models (like Claude) for tasks like session naming (slug generation). Since no Anthropic key existed, it would crash or fail to respond. Old session files were "poisoning" new configurations by trying to use expired or incorrect authentication paths.

6. Gateway Start Blockage
Attempt: Starting the bot after restoring a backup .json file.

Problem: Gateway start blocked: set gateway.mode=local (current: unset).

Description: A new security feature in the 1.30 build requires an explicit gateway.mode to be set. Because the restored file was from an older version or incomplete, the bot refused to boot for safety reasons, appearing "broken" even though the file was technically a valid backup. 

7. In the last OpenClaw update it`s specified that it ships with FREE Kimi K2.5 + Kimi Coding but that option is not documented anywhere and it does not appear in the wizard.


I truly hope Peter will add an interface that we can access through CLI that is more functional than the wizard but at the same time easy enough to be used by a regular human being and not a experienced programmer. 

Maybe he is using Apple and he is not aware that the install script on a freshly installed and updated Ubuntu 24.04 VPS simply is not complete and not able to install any Skill from the wizard.

### @NotMainstream (2026-02-01)

I was lucky enough to have a mostly working backup for the .JSON file that I restored with:
cp ~/.openclaw/openclaw.json.bak ~/.openclaw/openclaw.json
I think this should be an automatic function to backup constantly the .JSON and offer to restore a previously known working version when using openclaw doctor --fix as it is a lifesaver. 
Somehow the bot works better now even thou that backup was not fully functional when i saved it.

I asked the bot to help me setup a Cloudflare tunnel and other tasks involvint web browsing and it keeps returning errors like: attempt failed early (JSON parsing error). and Invalid ui_lang: "en" parameter — Brave requires full locale codes like en-US






## Links

- None detected yet
