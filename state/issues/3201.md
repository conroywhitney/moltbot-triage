---
number: 3201
title: "diagnostics-otel plugin fails: Resource is not a constructor"
author: jfr992
created: 2026-01-28T07:33:52Z
updated: 2026-01-28T15:08:27Z
labels: ["bug", "extensions: diagnostics-otel"]
assignees: []
comments_count: 1
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3201
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description
The `diagnostics-otel` plugin fails to load with:
```
plugin service failed (diagnostics-otel): TypeError: _resources.Resource is not a constructor
```

## Steps to Reproduce
1. Enable the plugin:
```json
{
  "plugins": {
    "allow": ["diagnostics-otel"],
    "entries": { "diagnostics-otel": { "enabled": true } }
  },
  "diagnostics": {
    "enabled": true,
    "otel": {
      "enabled": true,
      "endpoint": "http://127.0.0.1:4318"
    }
  }
}
```
2. Restart gateway
3. Check logs: `cat /tmp/clawdbot/clawdbot-*.log | grep otel`

## Environment
- Clawdbot version: 2026.1.24-3
- Node: v25.4.0
- OS: macOS 15.6 (arm64)

## Expected
Plugin loads and exports traces/metrics to OTEL collector.

## Actual
Plugin crashes on startup due to OpenTelemetry SDK version mismatch.

Likely cause: The bundled @opentelemetry packages have breaking changes between versions. The plugin may need pinned versions or updated imports.

## Comments

### @barvhaim (2026-01-28)

+1


## Links

- None detected yet
