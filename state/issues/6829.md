---
number: 6829
title: "[Bug]: CLI inconsistency: `kimi-code-api-key` auth maps to `kimi-coding` provider but model IDs don't match"
author: cristianelias
created: 2026-02-02T03:08:59Z
updated: 2026-02-02T03:08:59Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6829
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

```markdown
## Summary

The `kimi-code-api-key` authentication option initializes the provider config with the ID `kimi-coding`. However, the CLI command `models set` silently accepts intuitiveâ€”but incorrectâ€”model IDs like `kimi-code/kimi-k2.5` or `kimi-coding/kimi-k2.5`.

Writing these invalid IDs to the config causes the gateway to fail upon restart. The actual working model ID is `kimi-coding/k2p5`, which is undocumented and only discoverable via `models list` after the fact.

## Steps to reproduce

1. Onboard with Kimi Code:
   ```bash
   openclaw onboard --auth-choice kimi-code-api-key --kimi-code-api-key <KEY>

```

2. Attempt to set the model (using the naming convention implied by other providers):
```bash
openclaw models set kimi-code/kimi-k2.5
# OR
openclaw models set kimi-coding/kimi-k2.5

```


3. Restart gateway and check logs:
```bash
docker restart openclaw
docker logs openclaw

```


4. Check available models to observe the discrepancy:
```bash
openclaw models list

```



## Expected behavior

The system should handle this in one of the following ways:

* **Validation:** The CLI should reject invalid model IDs immediately rather than writing them to the config.
* **Mapping:** `kimi-code/kimi-k2.5` should automatically map to the correct internal model ID (`k2p5`).
* **Documentation:** The documentation or help text should explicitly state that the required model ID is `kimi-coding/k2p5`.

## Actual behavior

The CLI reports success (`Updated ~/.openclaw/openclaw.json`) with the invalid model `kimi-coding/kimi-k2.5`. However, the model does not exist in the registry.

1. The gateway fails to start with an "Unknown model" error.
2. `models list` shows the configured model as "missing":
```text
kimi-coding/kimi-k2.5    default,configured,missing
kimi-coding/k2p5         configured,alias:Kimi K2.5

```



## Environment

* Clawdbot version: 2026.1.30 (76b5208)
* OS: Linux (Fish shell)
* Install method (pnpm/npx/docker/etc): Docker (`openclaw-openclaw-gateway` image)

## Logs or screenshots

**CLI Output:**

```text
ðŸ¦ž OpenClaw 2026.1.30 (76b5208)

Updated ~/.openclaw/openclaw.json
Default model: kimi-coding/kimi-k2.5

```

**Gateway Logs:**

```text
2026-02-02T02:56:18.476Z [gateway] agent model: kimi-coding/kimi-k2.5
2026-02-02T02:55:51.191Z Embedded agent failed before reply: Unknown model: kimi-coding/kimi-k2.5

```

**Workaround:**
Users must manually set the specific `k2p5` suffix:

```bash
openclaw models set kimi-coding/k2p5

```

```

```

## Comments


## Links

- None detected yet
