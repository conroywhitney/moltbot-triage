---
number: 6182
title: "exec tool fails with EBADF (spawn EBADF) after a few commands"
author: Belkouche
created: 2026-02-01T11:02:59Z
updated: 2026-02-01T21:04:22Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6182
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

The exec tool frequently fails with `spawn EBADF` (bad file descriptor) errors. The issue appears after running a few exec commands successfully, then all subsequent exec calls fail until the gateway is restarted.

## Reproduction

1. Start the gateway normally
2. Run several exec commands (typically 3-5 work fine)
3. Subsequent exec commands fail with: `{"status": "error", "tool": "exec", "error": "spawn EBADF"}`
4. Restarting the gateway (`gateway action=restart`) temporarily fixes it
5. After 1-3 more commands, the error returns

## Environment

- macOS (Darwin 25.3.0 arm64)
- Node v25.5.0
- Clawdbot latest
- Channel: WhatsApp

## Observations

- The error is transient but recurs frequently
- Simple commands like `echo test` also fail once the issue starts
- Gateway restart provides only temporary relief (1-3 commands)
- Issue persists across multiple restart cycles

## Expected Behavior

exec commands should work reliably without EBADF errors.

## Workaround

Currently none reliable. Manual command execution outside Clawdbot required.

## Comments


## Links

- None detected yet
