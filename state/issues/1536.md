---
number: 1536
title: "[Bug]: Mattermost plugin fails to load on startup during setup wizard"
author: blizzy78
created: 2026-01-23T20:38:08Z
updated: 2026-01-27T13:44:04Z
labels: ["bug"]
assignees: []
comments_count: 3
reactions_total: 3
url: https://github.com/moltbot/moltbot/issues/1536
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary
Mattermost plugin fails to load on startup, may be missing dependency `zod`.
(May be missing dependency `ws` as well.)

## Steps to reproduce
1. Install Clawdbot: `curl -fsSL https://clawd.bot/install.sh | bash`
2. During install wizard, select `mattermost` channel.
3. On question "Install Mattermost plugin?", select Yes.
4. Select to install from npm package.

## Expected behavior
No errors.

## Actual behavior
After repro steps, an error occurs: `.clawdbot/extensions/mattermost/index.ts: Error: Cannot find module 'zod'`

## Environment
- Clawdbot version: 2026.1.22 (c48751a)
- OS: Arch Linux
- Install method (pnpm/npx/docker/etc): Installer (https://clawd.bot/install.sh) inside a Docker container
- Node.js version: v24.13.0 (installed locally via nvm)

## Logs or screenshots
```
◇  Install Mattermost plugin?
│  Download from npm (@clawdbot/mattermost)
Downloading @clawdbot/mattermost…
Extracting /tmp/clawdbot-npm-pack-4jKp1L/clawdbot-mattermost-2026.1.22.tgz…
Installing to /home/clawdbot-tester/.clawdbot/extensions/mattermost…
20:26:14 [plugins] mattermost failed to load from /home/clawdbot-tester/.clawdbot/extensions/mattermost/index.ts: Error: Cannot find module 'zod'
Require stack:
- /home/clawdbot-tester/.clawdbot/extensions/mattermost/src/config-schema.ts
```

And later on:

```
◇  Channel setup ───────────────────────────────╮
│                                               │
│  mattermost does not support onboarding yet.  │
│                                               │
├───────────────────────────────────────────────╯
Config warnings:
- plugins.entries.mattermost: plugin mattermost: duplicate plugin id detected; later plugin may be overridden (/home/clawdbot-tester/.nvm/versions/node/v24.13.0/lib/node_modules/clawdbot/extensions/mattermost/index.ts)
```

## Comments

### @sunshinewithmoonlight (2026-01-27)

Similar errors.
```
◇  Install Mattermost plugin?
│  Download from npm (@clawdbot/mattermost)
Downloading @clawdbot/mattermost…
│
◇  Plugin install ───────────────────────────────────────────────────────────────────────────╮
│                                                                                            │
│  Failed to install @clawdbot/mattermost: npm pack failed: npm error code E404              │
│  npm error 404 Not Found - GET                                                             │
│  https://cdn.npmmirror.com/packages/%40clawdbot/mattermost/2026.1.22/mattermost-2026.1.22  │
│  .tgz                                                                                      │
│  npm error 404                                                                             │
│  npm error 404 The requested resource                                                      │
│  'https://registry.npmjs.org/@clawdbot/mattermost/-/mattermost-2026.1.22.tgz' could not    │
│  be found or you do not have permission to access it.                                      │
│  npm error 404 This package name is not valid, because                                     │
│  npm error 404 1. name can only contain URL-friendly characters                            │
│  npm error 404                                                                             │
│  npm error 404 Note that you can also install from a                                       │
│  npm error 404 tarball, folder, http url, or git url.                                      │
│  npm error A complete log of this run can be found in:                                     │
│  /Users/shine/.npm/_logs/2026-01-27T07_01_08_381Z-debug-0.log                              │
│                                                                                            │
├────────────────────────────────────────────────────────────────────────────────────────────╯
Plugin install failed: npm pack failed: npm error code E404
npm error 404 Not Found - GET https://cdn.npmmirror.com/packages/%40clawdbot/mattermost/2026.1.22/mattermost-2026.1.22.tgz
npm error 404
npm error 404  The requested resource 'https://registry.npmjs.org/@clawdbot/mattermost/-/mattermost-2026.1.22.tgz' could not be found or you do not have permission to access it.
npm error 404 This package name is not valid, because 
npm error 404  1. name can only contain URL-friendly characters
npm error 404
npm error 404 Note that you can also install from a
npm error 404 tarball, folder, http url, or git url.
npm error A complete log of this run can be found in: /Users/shine/.npm/_logs/2026-01-27T07_01_08_381Z-debug-0.log

```
And,
```
shine@1234deMacBook-Pro ~ [1]> npm i @clawdbot/mattermost
npm error code E404
npm error 404 Not Found - GET https://cdn.npmmirror.com/packages/%40clawdbot/mattermost/2026.1.22/mattermost-2026.1.22.tgz
npm error 404
npm error 404  The requested resource '@clawdbot/mattermost@https://registry.npmmirror.com/@clawdbot/mattermost/-/mattermost-2026.1.22.tgz' could not be found or you do not have permission to access it.
npm error 404
npm error 404 Note that you can also install from a
npm error 404 tarball, folder, http url, or git url.
npm error A complete log of this run can be found in: /Users/shine/.npm/_logs/2026-01-27T07_12_48_556Z-debug-0.log
```

### @douloveppt (2026-01-27)

no permission

### @blizzy78 (2026-01-27)

The 404 might be related to the Moltbot rename, but I'm just guessing. Doesn't seem related to the original issue.


## Links

- None detected yet
