---
number: 4424
title: "Slack: second thread reply routes to main channel when two messages arrive before first reply"
author: kmgroen
created: 2026-01-30T06:25:38Z
updated: 2026-01-31T02:31:14Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/4424
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug

When a user sends two messages in a Slack thread before the bot has replied to the first, the bot's reply to the second message sometimes goes to the **main channel** instead of staying in the thread.

## Expected behavior
Both replies should stay in the thread, regardless of how many messages arrive before the bot responds.

## Actual behavior
The first reply goes to the correct thread. The second reply escapes to the main channel as a top-level message.

## Config
```json
"replyToMode": "all"
```

Threading is set to `all`, so all replies should be threaded. The issue appears to be a concurrency/queueing edge case where the second queued response loses its `thread_ts` context during dispatch.

## Steps to reproduce
1. Open a Slack channel with Moltbot connected (`replyToMode: "all"`)
2. Start a thread
3. Send two messages in quick succession (before bot replies to the first)
4. Observe: first reply → thread ✅, second reply → main channel ❌

## Environment
- Moltbot version: 2026.1.27-beta.1
- Channel: Slack (socket mode)
- OS: macOS (Apple Silicon)

## Comments


## Links

- None detected yet
