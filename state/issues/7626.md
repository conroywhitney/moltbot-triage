---
number: 7626
title: "Gateway ignores gateway.port config and --port CLI flag"
author: arunsanna
created: 2026-02-03T02:06:44Z
updated: 2026-02-03T02:06:44Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/7626
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Bug Description

The gateway ignores the `gateway.port` setting in `~/.openclaw/openclaw.json` and the `--port` CLI flag. It always starts on the default port (18789) unless `OPENCLAW_GATEWAY_PORT` env var is set.

## Steps to Reproduce

1. Set port in config:
   ```bash
   openclaw config set gateway.port 19001
   ```

2. Verify config is correct:
   ```bash
   openclaw config get gateway.port
   # Returns: 19001
   ```

3. Start gateway with explicit port flag:
   ```bash
   openclaw gateway run --bind loopback --port 19001
   ```

4. **Expected:** Gateway listens on port 19001
5. **Actual:** Gateway listens on port 18789

## Workaround

Use the environment variable (which IS respected):
```bash
OPENCLAW_GATEWAY_PORT=19001 openclaw gateway run --bind lan
```

## Investigation Notes

The code flow appears correct:
- `src/cli/gateway-cli/run.ts:101` calls `resolveGatewayPort(cfg)` which should return config port
- `src/config/paths.ts:247-251` checks `cfg?.gateway?.port` and returns it if valid
- Config loading via `loadConfig()` correctly returns `gateway.port: 19001`

Yet the port value reaching `startGatewayServer()` is 18789.

The macOS app correctly reads the config port (shows 19001 in autodiscover mode), but the Node gateway uses 18789.

## Impact

- Mobile apps configured for port 19001 cannot connect to gateway
- Version mismatch warnings between app and gateway
- Confusing behavior where config appears correct but is ignored

## Environment

- openclaw version: 2026.2.1
- macOS

## Comments


## Links

- None detected yet
