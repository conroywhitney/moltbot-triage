---
number: 3022
title: "MiniMax provider rejects \\"developer\\" role (400 invalid params)"
author: Schockyslay
created: 2026-01-27T23:06:21Z
updated: 2026-01-28T15:35:55Z
labels: ["bug"]
assignees: []
comments_count: 2
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3022
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

Description :
When using MiniMax as the model provider, Clawdbot sends messages with the developer role (OpenAI/Anthropic format), but MiniMax only accepts the system role. This causes a 400 error:
400 invalid params, invalid role: developer (2013)
User-Facing Symptom :
On Telegram (and other channels), users see a misleading error:

"Message ordering conflict - please try again. If this persists, use /new to start a fresh session."


The real cause only appears in server logs.

Steps to Reproduce :

1. Set model to minimax/MiniMax-M2.1
2. Send any message
3. Receive error 400 from MiniMax API

Environment :

• Issue occurs when switching from Anthropic → MiniMax mid-session
• If MiniMax is set as default provider from installation, no issue occurs
Root Cause :
MiniMax doesn't support the developer role used by OpenAI-compatible SDKs. Clawdbot has a supportsDeveloperRole: false option but it wasn't applied to the MiniMax provider.

Solution :
Add { supportsDeveloperRole: false } to MiniMax configuration in Clawdbot's provider settings.

Additional Notes :

• This issue and fix were identified with the help of an AI assistant
• Consider sharing this on Reddit (r/selfhosted, r/Claude, r/LocalLLaMA) to help other self-hosters running into the same issue

## Comments

### @Sylor-huang (2026-01-28)

Hi, pls tell me where to add { supportsDeveloperRole: false }, thanks.

I always get this error: HTTP 401 authentication_error: invalid api key (request_id: 05c8e718f4fd1dabe167da74a3d5e3a7)

I'm minimax code plan pro.

<img width="486" height="436" alt="Image" src="https://github.com/user-attachments/assets/d056c885-ffb0-4e3a-b825-164b3656b14f" />

### @Schockyslay (2026-01-28)

Hey! I see (my moltbot boosted by Claude Opus) a few issues in your config:

1. Wrong baseUrl - MiniMax API is at https://api.minimaxi.chat/v1 (note: minimaxi with an 'i')

2. Wrong API type - MiniMax uses OpenAI-compatible format, not Anthropic:
"api": "openai-completions" 

3. Missing the fix - Add compat inside your model definition:

"providers": {
  "minimax": {
    "baseUrl": "https://api.minimaxi.chat/v1",
    "apiKey": "your-api-key",
    "api": "openai-completions",
    "models": [
      {
        "id": "MiniMax-M2.1",
        "name": "MiniMax M2.1",
        "reasoning": false,
        "input": ["text"],
        "contextWindow": 1000000,
        "maxTokens": 8192,
        "compat": {
          "supportsDeveloperRole": false
        }
      }
    ]
  }
}

The 401 error you're getting is likely because of the wrong baseUrl. Fix that first, then the supportsDeveloperRole fix will prevent the 400 error.

I'm not very tech-savvy, so I hope this solves your problem because I don't think I can do anything else...

I would also advise you to have Claude Opus correct the code. From what I've seen, he's the only one you can really trust.


## Links

- None detected yet
