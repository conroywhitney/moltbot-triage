---
number: 4347
title: "Per-topic/session defaults for model, thinking level, and agent settings"
author: matthewspear
created: 2026-01-30T03:50:36Z
updated: 2026-01-30T03:50:36Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4347
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

# Feature Request: Per-Topic/Session Defaults

## Draft GitHub Issue

**Title:** Per-topic/session defaults for model, thinking level, and agent settings

---

### Problem

Currently, Clawdbot supports per-group and per-topic config for Telegram (and similar structures for other channels), but the available settings are limited to:
- `requireMention`
- `skills`
- `enabled`
- `allowFrom`
- `systemPrompt`

There's no way to configure **per-topic defaults** for:
- `model` (primary + fallbacks)
- `thinkingDefault` (off/low/medium/high)
- `verboseDefault`
- Other agent-level settings

### Use Case

I use a Telegram forum supergroup with multiple topics for different purposes:
- **General** — casual chat, quick questions → Sonnet + low thinking (cost-efficient)
- **Autonomous** — complex coding/research tasks → Opus + medium/high thinking
- **Projects** — focused work on specific projects → project-specific model/settings

Without per-topic defaults, I have to:
1. Manually `/reasoning` toggle per topic
2. Accept the same model/cost profile across all contexts
3. Use workarounds like memory notes or systemPrompt hints

### Proposed Solution

Extend the topic/channel/group config schema to support agent-level overrides:

```yaml
channels:
  telegram:
    groups:
      "-1003756633245":
        topics:
          "266":  # General
            model: sonnet
            thinkingDefault: low
          "8":    # Autonomous
            model: opus
            thinkingDefault: medium
            verboseDefault: "on"
```

Alternatively, a more general "session defaults by key pattern" approach:

```yaml
session:
  defaults:
    byKeyPattern:
      "agent:main:telegram:group:*:topic:266":
        model: sonnet
        thinkingDefault: low
      "agent:main:telegram:group:*:topic:8":
        model: opus
        thinkingDefault: medium
```

### Benefits

1. **Cost control** — Use cheaper models for casual chat, expensive models for complex work
2. **Context-appropriate reasoning** — Higher thinking budgets only where needed
3. **Reduced manual toggling** — Set once, applies automatically
4. **Multi-purpose setups** — Same bot, different behaviors per channel/topic

### Workarounds Considered

- **systemPrompt per topic** — Limited, can't actually change model/thinking
- **Runtime session_status override** — Not persisted, no thinking support
- **Memory notes** — Manual, error-prone

### Related

- Per-session model override already exists via `session_status` tool
- Thinking level is per-session but set via `/reasoning` command, not config

---

## Notes

- This came up when trying to optimize costs (Opus is expensive, don't need it for quick chat)
- Telegram topics are the immediate use case, but applies to Discord channels, Slack channels, etc.

## Comments


## Links

- None detected yet
