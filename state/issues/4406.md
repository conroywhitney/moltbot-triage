---
number: 4406
title: "spawn EBADF on every exec call (macOS Sequoia / Node 22 / ARM64)"
author: jordanhatch82
created: 2026-01-30T05:44:39Z
updated: 2026-01-30T05:44:39Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4406
duplicate_of: null
related_issues: [1484]
blocks: []
blocked_by: []
---

## Description

Environment:

Clawdbot: 2026.1.24-3
Node: v22.22.0
macOS: Darwin 24.6.0 (Sequoia) ARM64 (Mac mini)
Shell: zsh
Description:
Every exec tool call fails immediately with spawn EBADF. Both PTY and non-PTY modes fail. The fallback mechanism triggers ("retrying with no-detach") but also fails.

Log output:

[exec] spawn failed (spawn EBADF syscall=spawn errno=-9); retrying with no-detach.
[tools] exec failed: spawn EBADF
Confirmed working:
Basic Node spawn outside Clawdbot works fine:

node -e "require('child_process').execSync('echo hello', {stdio: 'inherit'})"
Tried without success:

ulimit -n 65536
UV_THREADPOOL_SIZE=4
Disabling voice-call plugin
Disabling Tailscale serve
Fresh gateway restart from correct cwd
Killing all clawdbot processes and starting fresh
Related: #1484 (fix doesn't cover this case)

## Comments


## Links

- None detected yet
