---
number: 3102
title: "Subagent announcement sent to WhatsApp using Telegram user ID as phone number"
author: MoeAlhassan
created: 2026-01-28T03:24:08Z
updated: 2026-01-28T05:54:44Z
labels: ["bug"]
assignees: []
comments_count: 1
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/3102
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Environment
- Clawdbot version: 2026.1.24-3
- macOS Darwin 25.2.0 (arm64)
- Both WhatsApp and Telegram plugins enabled

## What happened
When a subagent completed and announced results back to a Telegram session, the message was ALSO incorrectly sent to WhatsApp, using the Telegram user ID as the WhatsApp destination.

## Reproduction
1. Have both WhatsApp and Telegram channels enabled
2. Chat via Telegram (user ID: `XXX`)
3. Spawn a subagent that announces back to the session
4. Subagent completion message gets sent to both:
   - ✅ Telegram (correct)
   - ❌ WhatsApp at `xxx@s.whatsapp.net` (WRONG - this is the Telegram ID, not a phone number)

## Logs
```
2026-01-28T03:04:36.106Z [message content...]
2026-01-28T03:04:36.112Z [whatsapp] Sending message -> XXX@s.whatsapp.net
2026-01-28T03:04:36.601Z [whatsapp] Sent message -> XXX@s.whatsapp.net (485ms)
```

## Config (allowlists are correct)
```json
"whatsapp": { "dmPolicy": "allowlist", "allowFrom": ["+XXX"] },
"telegram": { "dmPolicy": "allowlist", "allowFrom": ["XXX"] }
```

## Expected behavior
- Subagent announcements should ONLY route to originating channel
- Telegram user IDs should NEVER be interpreted as WhatsApp phone numbers
- Cross-channel routing should validate destination format

## Impact
Privacy violation - message sent to random person in the country where the ID matched the country code. User had to manually delete.

## Comments

### @digitalzany (2026-01-28)

Have the same issue even without WhatsApp channel enabled. I have only Telegram enabled.
```
03:30:38 error Delivery failed (whatsapp to XXXXXXXXX): Error: Unknown channel: whatsapp
03:30:38 info gateway/ws {"subsystem":"gateway/ws"} ⇄ res ✗ agent errorCode=UNAVAILABLE errorMessage=Error: Outbound not configured for channel: whatsapp runId= XXXXXXXXX error=Error: Outbound not configured for channel: whatsapp conn= XXXXXXXXX id= XXXXXXXXX
03:30:38 error Subagent announce failed: Error: Error: Outbound not configured for channel: whatsapp
```


## Links

- None detected yet
