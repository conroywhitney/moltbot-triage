---
number: 4382
title: "Config: Support environment variable interpolation in moltbot.json"
author: tonydehnke
created: 2026-01-30T05:03:48Z
updated: 2026-01-30T05:03:48Z
labels: []
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4382
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Summary

When configuring sensitive values like API keys in `moltbot.json`, users must currently hardcode secrets directly in the config file. This creates security concerns and makes config management harder across environments.

## Current Behavior

```json
{
  "browser": {
    "profiles": {
      "browserless": {
        "cdpUrl": "https://production-sfo.browserless.io?token=abc123secretkey"
      }
    }
  }
}
```

If you try to use environment variable syntax:
```json
{
  "browser": {
    "profiles": {
      "browserless": {
        "cdpUrl": "https://production-sfo.browserless.io?token=${BROWSERLESS_API_KEY}"
      }
    }
  }
}
```

Moltbot fails with:
```
Config invalid
Problem:
  - <root>: Missing env var "BROWSERLESS_API_KEY" referenced at config path: browser.profiles.browserless.cdpUrl
```

This error message suggests env var interpolation is partially implemented but not working.

## Expected Behavior

Environment variables should be resolved at config load time:

```json
{
  "browser": {
    "profiles": {
      "browserless": {
        "cdpUrl": "https://production-sfo.browserless.io?token=${BROWSERLESS_API_KEY}"
      }
    }
  }
}
```

With `BROWSERLESS_API_KEY=abc123` in the environment, this should resolve to the full URL at runtime.

## Use Cases

1. **Remote CDP profiles** - API keys for Browserless.io, similar services
2. **Model provider keys** - Already handled via env vars, but custom providers may need inline keys
3. **Webhook URLs with auth** - Signing secrets, bearer tokens
4. **Multi-environment configs** - Same config file, different secrets per environment

## Suggested Implementation

- Support `${VAR_NAME}` syntax in string values
- Resolve at config load time
- Fail with clear error if env var is missing (current behavior is good)
- Optionally support `${VAR_NAME:-default}` for defaults

## Workaround

Currently users must hardcode secrets in `moltbot.json`, which:
- Risks accidental commits of secrets
- Makes config sharing harder
- Prevents using the same config across dev/staging/prod

## Environment

- Moltbot: 2026.1.27-beta.1
- Platform: Docker on Linux

## Comments


## Links

- None detected yet
