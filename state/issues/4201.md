---
number: 4201
title: "Telegram: Braille blank characters (U+2800) stripped from messages"
author: kwad-pylot
created: 2026-01-29T21:23:45Z
updated: 2026-01-31T02:33:08Z
labels: ["bug"]
assignees: []
comments_count: 2
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/4201
duplicate_of: null
related_issues: [4174]
blocks: []
blocked_by: []
---

## Description

## Description

Braille blank characters (`‚†Ä` U+2800) used for indentation are being stripped from Telegram messages, causing formatting to break.

### Expected behavior
Messages with braille blanks for indentation should preserve spacing:
```
‚†Ä‚Ä¢ Main bullet
‚†Ä‚†Ä‚ó¶ Sub-bullet (indented)
```

### Actual behavior
Braille blanks are stripped, sub-bullets lose indentation:
```
‚Ä¢ Main bullet
‚ó¶ Sub-bullet (no indent)
```

### Why braille blanks?
Regular spaces get collapsed/stripped by Telegram. Braille blank (U+2800) is a common workaround for preserving whitespace in Telegram messages.

### Environment
- Clawdbot version: 2026.1.24-3
- Channel: Telegram

### Possible fix locations
- `telegram/format.js` - check if braille blanks are being stripped during markdown processing
- Message sanitization layer

Related: #4174 (emoji + bold formatting fix)

## Comments

### @kwad-pylot (2026-01-29)

## Investigation

Checked `telegram/format.js` and `markdown/ir.js` ‚Äî no obvious stripping of braille blanks in Clawdbot's code.

**Likely cause:** Telegram's HTML parser normalizes/collapses whitespace-like characters when processing messages with `parse_mode: HTML`.

**Potential fix directions:**

1. **Replace braille blanks with HTML non-breaking spaces** in the final output:
   ```javascript
   // In format.js or send.js, before sending:
   html = html.replace(/\u2800/g, '&nbsp;');
   ```

2. **Use zero-width joiners** to protect the braille blanks:
   ```javascript
   html = html.replace(/\u2800/g, '\u2800\u200D'); // braille + ZWJ
   ```

3. **Use pre-formatted sections** for indented content (but this changes styling)

The `&nbsp;` approach is probably cleanest since it's designed for this exact use case.

### @kwad-pylot (2026-01-29)

## Fix Applied & Tested ‚úÖ

Added preprocessing in `telegram/format.js` to preserve extra spacing before section headers:

```javascript
// Fix 2: Preserve extra spacing before section headers (emoji-prefixed lines)
// Only add extra spacing when triple+ newlines precede a section header (emoji or ***)
text = text.replace(/\n\n\n+([\u{1F300}-\u{1F9FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}\u{1F600}-\u{1F64F}\u{1F680}-\u{1F6FF}\u{1F1E0}-\u{1F1FF}*#-])/gu, '\n\n\u200B\n\n$1');
```

This goes in the `preprocessMarkdown()` function alongside the existing emoji fix.

**What it does:**
- Preserves double blank lines **only** before section headers (emoji-prefixed lines like üî•, ‚ö†Ô∏è, etc.)
- Regular spacing between numbered items stays single-spaced
- Uses zero-width space to prevent markdown from collapsing the extra newlines

**Before:** All spacing collapsed, lists look cramped
**After:** Clean separation between sections, tight grouping within sections

Tested on Telegram ‚Äî works well!


## Links

- None detected yet
