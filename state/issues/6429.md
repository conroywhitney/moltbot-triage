---
number: 6429
title: "Skills watcher should ignore .venv, __pycache__, and common Python directories"
author: mudgesbot
created: 2026-02-01T17:07:32Z
updated: 2026-02-01T21:03:57Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/openclaw/openclaw/issues/6429
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Problem

The skills file watcher currently ignores only:
- `.git`
- `node_modules`
- `dist`

When installing Python-based skills that require a virtual environment, creating a `.venv` inside the skill directory causes the watcher to monitor **thousands of files** (scipy alone has 1000+ test files). This quickly hits the OS file descriptor limit:

```
Error: EMFILE: too many open files, watch '.../skills/whisper-mlx-local/.venv/lib/python3.12/site-packages/scipy/...'
```

This crashes the gateway completely.

## Suggested Fix

Add common Python directories to `DEFAULT_SKILLS_WATCH_IGNORED` in `refresh.js`:

```javascript
export const DEFAULT_SKILLS_WATCH_IGNORED = [
    /(^|[\\/])\.git([\\/]|$)/,
    /(^|[\\/])node_modules([\\/]|$)/,
    /(^|[\\/])dist([\\/]|$)/,
    // Python
    /(^|[\\/])\.venv([\\/]|$)/,
    /(^|[\\/])venv([\\/]|$)/,
    /(^|[\\/])__pycache__([\\/]|$)/,
    /(^|[\\/])\.pytest_cache([\\/]|$)/,
    // Other common
    /(^|[\\/])\.cache([\\/]|$)/,
];
```

## Workaround

Currently the only workaround is to create the venv **outside** the skills directory, which is awkward for skill packaging and distribution.

## Environment

- OpenClaw 2026.1.30
- macOS (Apple Silicon)
- Skill: whisper-mlx-local (local Whisper transcription)

## Comments


## Links

- None detected yet
