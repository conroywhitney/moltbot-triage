---
number: 4370
title: "OpenAI batch embedding mode causes process SIGKILL during memory indexing"
author: spiceoogway
created: 2026-01-30T04:36:48Z
updated: 2026-01-31T02:31:29Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 1
url: https://github.com/openclaw/openclaw/issues/4370
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

The memory indexing system hangs indefinitely and eventually receives SIGKILL when using OpenAI's batch embedding mode.

## Details

- **Component**: Memory indexing system ()
- **Mode**: OpenAI batch embedding mode
- **Symptom**: Process hangs indefinitely while polling batch status
- **Result**: System eventually sends SIGKILL to terminate the hung process

## Expected Behavior

The batch embedding process should:
1. Submit batch request successfully
2. Poll status with reasonable timeout/retry logic
3. Complete or fail gracefully
4. Never hang indefinitely

## Actual Behavior

The process:
1. Submits batch request
2. Enters polling loop for batch status
3. Hangs indefinitely (no progress, no timeout)
4. Eventually killed by system (SIGKILL)

## Impact

- Memory indexing cannot complete
- Blocks users from using batch embedding mode
- No graceful error handling or recovery

## Environment

- Platform: macOS (Darwin 25.0.0)
- Node: v24.5.0
- OpenAI batch API

## Suggested Fix Areas

1. Add timeout to batch status polling
2. Implement retry logic with exponential backoff
3. Add graceful failure handling if batch gets stuck
4. Consider fallback to non-batch mode after N failures

## Related

This is blocking production use of batch embedding mode for cost optimization.

## Comments


## Links

- None detected yet
