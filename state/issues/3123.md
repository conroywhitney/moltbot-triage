---
number: 3123
title: "Webchat persists model override across new sessions"
author: Lemmingtons
created: 2026-01-28T04:12:30Z
updated: 2026-01-28T05:54:31Z
labels: ["bug"]
assignees: []
comments_count: 0
reactions_total: 0
url: https://github.com/moltbot/moltbot/issues/3123
duplicate_of: null
related_issues: []
blocks: []
blocked_by: []
---

## Description

## Description

When a user switches models via `/model` in webchat, the preference is stored in browser localStorage. This override persists even when clicking "New Session", causing new sessions to start on the overridden model instead of the gateway-configured default.

## Expected Behavior

Clicking "New Session" should start fresh with the model specified in gateway config (`agents.defaults.model.primary` or agent-specific `model.primary`).

## Actual Behavior

New sessions inherit the localStorage model preference, ignoring the server-side default.

## Workaround

Clear localStorage for the gateway URL:
- DevTools → Application → Local Storage → [gateway URL] → Clear
- Or run `localStorage.clear()` in console

## Environment

- Clawdbot: 2026.1.24-3 (885167d)
- Browser: Chrome (macOS)
- Gateway config has `google/gemini-3-pro-preview` as primary, but new sessions start on `anthropic/claude-opus-4-5`

## Suggested Fix

Either:
1. Don't persist model overrides in localStorage at all
2. Clear model preference when "New Session" is clicked
3. Add a "reset to default" option that clears the stored preference

## Comments


## Links

- None detected yet
